/*! For license information please see test.bundle.js.LICENSE.txt */
(()=>{var t={542:(t,e,r)=>{"use strict";var n={};r.r(n),r.d(n,{BaseTextureCache:()=>ga,CanvasRenderTarget:()=>va,DATA_URI:()=>xa,EventEmitter:()=>Bs(),ProgramCache:()=>da,TextureCache:()=>ya,clearTextureCache:()=>ba,correctBlendMode:()=>Js,createIndicesForQuads:()=>ea,decomposeDataUri:()=>Oa,deprecation:()=>pa,destroyTextureCache:()=>ma,determineCrossOrigin:()=>Sa,earcut:()=>Ns(),getBufferType:()=>ra,getResolutionOfUrl:()=>Pa,hex2rgb:()=>Ys,hex2string:()=>Vs,interleaveTypedArrays:()=>ia,isMobile:()=>Ms,isPow2:()=>sa,isWebGLSupported:()=>Gs,log2:()=>aa,nextPow2:()=>oa,premultiplyBlendMode:()=>Zs,premultiplyRgba:()=>$s,premultiplyTint:()=>Qs,premultiplyTintToRgba:()=>ta,removeItems:()=>ua,rgb2hex:()=>Ks,sayHello:()=>Xs,sign:()=>la,skipHello:()=>Hs,string2hex:()=>qs,trimCanvas:()=>_a,uid:()=>ha,url:()=>Us});var i={};r.r(i),r.d(i,{ALPHA_MODES:()=>fs,AbstractBatchRenderer:()=>vc,AbstractRenderer:()=>hc,AccessibilityManager:()=>ru,AnimatedSprite:()=>Fp,AppLoaderPlugin:()=>th,Application:()=>Tc,Attribute:()=>Hu,BLEND_MODES:()=>is,BUFFER_BITS:()=>ns,BasePrepare:()=>hf,BaseRenderTexture:()=>Du,BaseTexture:()=>xu,BatchDrawCall:()=>gc,BatchGeometry:()=>wc,BatchPluginFactory:()=>Sc,BatchRenderer:()=>Pc,BatchShaderGenerator:()=>_c,BatchTextureArray:()=>mc,BitmapFont:()=>Hf,BitmapFontData:()=>Lf,BitmapFontLoader:()=>Vf,BitmapText:()=>Yf,Bounds:()=>Va,Buffer:()=>Gu,CLEAR_MODES:()=>ps,Circle:()=>ja,Container:()=>Qa,CountLimiter:()=>rf,DEG_TO_RAD:()=>Aa,DRAW_MODES:()=>os,DisplayObject:()=>Za,ENV:()=>es,Ellipse:()=>Ca,Extract:()=>Ac,FORMATS:()=>ss,FillStyle:()=>lh,Filter:()=>Wl,FilterState:()=>rl,Framebuffer:()=>Lu,GC_MODES:()=>ds,GLFramebuffer:()=>ul,GLProgram:()=>ec,GLTexture:()=>ac,GRAPHICS_CURVES:()=>uh,Geometry:()=>Ju,Graphics:()=>Nh,GraphicsData:()=>Ch,GraphicsGeometry:()=>Lh,IGLUniformData:()=>tc,InteractionData:()=>su,InteractionEvent:()=>uu,InteractionManager:()=>pu,InteractionTrackingData:()=>lu,LINE_CAP:()=>ih,LINE_JOIN:()=>nh,LineStyle:()=>Dh,Loader:()=>Qc,LoaderResource:()=>Zc,MASK_TYPES:()=>gs,MIPMAP_MODES:()=>hs,MSAA_QUALITY:()=>ms,MaskData:()=>dl,Matrix:()=>Ba,Mesh:()=>jf,MeshBatchUvs:()=>Rf,MeshGeometry:()=>kf,MeshMaterial:()=>Cf,NineSlicePlane:()=>Dp,ObjectRenderer:()=>il,ObservablePoint:()=>Da,PI_2:()=>Ea,PRECISION:()=>ys,ParticleContainer:()=>oh,ParticleRenderer:()=>ah,PlaneGeometry:()=>jp,Point:()=>La,Polygon:()=>ka,Prepare:()=>yf,Program:()=>Fl,Quad:()=>$u,QuadUv:()=>Qu,RAD_TO_DEG:()=>Ra,RENDERER_TYPE:()=>rs,Rectangle:()=>Ia,RenderTexture:()=>Wu,RenderTexturePool:()=>zu,Renderer:()=>fc,RopeGeometry:()=>Cp,RoundedRectangle:()=>Ma,Runner:()=>du,SCALE_MODES:()=>ls,SHAPES:()=>Ta,Shader:()=>Nl,SimpleMesh:()=>Lp,SimplePlane:()=>Mp,SimpleRope:()=>kp,Sprite:()=>Hh,SpriteMaskFilter:()=>Xl,Spritesheet:()=>mf,SpritesheetLoader:()=>bf,State:()=>Ul,System:()=>ku,TARGETS:()=>as,TEXT_GRADIENT:()=>xh,TYPES:()=>us,TemporaryDisplayObject:()=>Ja,Text:()=>tf,TextMetrics:()=>Jh,TextStyle:()=>Vh,Texture:()=>Nu,TextureLoader:()=>$c,TextureMatrix:()=>Hl,TextureUvs:()=>Bu,Ticker:()=>iu,TickerPlugin:()=>ou,TilingSprite:()=>xf,TilingSpriteRenderer:()=>Pf,TimeLimiter:()=>gf,Transform:()=>Ya,UPDATE_PRIORITY:()=>eu,UniformGroup:()=>el,VERSION:()=>Hp,ViewableBuffer:()=>bc,WRAP_MODES:()=>cs,accessibleTarget:()=>tu,autoDetectRenderer:()=>pc,checkMaxIfStatementsInShader:()=>Ll,defaultFilterVertex:()=>yc,defaultVertex:()=>dc,filters:()=>Xp,graphicsUtils:()=>jh,groupD8:()=>Ga,interactiveTarget:()=>hu,isMobile:()=>Ms,resources:()=>Cu,settings:()=>Ls,systems:()=>lc,uniformParsers:()=>Il,useDeprecated:()=>zp,utils:()=>n});var o=/[achlmqstvz]|(-?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,s=/(?:(-)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,a=/[\+\-]?\d*\.?\d+e[\+\-]?\d+/gi,u=/(^[#\.][a-z]|[a-y][a-z])/i,l=Math.PI/180,c=180/Math.PI,h=Math.sin,f=Math.cos,p=Math.abs,d=Math.sqrt,y=Math.atan2,g=1e8,m=function(t){return"string"==typeof t},b=function(t){return"number"==typeof t},v={},_={},w=1e5,x=function(t){return Math.round((t+g)%1*w)/w||(t<0?0:1)},O=function(t){return Math.round(t*w)/w||0},S=function(t){return Math.round(1e10*t)/1e10||0},P=function(t,e,r,n){var i=t[e],o=1===n?6:L(i,r,n);if(o&&o+r+2<i.length)return t.splice(e,0,i.slice(0,r+o+2)),i.splice(0,r+o),1},T=function(t,e){return e.totalLength=t.totalLength,t.samples?(e.samples=t.samples.slice(0),e.lookup=t.lookup.slice(0),e.minLength=t.minLength,e.resolution=t.resolution):t.totalPoints&&(e.totalPoints=t.totalPoints),e},E=function(t,e){var r=t.length,n=t[r-1]||[],i=n.length;r&&e[0]===n[i-2]&&e[1]===n[i-1]&&(e=n.concat(e.slice(2)),r--),t[r]=e};function R(t){var e,r=(t=m(t)&&u.test(t)&&document.querySelector(t)||t).getAttribute?t:0;return r&&(t=t.getAttribute("d"))?(r._gsPath||(r._gsPath={}),(e=r._gsPath[t])&&!e._dirty?e:r._gsPath[t]=U(t)):t?m(t)?U(t):b(t[0])?[t]:t:console.warn("Expecting a <path> element or an SVG path data string")}function A(t){var e,r=0;for(t.reverse();r<t.length;r+=2)e=t[r],t[r]=t[r+1],t[r+1]=e;t.reversed=!t.reversed}var I={rect:"rx,ry,x,y,width,height",circle:"r,cx,cy",ellipse:"rx,ry,cx,cy",line:"x1,x2,y1,y2"};function j(t,e,r){var n,i=t[e],o=t[e+2],s=t[e+4];return i+=(o-i)*r,i+=((o+=(s-o)*r)-i)*r,n=o+(s+(t[e+6]-s)*r-o)*r-i,i=t[e+1],i+=((o=t[e+3])-i)*r,i+=((o+=((s=t[e+5])-o)*r)-i)*r,O(y(o+(s+(t[e+7]-s)*r-o)*r-i,n)*c)}function C(t,e,r){r=void 0===r?1:S(r)||0,e=S(e)||0;var n=Math.max(0,~~(p(r-e)-1e-8)),i=function(t){for(var e=[],r=0;r<t.length;r++)e[r]=T(t[r],t[r].slice(0));return T(t,e)}(t);if(e>r&&(e=1-e,r=1-r,function(t,e){var r=t.length;for(t.reverse();r--;)t[r].reversed||A(t[r])}(i),i.totalLength=0),e<0||r<0){var o=Math.abs(~~Math.min(e,r))+1;e+=o,r+=o}i.totalLength||M(i);var s,a,u,l,c,h,f,d,y=r>1,g=D(i,e,v,!0),m=D(i,r,_),b=m.segment,w=g.segment,x=m.segIndex,O=g.segIndex,R=m.i,I=g.i,C=O===x,k=R===I&&C;if(y||n){for(s=x<O||C&&R<I||k&&m.t<g.t,P(i,O,I,g.t)&&(O++,s||(x++,k?(m.t=(m.t-g.t)/(1-g.t),R=0):C&&(R-=I))),1-(r-e)<1e-5?x=O-1:!m.t&&x?x--:P(i,x,R,m.t)&&s&&O++,1===g.t&&(O=(O+1)%i.length),c=[],f=1+(h=i.length)*n,d=O,f+=(h-O+x)%h,l=0;l<f;l++)E(c,i[d++%h]);i=c}else if(u=1===m.t?6:L(b,R,m.t),e!==r)for(a=L(w,I,k?g.t/m.t:g.t),C&&(u+=a),b.splice(R+u+2),(a||I)&&w.splice(0,I+a),l=i.length;l--;)(l<O||l>x)&&i.splice(l,1);else b.angle=j(b,R+u,0),g=b[R+=u],m=b[R+1],b.length=b.totalLength=0,b.totalPoints=i.totalPoints=8,b.push(g,m,g,m,g,m,g,m);return i.totalLength=0,i}function k(t,e,r){e=e||0,t.samples||(t.samples=[],t.lookup=[]);var n,i,o,s,a,u,l,c,h,f,y,m,b,v,_,w,x,O=~~t.resolution||12,S=1/O,P=r?e+6*r+1:t.length,T=t[e],E=t[e+1],R=e?e/6*O:0,A=t.samples,I=t.lookup,j=(e?t.minLength:g)||g,C=A[R+r*O-1],k=e?A[R-1]:0;for(A.length=I.length=0,i=e+2;i<P;i+=6){if(o=t[i+4]-T,s=t[i+2]-T,a=t[i]-T,c=t[i+5]-E,h=t[i+3]-E,f=t[i+1]-E,u=l=y=m=0,p(o)<1e-5&&p(c)<1e-5&&p(a)+p(f)<1e-5)t.length>8&&(t.splice(i,6),i-=6,P-=6);else for(n=1;n<=O;n++)u=l-(l=((v=S*n)*v*o+3*(b=1-v)*(v*s+b*a))*v),y=m-(m=(v*v*c+3*b*(v*h+b*f))*v),(w=d(y*y+u*u))<j&&(j=w),k+=w,A[R++]=k;T+=o,E+=c}if(C)for(C-=k;R<A.length;R++)A[R]+=C;if(A.length&&j)for(t.totalLength=x=A[A.length-1]||0,t.minLength=j,w=_=0,n=0;n<x;n+=j)I[w++]=A[_]<n?++_:_;else t.totalLength=A[0]=0;return e?k-A[e/2-1]:k}function M(t,e){var r,n,i;for(i=r=n=0;i<t.length;i++)t[i].resolution=~~e||12,n+=t[i].length,r+=k(t[i]);return t.totalPoints=n,t.totalLength=r,t}function L(t,e,r){if(r<=0||r>=1)return 0;var n=t[e],i=t[e+1],o=t[e+2],s=t[e+3],a=t[e+4],u=t[e+5],l=n+(o-n)*r,c=o+(a-o)*r,h=i+(s-i)*r,f=s+(u-s)*r,p=l+(c-l)*r,d=h+(f-h)*r,y=a+(t[e+6]-a)*r,g=u+(t[e+7]-u)*r;return c+=(y-c)*r,f+=(g-f)*r,t.splice(e+2,4,O(l),O(h),O(p),O(d),O(p+(c-p)*r),O(d+(f-d)*r),O(c),O(f),O(y),O(g)),t.samples&&t.samples.splice(e/6*t.resolution|0,0,0,0,0,0,0,0),6}function D(t,e,r,n){r=r||{},t.totalLength||M(t),(e<0||e>1)&&(e=x(e));var i,o,s,a,u,l,c,h=0,f=t[0];if(e)if(1===e)c=1,l=(f=t[h=t.length-1]).length-8;else{if(t.length>1){for(s=t.totalLength*e,u=l=0;(u+=t[l++].totalLength)<s;)h=l;e=(s-(a=u-(f=t[h]).totalLength))/(u-a)||0}i=f.samples,o=f.resolution,s=f.totalLength*e,a=(l=f.lookup[~~(s/f.minLength)]||0)?i[l-1]:0,(u=i[l])<s&&(a=u,u=i[++l]),c=1/o*((s-a)/(u-a)+l%o),l=6*~~(l/o),n&&1===c&&(l+6<f.length?(l+=6,c=0):h+1<t.length&&(l=c=0,f=t[++h]))}else c=l=h=0,f=t[0];return r.t=c,r.i=l,r.path=t,r.segment=f,r.segIndex=h,r}function B(t,e,r,n){var i,o,s,a,u,l,c,h,f,p=t[0],d=n||{};if((e<0||e>1)&&(e=x(e)),t.length>1){for(s=t.totalLength*e,u=l=0;(u+=t[l++].totalLength)<s;)p=t[l];e=(s-(a=u-p.totalLength))/(u-a)||0}return i=p.samples,o=p.resolution,s=p.totalLength*e,a=(l=p.lookup[e<1?~~(s/p.minLength):p.lookup.length-1]||0)?i[l-1]:0,(u=i[l])<s&&(a=u,u=i[++l]),f=1-(c=1/o*((s-a)/(u-a)+l%o)||0),h=p[l=6*~~(l/o)],d.x=O((c*c*(p[l+6]-h)+3*f*(c*(p[l+4]-h)+f*(p[l+2]-h)))*c+h),d.y=O((c*c*(p[l+7]-(h=p[l+1]))+3*f*(c*(p[l+5]-h)+f*(p[l+3]-h)))*c+h),r&&(d.angle=p.totalLength?j(p,l,c>=1?1-1e-9:c||1e-9):p.angle||0),d}function F(t,e,r,n,i,o,s){for(var a,u,l,c,h,f=t.length;--f>-1;)for(u=(a=t[f]).length,l=0;l<u;l+=2)c=a[l],h=a[l+1],a[l]=c*e+h*n+o,a[l+1]=c*r+h*i+s;return t._dirty=1,t}function N(t,e,r,n,i,o,s,a,u){if(t!==a||e!==u){r=p(r),n=p(n);var c=i%360*l,y=f(c),g=h(c),m=Math.PI,b=2*m,v=(t-a)/2,_=(e-u)/2,w=y*v+g*_,x=-g*v+y*_,O=w*w,S=x*x,P=O/(r*r)+S/(n*n);P>1&&(r=d(P)*r,n=d(P)*n);var T=r*r,E=n*n,R=(T*E-T*S-E*O)/(T*S+E*O);R<0&&(R=0);var A=(o===s?-1:1)*d(R),I=A*(r*x/n),j=A*(-n*w/r),C=(t+a)/2+(y*I-g*j),k=(e+u)/2+(g*I+y*j),M=(w-I)/r,L=(x-j)/n,D=(-w-I)/r,B=(-x-j)/n,F=M*M+L*L,N=(L<0?-1:1)*Math.acos(M/d(F)),U=(M*B-L*D<0?-1:1)*Math.acos((M*D+L*B)/d(F*(D*D+B*B)));isNaN(U)&&(U=m),!s&&U>0?U-=b:s&&U<0&&(U+=b),N%=b,U%=b;var W,z=Math.ceil(p(U)/(b/4)),H=[],X=U/z,G=4/3*h(X/2)/(1+f(X/2)),Y=y*r,V=g*r,q=g*-n,K=y*n;for(W=0;W<z;W++)w=f(i=N+W*X),x=h(i),M=f(i+=X),L=h(i),H.push(w-G*x,x+G*w,M+G*L,L-G*M,M,L);for(W=0;W<H.length;W+=2)w=H[W],x=H[W+1],H[W]=w*Y+x*q+C,H[W+1]=w*V+x*K+k;return H[W-2]=a,H[W-1]=u,H}}function U(t){var e,r,n,i,s,u,l,c,h,f,d,y,g,m,b,v=(t+"").replace(a,(function(t){var e=+t;return e<1e-4&&e>-1e-4?0:e})).match(o)||[],_=[],w=0,x=0,O=2/3,S=v.length,P=0,T="ERROR: malformed path: "+t,E=function(t,e,r,n){f=(r-t)/3,d=(n-e)/3,l.push(t+f,e+d,r-f,n-d,r,n)};if(!t||!isNaN(v[0])||isNaN(v[1]))return console.log(T),_;for(e=0;e<S;e++)if(g=s,isNaN(v[e])?u=(s=v[e].toUpperCase())!==v[e]:e--,n=+v[e+1],i=+v[e+2],u&&(n+=w,i+=x),e||(c=n,h=i),"M"===s)l&&(l.length<8?_.length-=1:P+=l.length),w=c=n,x=h=i,l=[n,i],_.push(l),e+=2,s="L";else if("C"===s)l||(l=[0,0]),u||(w=x=0),l.push(n,i,w+1*v[e+3],x+1*v[e+4],w+=1*v[e+5],x+=1*v[e+6]),e+=6;else if("S"===s)f=w,d=x,"C"!==g&&"S"!==g||(f+=w-l[l.length-4],d+=x-l[l.length-3]),u||(w=x=0),l.push(f,d,n,i,w+=1*v[e+3],x+=1*v[e+4]),e+=4;else if("Q"===s)f=w+(n-w)*O,d=x+(i-x)*O,u||(w=x=0),w+=1*v[e+3],x+=1*v[e+4],l.push(f,d,w+(n-w)*O,x+(i-x)*O,w,x),e+=4;else if("T"===s)f=w-l[l.length-4],d=x-l[l.length-3],l.push(w+f,x+d,n+(w+1.5*f-n)*O,i+(x+1.5*d-i)*O,w=n,x=i),e+=2;else if("H"===s)E(w,x,w=n,x),e+=1;else if("V"===s)E(w,x,w,x=n+(u?x-w:0)),e+=1;else if("L"===s||"Z"===s)"Z"===s&&(n=c,i=h,l.closed=!0),("L"===s||p(w-n)>.5||p(x-i)>.5)&&(E(w,x,n,i),"L"===s&&(e+=2)),w=n,x=i;else if("A"===s){if(m=v[e+4],b=v[e+5],f=v[e+6],d=v[e+7],r=7,m.length>1&&(m.length<3?(d=f,f=b,r--):(d=b,f=m.substr(2),r-=2),b=m.charAt(1),m=m.charAt(0)),y=N(w,x,+v[e+1],+v[e+2],+v[e+3],+m,+b,(u?w:0)+1*f,(u?x:0)+1*d),e+=r,y)for(r=0;r<y.length;r++)l.push(y[r]);w=l[l.length-2],x=l[l.length-1]}else console.log(T);return(e=l.length)<6?(_.pop(),e=0):l[0]===l[e-2]&&l[1]===l[e-1]&&(l.closed=!0),_.totalPoints=P+e,_}function W(t,e){void 0===e&&(e=1);for(var r=t[0],n=0,i=[r,n],o=2;o<t.length;o+=2)i.push(r,n,t[o],n=(t[o]-r)*e/2,r=t[o],-n);return i}function z(t,e,r){p(t[0]-t[2])<1e-4&&p(t[1]-t[3])<1e-4&&(t=t.slice(2));var n,i,o,s,a,u,l,c,g,m,b,v,_,w,x=t.length-2,S=+t[0],P=+t[1],T=+t[2],E=+t[3],R=[S,P,S,P],A=T-S,I=E-P,j=Math.abs(t[x]-S)<.001&&Math.abs(t[x+1]-P)<.001;for(isNaN(r)&&(r=Math.PI/10),j&&(t.push(T,E),T=S,E=P,S=t[x-2],P=t[x-1],t.unshift(S,P),x+=4),e=e||0===e?+e:1,a=2;a<x;a+=2)n=S,i=P,S=T,P=E,T=+t[a+2],E=+t[a+3],S===T&&P===E||(v=(u=A)*u+(c=I)*c,_=(A=T-S)*A+(I=E-P)*I,w=(l=T-n)*l+(g=E-i)*g,b=(o=Math.acos((v+_-w)/d(4*v*_)))/Math.PI*e,m=d(v)*b,b*=d(_),S===n&&P===i||(o>r?(s=y(g,l),R.push(O(S-f(s)*m),O(P-h(s)*m),O(S),O(P),O(S+f(s)*b),O(P+h(s)*b))):(s=y(c,u),R.push(O(S-f(s)*m),O(P-h(s)*m)),s=y(I,A),R.push(O(S),O(P),O(S+f(s)*b),O(P+h(s)*b)))));return S!==T||P!==E||R.length<4?R.push(O(T),O(E),O(T),O(E)):R.length-=2,j&&(R.splice(0,6),R.length=R.length-6),R}function H(t){b(t[0])&&(t=[t]);var e,r,n,i,o="",s=t.length;for(r=0;r<s;r++){for(i=t[r],o+="M"+O(i[0])+","+O(i[1])+" C",e=i.length,n=2;n<e;n++)o+=O(i[n++])+","+O(i[n++])+" "+O(i[n++])+","+O(i[n++])+" "+O(i[n++])+","+O(i[n])+" ";i.closed&&(o+="z")}return o}var X,G,Y,V,q,K,Z,J,$="transform",Q=$+"Origin",tt=function(t){var e=t.ownerDocument||t;!($ in t.style)&&"msTransform"in t.style&&(Q=($="msTransform")+"Origin");for(;e.parentNode&&(e=e.parentNode););if(G=window,Z=new at,e){X=e,Y=e.documentElement,V=e.body;var r=e.createElement("div"),n=e.createElement("div");V.appendChild(r),r.appendChild(n),r.style.position="static",r.style[$]="translate3d(0,0,1px)",J=n.offsetParent!==r,V.removeChild(r)}return e},et=[],rt=[],nt=function(t){return t.ownerSVGElement||("svg"===(t.tagName+"").toLowerCase()?t:null)},it=function t(e){return"fixed"===G.getComputedStyle(e).position||((e=e.parentNode)&&1===e.nodeType?t(e):void 0)},ot=function t(e,r){if(e.parentNode&&(X||tt(e))){var n=nt(e),i=n?n.getAttribute("xmlns")||"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",o=n?r?"rect":"g":"div",s=2!==r?0:100,a=3===r?100:0,u="position:absolute;display:block;pointer-events:none;margin:0;padding:0;",l=X.createElementNS?X.createElementNS(i.replace(/^https/,"http"),o):X.createElement(o);return r&&(n?(K||(K=t(e)),l.setAttribute("width",.01),l.setAttribute("height",.01),l.setAttribute("transform","translate("+s+","+a+")"),K.appendChild(l)):(q||((q=t(e)).style.cssText=u),l.style.cssText=u+"width:0.1px;height:0.1px;top:"+a+"px;left:"+s+"px",q.appendChild(l))),l}throw"Need document and parent."},st=function(t,e,r,n,i,o,s){return t.a=e,t.b=r,t.c=n,t.d=i,t.e=o,t.f=s,t},at=function(){function t(t,e,r,n,i,o){void 0===t&&(t=1),void 0===e&&(e=0),void 0===r&&(r=0),void 0===n&&(n=1),void 0===i&&(i=0),void 0===o&&(o=0),st(this,t,e,r,n,i,o)}var e=t.prototype;return e.inverse=function(){var t=this.a,e=this.b,r=this.c,n=this.d,i=this.e,o=this.f,s=t*n-e*r||1e-10;return st(this,n/s,-e/s,-r/s,t/s,(r*o-n*i)/s,-(t*o-e*i)/s)},e.multiply=function(t){var e=this.a,r=this.b,n=this.c,i=this.d,o=this.e,s=this.f,a=t.a,u=t.c,l=t.b,c=t.d,h=t.e,f=t.f;return st(this,a*e+l*n,a*r+l*i,u*e+c*n,u*r+c*i,o+h*e+f*n,s+h*r+f*i)},e.clone=function(){return new t(this.a,this.b,this.c,this.d,this.e,this.f)},e.equals=function(t){var e=this.a,r=this.b,n=this.c,i=this.d,o=this.e,s=this.f;return e===t.a&&r===t.b&&n===t.c&&i===t.d&&o===t.e&&s===t.f},e.apply=function(t,e){void 0===e&&(e={});var r=t.x,n=t.y,i=this.a,o=this.b,s=this.c,a=this.d,u=this.e,l=this.f;return e.x=r*i+n*s+u||0,e.y=r*o+n*a+l||0,e},t}();function ut(t,e,r,n){if(!t||!t.parentNode||(X||tt(t)).documentElement===t)return new at;var i=function(t){for(var e,r;t&&t!==V;)(r=t._gsap)&&r.uncache&&r.get(t,"x"),r&&!r.scaleX&&!r.scaleY&&r.renderTransform&&(r.scaleX=r.scaleY=1e-4,r.renderTransform(1,r),e?e.push(r):e=[r]),t=t.parentNode;return e}(t),o=nt(t)?et:rt,s=function(t,e){var r,n,i,o,s,a,u=nt(t),l=t===u,c=u?et:rt,h=t.parentNode;if(t===G)return t;if(c.length||c.push(ot(t,1),ot(t,2),ot(t,3)),r=u?K:q,u)i=l?{x:0,y:0}:t.getBBox(),(n=t.transform?t.transform.baseVal:{}).numberOfItems?(o=(n=n.numberOfItems>1?function(t){for(var e=new at,r=0;r<t.numberOfItems;r++)e.multiply(t.getItem(r).matrix);return e}(n):n.getItem(0).matrix).a*i.x+n.c*i.y,s=n.b*i.x+n.d*i.y):(n=Z,o=i.x,s=i.y),e&&"g"===t.tagName.toLowerCase()&&(o=s=0),r.setAttribute("transform","matrix("+n.a+","+n.b+","+n.c+","+n.d+","+(n.e+o)+","+(n.f+s)+")"),(l?u:h).appendChild(r);else{if(o=s=0,J)for(n=t.offsetParent,i=t;i&&(i=i.parentNode)&&i!==n&&i.parentNode;)(G.getComputedStyle(i)[$]+"").length>4&&(o=i.offsetLeft,s=i.offsetTop,i=0);if("absolute"!==(a=G.getComputedStyle(t)).position)for(n=t.offsetParent;h!==n;)o+=h.scrollLeft||0,s+=h.scrollTop||0,h=h.parentNode;(i=r.style).top=t.offsetTop-s+"px",i.left=t.offsetLeft-o+"px",i[$]=a[$],i[Q]=a[Q],i.position="fixed"===a.position?"fixed":"absolute",t.parentNode.appendChild(r)}return r}(t,r),a=o[0].getBoundingClientRect(),u=o[1].getBoundingClientRect(),l=o[2].getBoundingClientRect(),c=s.parentNode,h=!n&&it(t),f=new at((u.left-a.left)/100,(u.top-a.top)/100,(l.left-a.left)/100,(l.top-a.top)/100,a.left+(h?0:G.pageXOffset||X.scrollLeft||Y.scrollLeft||V.scrollLeft||0),a.top+(h?0:G.pageYOffset||X.scrollTop||Y.scrollTop||V.scrollTop||0));if(c.removeChild(s),i)for(a=i.length;a--;)(u=i[a]).scaleX=u.scaleY=0,u.renderTransform(1,u);return e?f.inverse():f}var lt,ct,ht,ft,pt="x,translateX,left,marginLeft,xPercent".split(","),dt="y,translateY,top,marginTop,yPercent".split(","),yt=Math.PI/180,gt=function(t,e,r,n){for(var i=e.length,o=2===n?0:n,s=0;s<i;s++)t[o]=parseFloat(e[s][r]),2===n&&(t[o+1]=0),o+=2;return t},mt=function(t,e,r){return parseFloat(t._gsap.get(t,e,r||"px"))||0},bt=function(t){var e,r=t[0],n=t[1];for(e=2;e<t.length;e+=2)r=t[e]+=r,n=t[e+1]+=n},vt=function(t,e,r,n,i,o,s,a,u){return"cubic"===s.type?e=[e]:(e.unshift(mt(r,n,a),i?mt(r,i,u):0),s.relative&&bt(e),e=[(i?z:W)(e,s.curviness)]),e=o(St(e,r,s)),Pt(t,r,n,e,"x",a),i&&Pt(t,r,i,e,"y",u),M(e,s.resolution||(0===s.curviness?20:12))},_t=function(t){return t},wt=/[-+\.]*\d+[\.e\-\+]*\d*[e\-\+]*\d*/g,xt=function(t,e,r){var n,i,o,s=ut(t);return"svg"===(t.tagName+"").toLowerCase()?(i=(n=t.viewBox.baseVal).x,o=n.y,n.width||(n={width:+t.getAttribute("width"),height:+t.getAttribute("height")})):(n=e&&t.getBBox&&t.getBBox(),i=o=0),e&&"auto"!==e&&(i+=e.push?e[0]*(n?n.width:t.offsetWidth||0):e.x,o+=e.push?e[1]*(n?n.height:t.offsetHeight||0):e.y),r.apply(i||o?s.apply({x:i,y:o}):{x:s.e,y:s.f})},Ot=function(t,e,r,n){var i,o=ut(t.parentNode,!0,!0),s=o.clone().multiply(ut(e)),a=xt(t,r,o),u=xt(e,n,o),l=u.x,c=u.y;return s.e=s.f=0,"auto"===n&&e.getTotalLength&&"path"===e.tagName.toLowerCase()&&(i=e.getAttribute("d").match(wt)||[],l+=(i=s.apply({x:+i[0],y:+i[1]})).x,c+=i.y),(i||e.getBBox&&t.getBBox&&e.ownerSVGElement===t.ownerSVGElement)&&(l-=(i=s.apply(e.getBBox())).x,c-=i.y),s.e=l-a.x,s.f=c-a.y,s},St=function(t,e,r){var n,i,o,s=r.align,a=r.matrix,u=r.offsetX,l=r.offsetY,c=r.alignOrigin,h=t[0][0],f=t[0][1],p=mt(e,"x"),d=mt(e,"y");return t&&t.length?(s&&("self"===s||(n=ft(s)[0]||e)===e?F(t,1,0,0,1,p-h,d-f):(c&&!1!==c[2]?lt.set(e,{transformOrigin:100*c[0]+"% "+100*c[1]+"%"}):c=[mt(e,"xPercent")/-100,mt(e,"yPercent")/-100],o=(i=Ot(e,n,c,"auto")).apply({x:h,y:f}),F(t,i.a,i.b,i.c,i.d,p+i.e-(o.x-i.e),d+i.f-(o.y-i.f)))),a?F(t,a.a,a.b,a.c,a.d,a.e,a.f):(u||l)&&F(t,1,0,0,1,u||0,l||0),t):R("M0,0L0,0")},Pt=function(t,e,r,n,i,o){var s=e._gsap,a=s.harness,u=a&&a.aliases&&a.aliases[r],l=u&&u.indexOf(",")<0?u:r,c=t._pt=new ct(t._pt,e,l,0,0,_t,0,s.set(e,l,t));c.u=ht(s.get(e,l,o))||0,c.path=n,c.pp=i,t._props.push(l)},Tt={version:"3.6.0",name:"motionPath",register:function(t,e,r){ht=(lt=t).utils.getUnit,ft=lt.utils.toArray,ct=r},init:function(t,e){if(!lt)return console.warn("Please gsap.registerPlugin(MotionPathPlugin)"),!1;"object"==typeof e&&!e.style&&e.path||(e={path:e});var r,n,i,o,s=[],a=e,u=a.path,l=a.autoRotate,c=a.unitX,h=a.unitY,f=a.x,p=a.y,d=u[0],y=(i=e.start,o="end"in e?e.end:1,function(t){return i||1!==o?C(t,i,o):t});if(this.rawPaths=s,this.target=t,(this.rotate=l||0===l)&&(this.rOffset=parseFloat(l)||0,this.radians=!!e.useRadians,this.rProp=e.rotation||"rotation",this.rSet=t._gsap.set(t,this.rProp,this),this.ru=ht(t._gsap.get(t,this.rProp))||0),Array.isArray(u)&&!("closed"in u)&&"number"!=typeof d){for(n in d)!f&&~pt.indexOf(n)?f=n:!p&&~dt.indexOf(n)&&(p=n);for(n in f&&p?s.push(vt(this,gt(gt([],u,f,0),u,p,1),t,f,p,y,e,c||ht(u[0][f]),h||ht(u[0][p]))):f=p=0,d)n!==f&&n!==p&&s.push(vt(this,gt([],u,n,2),t,n,0,y,e,ht(u[0][n])))}else M(r=y(St(R(e.path),t,e)),e.resolution),s.push(r),Pt(this,t,e.x||"x",r,"x",e.unitX||"px"),Pt(this,t,e.y||"y",r,"y",e.unitY||"px")},render:function(t,e){var r=e.rawPaths,n=r.length,i=e._pt;for(t>1?t=1:t<0&&(t=0);n--;)B(r[n],t,!n&&e.rotate,r[n]);for(;i;)i.set(i.t,i.p,i.path[i.pp]+i.u,i.d,t),i=i._next;e.rotate&&e.rSet(e.target,e.rProp,r[0].angle*(e.radians?yt:1)+e.rOffset+e.ru,e,t)},getLength:function(t){return M(R(t)).totalLength},sliceRawPath:C,getRawPath:R,pointsToSegment:z,stringToRawPath:U,rawPathToString:H,transformRawPath:F,getGlobalMatrix:ut,getPositionOnPath:B,cacheRawPathMeasurements:M,convertToPath:function(t,e){return ft(t).map((function(t){return function(t,e){var r,n,i,o,a,u,l,c,h,f,p,d,y,g,m,b,v,_,w,x,O,S,P=t.tagName.toLowerCase(),T=.552284749831;return"path"!==P&&t.getBBox?(u=function(t,e){var r,n=document.createElementNS("http://www.w3.org/2000/svg","path"),i=[].slice.call(t.attributes),o=i.length;for(e=","+e+",";--o>-1;)r=i[o].nodeName.toLowerCase(),e.indexOf(","+r+",")<0&&n.setAttributeNS(null,r,i[o].nodeValue);return n}(t,"x,y,width,height,cx,cy,rx,ry,r,x1,x2,y1,y2,points"),S=function(t,e){for(var r=e?e.split(","):[],n={},i=r.length;--i>-1;)n[r[i]]=+t.getAttribute(r[i])||0;return n}(t,I[P]),"rect"===P?(o=S.rx,a=S.ry||o,n=S.x,i=S.y,f=S.width-2*o,p=S.height-2*a,r=o||a?"M"+(b=(g=(y=n+o)+f)+o)+","+(_=i+a)+" V"+(w=_+p)+" C"+[b,x=w+a*T,m=g+o*T,O=w+a,g,O,g-(g-y)/3,O,y+(g-y)/3,O,y,O,d=n+o*(1-T),O,n,x,n,w,n,w-(w-_)/3,n,_+(w-_)/3,n,_,n,v=i+a*(1-T),d,i,y,i,y+(g-y)/3,i,g-(g-y)/3,i,g,i,m,i,b,v,b,_].join(",")+"z":"M"+(n+f)+","+i+" v"+p+" h"+-f+" v"+-p+" h"+f+"z"):"circle"===P||"ellipse"===P?("circle"===P?c=(o=a=S.r)*T:(o=S.rx,c=(a=S.ry)*T),r="M"+((n=S.cx)+o)+","+(i=S.cy)+" C"+[n+o,i+c,n+(l=o*T),i+a,n,i+a,n-l,i+a,n-o,i+c,n-o,i,n-o,i-c,n-l,i-a,n,i-a,n+l,i-a,n+o,i-c,n+o,i].join(",")+"z"):"line"===P?r="M"+S.x1+","+S.y1+" L"+S.x2+","+S.y2:"polyline"!==P&&"polygon"!==P||(r="M"+(n=(h=(t.getAttribute("points")+"").match(s)||[]).shift())+","+(i=h.shift())+" L"+h.join(","),"polygon"===P&&(r+=","+n+","+i+"z")),u.setAttribute("d",H(u._gsRawPath=U(r))),e&&t.parentNode&&(t.parentNode.insertBefore(u,t),t.parentNode.removeChild(t)),u):t}(t,!1!==e)}))},convertCoordinates:function(t,e,r){var n=ut(e,!0,!0).multiply(ut(t));return r?n.apply(r):n},getAlignMatrix:Ot,getRelativePosition:function(t,e,r,n){var i=Ot(t,e,r,n);return{x:i.e,y:i.f}},arrayToRawPath:function(t,e){var r=gt(gt([],t,(e=e||{}).x||"x",0),t,e.y||"y",1);return e.relative&&bt(r),["cubic"===e.type?r:z(r,e.curviness)]}};(lt||"undefined"!=typeof window&&(lt=window.gsap)&&lt.registerPlugin&&lt)&&lt.registerPlugin(Tt);var Et,Rt,At,It,jt,Ct,kt,Mt,Lt=function(){return"undefined"!=typeof window},Dt=function(){return Et||Lt()&&(Et=window.gsap)&&Et.registerPlugin&&Et},Bt=function(t){return"function"==typeof t},Ft=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],Nt=.212671,Ut=.71516,Wt=.072169,zt=function(t,e){var r,n,i=[],o=0,s=0;for(r=0;r<4;r++){for(n=0;n<5;n++)s=4===n?t[o+4]:0,i[o+n]=t[o]*e[n]+t[o+1]*e[n+5]+t[o+2]*e[n+10]+t[o+3]*e[n+15]+s;o+=5}return i},Ht=function(t,e){var r=1-e,n=r*Nt,i=r*Ut,o=r*Wt;return zt([n+e,i,o,0,0,n,i+e,o,0,0,n,i,o+e,0,0,0,0,0,1,0],t)},Xt=function(t,e,r){var n=At(e),i=n[0]/255,o=n[1]/255,s=n[2]/255,a=1-r;return zt([a+r*i*Nt,r*i*Ut,r*i*Wt,0,0,r*o*Nt,a+r*o*Ut,r*o*Wt,0,0,r*s*Nt,r*s*Ut,a+r*s*Wt,0,0,0,0,0,1,0],t)},Gt=function(t,e){e*=Math.PI/180;var r=Math.cos(e),n=Math.sin(e);return zt([Nt+r*(1-Nt)+n*-Nt,Ut+r*-Ut+n*-Ut,Wt+r*-Wt+n*(1-Wt),0,0,Nt+r*-Nt+.143*n,Ut+.28484*r+.14*n,Wt+r*-Wt+-.283*n,0,0,Nt+r*-Nt+-.787329*n,Ut+r*-Ut+n*Ut,Wt+r*(1-Wt)+n*Wt,0,0,0,0,0,1,0,0,0,0,0,1],t)},Yt=function(t,e){return zt([e,0,0,0,.5*(1-e),0,e,0,0,.5*(1-e),0,0,e,0,.5*(1-e),0,0,0,1,0],t)},Vt=function(t,e){var r,n,i=It.filters[e],o=t.filters||[],s=o.length;for(i||(n=e+" not found. PixiPlugin.registerPIXI(PIXI)",console.warn(n));--s>-1;)if(o[s]instanceof i)return o[s];return r=new i,"BlurFilter"===e&&(r.blur=0),o.push(r),t.filters=o,r},qt=function(t,e,r,n){e.add(r,t,r[t],n[t]),e._props.push(t)},Kt=function(t,e){var r=new It.filters.ColorMatrixFilter;return r.matrix=e,r.brightness(t,!0),r.matrix},Zt={contrast:1,saturation:1,colorizeAmount:0,colorize:"rgb(255,255,255)",hue:0,brightness:1},Jt=function(t,e,r){var n,i,o,s=Vt(t,"ColorMatrixFilter"),a=t._gsColorMatrixFilter=t._gsColorMatrixFilter||function(t){var e,r={};for(e in t)r[e]=t[e];return r}(Zt),u=e.combineCMF&&!("colorMatrixFilter"in e&&!e.colorMatrixFilter);o=s.matrix,e.resolution&&(s.resolution=e.resolution),e.matrix&&e.matrix.length===o.length?(i=e.matrix,1!==a.contrast&&qt("contrast",r,a,Zt),a.hue&&qt("hue",r,a,Zt),1!==a.brightness&&qt("brightness",r,a,Zt),a.colorizeAmount&&(qt("colorize",r,a,Zt),qt("colorizeAmount",r,a,Zt)),1!==a.saturation&&qt("saturation",r,a,Zt)):(i=Ft.slice(),null!=e.contrast?(i=Yt(i,+e.contrast),qt("contrast",r,a,e)):1!==a.contrast&&(u?i=Yt(i,a.contrast):qt("contrast",r,a,Zt)),null!=e.hue?(i=Gt(i,+e.hue),qt("hue",r,a,e)):a.hue&&(u?i=Gt(i,a.hue):qt("hue",r,a,Zt)),null!=e.brightness?(i=Kt(+e.brightness,i),qt("brightness",r,a,e)):1!==a.brightness&&(u?i=Kt(a.brightness,i):qt("brightness",r,a,Zt)),null!=e.colorize?(e.colorizeAmount="colorizeAmount"in e?+e.colorizeAmount:1,i=Xt(i,e.colorize,e.colorizeAmount),qt("colorize",r,a,e),qt("colorizeAmount",r,a,e)):a.colorizeAmount&&(u?i=Xt(i,a.colorize,a.colorizeAmount):(qt("colorize",r,a,Zt),qt("colorizeAmount",r,a,Zt))),null!=e.saturation?(i=Ht(i,+e.saturation),qt("saturation",r,a,e)):1!==a.saturation&&(u?i=Ht(i,a.saturation):qt("saturation",r,a,Zt))),n=i.length;for(;--n>-1;)i[n]!==o[n]&&r.add(o,n,o[n],i[n],"colorMatrixFilter");r._props.push("colorMatrixFilter")},$t=function(t,e){var r=e.t,n=e.p,i=e.color;(0,e.set)(r,n,i[0]<<16|i[1]<<8|i[2])},Qt=function(t,e){var r=e.g;r&&(r.dirty++,r.clearDirty++)},te=function(t,e){e.t.visible=!!e.t.alpha},ee=function(t,e,r,n){var i=t[e],o=At(Bt(i)?t[e.indexOf("set")||!Bt(t["get"+e.substr(3)])?e:"get"+e.substr(3)]():i),s=At(r);n._pt=new jt(n._pt,t,e,0,0,$t,{t,p:e,color:o,set:Ct(t,e)}),n.add(o,0,o[0],s[0]),n.add(o,1,o[1],s[1]),n.add(o,2,o[2],s[2])},re={tint:1,lineColor:1,fillColor:1},ne="position,scale,skew,pivot,anchor,tilePosition,tileScale".split(","),ie={x:"position",y:"position",tileX:"tilePosition",tileY:"tilePosition"},oe={colorMatrixFilter:1,saturation:1,contrast:1,hue:1,colorize:1,colorizeAmount:1,brightness:1,combineCMF:1},se=Math.PI/180,ae=function(t){return"string"==typeof t},ue=function(t){return ae(t)&&"="===t.charAt(1)?t.substr(0,2)+parseFloat(t.substr(2))*se:t*se},le=function(t,e){return e.set(e.t,e.p,1===t?e.e:Math.round(1e5*(e.s+e.c*t))/1e5,e)},ce=function(t,e,r,n,i,o){var s,a,u=360*(o?se:1),l=ae(i),c=l&&"="===i.charAt(1)?+(i.charAt(0)+"1"):0,h=parseFloat(c?i.substr(2):i)*(o?se:1),f=c?h*c:h-n,p=n+f;return l&&("short"===(s=i.split("_")[1])&&(f%=u)!=f%(u/2)&&(f+=f<0?u:-u),"cw"===s&&f<0?f=(f+1e10*u)%u-~~(f/u)*u:"ccw"===s&&f>0&&(f=(f-1e10*u)%u-~~(f/u)*u)),t._pt=a=new jt(t._pt,e,r,n,f,le),a.e=p,a},he=function(){Lt()&&(Rt=window,Et=Dt(),It=It||Rt.PIXI,At=function(t){return Et.utils.splitColor("0x"===(t+"").substr(0,2)?"#"+t.substr(2):t)})};for(kt=0;kt<ne.length;kt++)Mt=ne[kt],ie[Mt+"X"]=Mt,ie[Mt+"Y"]=Mt;var fe={version:"3.6.0",name:"pixi",register:function(t,e,r){Et=t,jt=r,Ct=e.getSetter,he()},registerPIXI:function(t){It=t},init:function(t,e,r,n,i){if(It||he(),!t instanceof It.DisplayObject)return!1;var o,s,a,u,l,c,h,f,p,d="4"===It.VERSION.charAt(0);for(c in e){if(o=ie[c],a=e[c],o)s=~c.charAt(c.length-1).toLowerCase().indexOf("x")?"x":"y",this.add(t[o],s,t[o][s],"skew"===o?ue(a):a);else if("scale"===c||"anchor"===c||"pivot"===c||"tileScale"===c)this.add(t[c],"x",t[c].x,a),this.add(t[c],"y",t[c].y,a);else if("rotation"===c||"angle"===c)ce(this,t,c,t[c],a,"rotation"===c);else if(oe[c])u||(Jt(t,e.colorMatrixFilter||e,this),u=!0);else if("blur"===c||"blurX"===c||"blurY"===c||"blurPadding"===c){if(l=Vt(t,"BlurFilter"),this.add(l,c,l[c],a),0!==e.blurPadding)for(h=e.blurPadding||2*Math.max(l[c],a),f=t.filters.length;--f>-1;)t.filters[f].padding=Math.max(t.filters[f].padding,h)}else if(re[c])if(("lineColor"===c||"fillColor"===c)&&t instanceof It.Graphics)for(p=(t.geometry||t).graphicsData,this._pt=new jt(this._pt,t,c,0,0,Qt,{g:t.geometry||t}),f=p.length;--f>-1;)ee(d?p[f]:p[f][c.substr(0,4)+"Style"],d?c:"color",a,this);else ee(t,c,a,this);else"autoAlpha"===c?(this._pt=new jt(this._pt,t,"visible",0,0,te),this.add(t,"alpha",t.alpha,a),this._props.push("alpha","visible")):"resolution"!==c&&this.add(t,c,"get",a);this._props.push(c)}}};function pe(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function de(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}Dt()&&Et.registerPlugin(fe);var ye,ge,me,be,ve,_e,we,xe,Oe,Se,Pe,Te,Ee,Re,Ae,Ie,je,Ce,ke,Me,Le,De,Be,Fe,Ne,Ue,We,ze,He={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},Xe={duration:.5,overwrite:!1,delay:0},Ge=1e8,Ye=1e-8,Ve=2*Math.PI,qe=Ve/4,Ke=0,Ze=Math.sqrt,Je=Math.cos,$e=Math.sin,Qe=function(t){return"string"==typeof t},tr=function(t){return"function"==typeof t},er=function(t){return"number"==typeof t},rr=function(t){return void 0===t},nr=function(t){return"object"==typeof t},ir=function(t){return!1!==t},or=function(){return"undefined"!=typeof window},sr=function(t){return tr(t)||Qe(t)},ar="function"==typeof ArrayBuffer&&ArrayBuffer.isView||function(){},ur=Array.isArray,lr=/(?:-?\.?\d|\.)+/gi,cr=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,hr=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,fr=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,pr=/[+-]=-?[.\d]+/,dr=/[#\-+.]*\b[a-z\d-=+%.]+/gi,yr=/[\d.+\-=]+(?:e[-+]\d*)*/i,gr={},mr={},br=function(t){return(mr=Xr(t,gr))&&Ai},vr=function(t,e){return console.warn("Invalid property",t,"set to",e,"Missing plugin? gsap.registerPlugin()")},_r=function(t,e){return!e&&console.warn(t)},wr=function(t,e){return t&&(gr[t]=e)&&mr&&(mr[t]=e)||gr},xr=function(){return 0},Or={},Sr=[],Pr={},Tr={},Er={},Rr=30,Ar=[],Ir="",jr=function(t){var e,r,n=t[0];if(nr(n)||tr(n)||(t=[t]),!(e=(n._gsap||{}).harness)){for(r=Ar.length;r--&&!Ar[r].targetTest(n););e=Ar[r]}for(r=t.length;r--;)t[r]&&(t[r]._gsap||(t[r]._gsap=new ti(t[r],e)))||t.splice(r,1);return t},Cr=function(t){return t._gsap||jr(vn(t))[0]._gsap},kr=function(t,e,r){return(r=t[e])&&tr(r)?t[e]():rr(r)&&t.getAttribute&&t.getAttribute(e)||r},Mr=function(t,e){return(t=t.split(",")).forEach(e)||t},Lr=function(t){return Math.round(1e5*t)/1e5||0},Dr=function(t,e){for(var r=e.length,n=0;t.indexOf(e[n])<0&&++n<r;);return n<r},Br=function(t,e,r){var n,i=er(t[1]),o=(i?2:1)+(e<2?0:1),s=t[o];if(i&&(s.duration=t[1]),s.parent=r,e){for(n=s;r&&!("immediateRender"in n);)n=r.vars.defaults||{},r=ir(r.vars.inherit)&&r.parent;s.immediateRender=ir(n.immediateRender),e<2?s.runBackwards=1:s.startAt=t[o-1]}return s},Fr=function(){var t,e,r=Sr.length,n=Sr.slice(0);for(Pr={},Sr.length=0,t=0;t<r;t++)(e=n[t])&&e._lazy&&(e.render(e._lazy[0],e._lazy[1],!0)._lazy=0)},Nr=function(t,e,r,n){Sr.length&&Fr(),t.render(e,r,n),Sr.length&&Fr()},Ur=function(t){var e=parseFloat(t);return(e||0===e)&&(t+"").match(dr).length<2?e:Qe(t)?t.trim():t},Wr=function(t){return t},zr=function(t,e){for(var r in e)r in t||(t[r]=e[r]);return t},Hr=function(t,e){for(var r in e)r in t||"duration"===r||"ease"===r||(t[r]=e[r])},Xr=function(t,e){for(var r in e)t[r]=e[r];return t},Gr=function t(e,r){for(var n in r)"__proto__"!==n&&"constructor"!==n&&"prototype"!==n&&(e[n]=nr(r[n])?t(e[n]||(e[n]={}),r[n]):r[n]);return e},Yr=function(t,e){var r,n={};for(r in t)r in e||(n[r]=t[r]);return n},Vr=function(t){var e=t.parent||ge,r=t.keyframes?Hr:zr;if(ir(t.inherit))for(;e;)r(t,e.vars.defaults),e=e.parent||e._dp;return t},qr=function(t,e,r,n){void 0===r&&(r="_first"),void 0===n&&(n="_last");var i=e._prev,o=e._next;i?i._next=o:t[r]===e&&(t[r]=o),o?o._prev=i:t[n]===e&&(t[n]=i),e._next=e._prev=e.parent=null},Kr=function(t,e){t.parent&&(!e||t.parent.autoRemoveChildren)&&t.parent.remove(t),t._act=0},Zr=function(t,e){if(t&&(!e||e._end>t._dur||e._start<0))for(var r=t;r;)r._dirty=1,r=r.parent;return t},Jr=function(t){for(var e=t.parent;e&&e.parent;)e._dirty=1,e.totalDuration(),e=e.parent;return t},$r=function t(e){return!e||e._ts&&t(e.parent)},Qr=function(t){return t._repeat?tn(t._tTime,t=t.duration()+t._rDelay)*t:0},tn=function(t,e){var r=Math.floor(t/=e);return t&&r===t?r-1:r},en=function(t,e){return(t-e._start)*e._ts+(e._ts>=0?0:e._dirty?e.totalDuration():e._tDur)},rn=function(t){return t._end=Lr(t._start+(t._tDur/Math.abs(t._ts||t._rts||Ye)||0))},nn=function(t,e){var r=t._dp;return r&&r.smoothChildTiming&&t._ts&&(t._start=Lr(r._time-(t._ts>0?e/t._ts:((t._dirty?t.totalDuration():t._tDur)-e)/-t._ts)),rn(t),r._dirty||Zr(r,t)),t},on=function(t,e){var r;if((e._time||e._initted&&!e._dur)&&(r=en(t.rawTime(),e),(!e._dur||yn(0,e.totalDuration(),r)-e._tTime>Ye)&&e.render(r,!0)),Zr(t,e)._dp&&t._initted&&t._time>=t._dur&&t._ts){if(t._dur<t.duration())for(r=t;r._dp;)r.rawTime()>=0&&r.totalTime(r._tTime),r=r._dp;t._zTime=-1e-8}},sn=function(t,e,r,n){return e.parent&&Kr(e),e._start=Lr(r+e._delay),e._end=Lr(e._start+(e.totalDuration()/Math.abs(e.timeScale())||0)),function(t,e,r,n,i){void 0===r&&(r="_first"),void 0===n&&(n="_last");var o,s=t[n];if(i)for(o=e[i];s&&s[i]>o;)s=s._prev;s?(e._next=s._next,s._next=e):(e._next=t[r],t[r]=e),e._next?e._next._prev=e:t[n]=e,e._prev=s,e.parent=e._dp=t}(t,e,"_first","_last",t._sort?"_start":0),t._recent=e,n||on(t,e),t},an=function(t,e){return(gr.ScrollTrigger||vr("scrollTrigger",e))&&gr.ScrollTrigger.create(e,t)},un=function(t,e,r,n){return ai(t,e),t._initted?!r&&t._pt&&(t._dur&&!1!==t.vars.lazy||!t._dur&&t.vars.lazy)&&we!==Wn.frame?(Sr.push(t),t._lazy=[e,n],1):void 0:1},ln=function t(e){var r=e.parent;return r&&r._ts&&r._initted&&!r._lock&&(r.rawTime()<0||t(r))},cn=function(t,e,r,n){var i=t._repeat,o=Lr(e)||0,s=t._tTime/t._tDur;return s&&!n&&(t._time*=o/t._dur),t._dur=o,t._tDur=i?i<0?1e10:Lr(o*(i+1)+t._rDelay*i):o,s&&!n?nn(t,t._tTime=t._tDur*s):t.parent&&rn(t),r||Zr(t.parent,t),t},hn=function(t){return t instanceof ri?Zr(t):cn(t,t._dur)},fn={_start:0,endTime:xr},pn=function t(e,r){var n,i,o=e.labels,s=e._recent||fn,a=e.duration()>=Ge?s.endTime(!1):e._dur;return Qe(r)&&(isNaN(r)||r in o)?"<"===(n=r.charAt(0))||">"===n?("<"===n?s._start:s.endTime(s._repeat>=0))+(parseFloat(r.substr(1))||0):(n=r.indexOf("="))<0?(r in o||(o[r]=a),o[r]):(i=+(r.charAt(n-1)+r.substr(n+1)),n>1?t(e,r.substr(0,n-1))+i:a+i):null==r?a:+r},dn=function(t,e){return t||0===t?e(t):e},yn=function(t,e,r){return r<t?t:r>e?e:r},gn=function(t){if("string"!=typeof t)return"";var e=yr.exec(t);return e?t.substr(e.index+e[0].length):""},mn=[].slice,bn=function(t,e){return t&&nr(t)&&"length"in t&&(!e&&!t.length||t.length-1 in t&&nr(t[0]))&&!t.nodeType&&t!==me},vn=function(t,e){return!Qe(t)||e||!be&&zn()?ur(t)?function(t,e,r){return void 0===r&&(r=[]),t.forEach((function(t){var n;return Qe(t)&&!e||bn(t,1)?(n=r).push.apply(n,vn(t)):r.push(t)}))||r}(t,e):bn(t)?mn.call(t,0):t?[t]:[]:mn.call(ve.querySelectorAll(t),0)},_n=function(t){return t.sort((function(){return.5-Math.random()}))},wn=function(t){if(tr(t))return t;var e=nr(t)?t:{each:t},r=Kn(e.ease),n=e.from||0,i=parseFloat(e.base)||0,o={},s=n>0&&n<1,a=isNaN(n)||s,u=e.axis,l=n,c=n;return Qe(n)?l=c={center:.5,edges:.5,end:1}[n]||0:!s&&a&&(l=n[0],c=n[1]),function(t,s,h){var f,p,d,y,g,m,b,v,_,w=(h||e).length,x=o[w];if(!x){if(!(_="auto"===e.grid?0:(e.grid||[1,Ge])[1])){for(b=-Ge;b<(b=h[_++].getBoundingClientRect().left)&&_<w;);_--}for(x=o[w]=[],f=a?Math.min(_,w)*l-.5:n%_,p=a?w*c/_-.5:n/_|0,b=0,v=Ge,m=0;m<w;m++)d=m%_-f,y=p-(m/_|0),x[m]=g=u?Math.abs("y"===u?y:d):Ze(d*d+y*y),g>b&&(b=g),g<v&&(v=g);"random"===n&&_n(x),x.max=b-v,x.min=v,x.v=w=(parseFloat(e.amount)||parseFloat(e.each)*(_>w?w-1:u?"y"===u?w/_:_:Math.max(_,w/_))||0)*("edges"===n?-1:1),x.b=w<0?i-w:i,x.u=gn(e.amount||e.each)||0,r=r&&w<0?Vn(r):r}return w=(x[t]-x.min)/x.max||0,Lr(x.b+(r?r(w):w)*x.v)+x.u}},xn=function(t){var e=t<1?Math.pow(10,(t+"").length-2):1;return function(r){var n=Math.round(parseFloat(r)/t)*t*e;return(n-n%1)/e+(er(r)?0:gn(r))}},On=function(t,e){var r,n,i=ur(t);return!i&&nr(t)&&(r=i=t.radius||Ge,t.values?(t=vn(t.values),(n=!er(t[0]))&&(r*=r)):t=xn(t.increment)),dn(e,i?tr(t)?function(e){return n=t(e),Math.abs(n-e)<=r?n:e}:function(e){for(var i,o,s=parseFloat(n?e.x:e),a=parseFloat(n?e.y:0),u=Ge,l=0,c=t.length;c--;)(i=n?(i=t[c].x-s)*i+(o=t[c].y-a)*o:Math.abs(t[c]-s))<u&&(u=i,l=c);return l=!r||u<=r?t[l]:e,n||l===e||er(e)?l:l+gn(e)}:xn(t))},Sn=function(t,e,r,n){return dn(ur(t)?!e:!0===r?!!(r=0):!n,(function(){return ur(t)?t[~~(Math.random()*t.length)]:(r=r||1e-5)&&(n=r<1?Math.pow(10,(r+"").length-2):1)&&Math.floor(Math.round((t-r/2+Math.random()*(e-t+.99*r))/r)*r*n)/n}))},Pn=function(t,e,r){return dn(r,(function(r){return t[~~e(r)]}))},Tn=function(t){for(var e,r,n,i,o=0,s="";~(e=t.indexOf("random(",o));)n=t.indexOf(")",e),i="["===t.charAt(e+7),r=t.substr(e+7,n-e-7).match(i?dr:lr),s+=t.substr(o,e-o)+Sn(i?r:+r[0],i?0:+r[1],+r[2]||1e-5),o=n+1;return s+t.substr(o,t.length-o)},En=function(t,e,r,n,i){var o=e-t,s=n-r;return dn(i,(function(e){return r+((e-t)/o*s||0)}))},Rn=function(t,e,r){var n,i,o,s=t.labels,a=Ge;for(n in s)(i=s[n]-e)<0==!!r&&i&&a>(i=Math.abs(i))&&(o=n,a=i);return o},An=function(t,e,r){var n,i,o=t.vars,s=o[e];if(s)return n=o[e+"Params"],i=o.callbackScope||t,r&&Sr.length&&Fr(),n?s.apply(i,n):s.call(i)},In=function(t){return Kr(t),t.progress()<1&&An(t,"onInterrupt"),t},jn=function(t){var e=(t=!t.name&&t.default||t).name,r=tr(t),n=e&&!r&&t.init?function(){this._props=[]}:t,i={init:xr,render:_i,add:oi,kill:xi,modifier:wi,rawVars:0},o={targetTest:0,get:0,getSetter:gi,aliases:{},register:0};if(zn(),t!==n){if(Tr[e])return;zr(n,zr(Yr(t,i),o)),Xr(n.prototype,Xr(i,Yr(t,o))),Tr[n.prop=e]=n,t.targetTest&&(Ar.push(n),Or[e]=1),e=("css"===e?"CSS":e.charAt(0).toUpperCase()+e.substr(1))+"Plugin"}wr(e,n),t.register&&t.register(Ai,n,Pi)},Cn=255,kn={aqua:[0,Cn,Cn],lime:[0,Cn,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,Cn],navy:[0,0,128],white:[Cn,Cn,Cn],olive:[128,128,0],yellow:[Cn,Cn,0],orange:[Cn,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[Cn,0,0],pink:[Cn,192,203],cyan:[0,Cn,Cn],transparent:[Cn,Cn,Cn,0]},Mn=function(t,e,r){return(6*(t=t<0?t+1:t>1?t-1:t)<1?e+(r-e)*t*6:t<.5?r:3*t<2?e+(r-e)*(2/3-t)*6:e)*Cn+.5|0},Ln=function(t,e,r){var n,i,o,s,a,u,l,c,h,f,p=t?er(t)?[t>>16,t>>8&Cn,t&Cn]:0:kn.black;if(!p){if(","===t.substr(-1)&&(t=t.substr(0,t.length-1)),kn[t])p=kn[t];else if("#"===t.charAt(0)){if(t.length<6&&(n=t.charAt(1),i=t.charAt(2),o=t.charAt(3),t="#"+n+n+i+i+o+o+(5===t.length?t.charAt(4)+t.charAt(4):"")),9===t.length)return[(p=parseInt(t.substr(1,6),16))>>16,p>>8&Cn,p&Cn,parseInt(t.substr(7),16)/255];p=[(t=parseInt(t.substr(1),16))>>16,t>>8&Cn,t&Cn]}else if("hsl"===t.substr(0,3))if(p=f=t.match(lr),e){if(~t.indexOf("="))return p=t.match(cr),r&&p.length<4&&(p[3]=1),p}else s=+p[0]%360/360,a=+p[1]/100,n=2*(u=+p[2]/100)-(i=u<=.5?u*(a+1):u+a-u*a),p.length>3&&(p[3]*=1),p[0]=Mn(s+1/3,n,i),p[1]=Mn(s,n,i),p[2]=Mn(s-1/3,n,i);else p=t.match(lr)||kn.transparent;p=p.map(Number)}return e&&!f&&(n=p[0]/Cn,i=p[1]/Cn,o=p[2]/Cn,u=((l=Math.max(n,i,o))+(c=Math.min(n,i,o)))/2,l===c?s=a=0:(h=l-c,a=u>.5?h/(2-l-c):h/(l+c),s=l===n?(i-o)/h+(i<o?6:0):l===i?(o-n)/h+2:(n-i)/h+4,s*=60),p[0]=~~(s+.5),p[1]=~~(100*a+.5),p[2]=~~(100*u+.5)),r&&p.length<4&&(p[3]=1),p},Dn=function(t){var e=[],r=[],n=-1;return t.split(Fn).forEach((function(t){var i=t.match(hr)||[];e.push.apply(e,i),r.push(n+=i.length+1)})),e.c=r,e},Bn=function(t,e,r){var n,i,o,s,a="",u=(t+a).match(Fn),l=e?"hsla(":"rgba(",c=0;if(!u)return t;if(u=u.map((function(t){return(t=Ln(t,e,1))&&l+(e?t[0]+","+t[1]+"%,"+t[2]+"%,"+t[3]:t.join(","))+")"})),r&&(o=Dn(t),(n=r.c).join(a)!==o.c.join(a)))for(s=(i=t.replace(Fn,"1").split(hr)).length-1;c<s;c++)a+=i[c]+(~n.indexOf(c)?u.shift()||l+"0,0,0,0)":(o.length?o:u.length?u:r).shift());if(!i)for(s=(i=t.split(Fn)).length-1;c<s;c++)a+=i[c]+u[c];return a+i[s]},Fn=function(){var t,e="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b";for(t in kn)e+="|"+t+"\\b";return new RegExp(e+")","gi")}(),Nn=/hsl[a]?\(/,Un=function(t){var e,r=t.join(" ");if(Fn.lastIndex=0,Fn.test(r))return e=Nn.test(r),t[1]=Bn(t[1],e),t[0]=Bn(t[0],e,Dn(t[1])),!0},Wn=(Ie=Date.now,je=500,Ce=33,ke=Ie(),Me=ke,De=Le=1e3/240,Fe=function t(e){var r,n,i,o,s=Ie()-Me,a=!0===e;if(s>je&&(ke+=s-Ce),((r=(i=(Me+=s)-ke)-De)>0||a)&&(o=++Ee.frame,Re=i-1e3*Ee.time,Ee.time=i/=1e3,De+=r+(r>=Le?4:Le-r),n=1),a||(Se=Pe(t)),n)for(Ae=0;Ae<Be.length;Ae++)Be[Ae](i,Re,o,e)},Ee={time:0,frame:0,tick:function(){Fe(!0)},deltaRatio:function(t){return Re/(1e3/(t||60))},wake:function(){_e&&(!be&&or()&&(me=be=window,ve=me.document||{},gr.gsap=Ai,(me.gsapVersions||(me.gsapVersions=[])).push(Ai.version),br(mr||me.GreenSockGlobals||!me.gsap&&me||{}),Te=me.requestAnimationFrame),Se&&Ee.sleep(),Pe=Te||function(t){return setTimeout(t,De-1e3*Ee.time+1|0)},Oe=1,Fe(2))},sleep:function(){(Te?me.cancelAnimationFrame:clearTimeout)(Se),Oe=0,Pe=xr},lagSmoothing:function(t,e){je=t||1e8,Ce=Math.min(e,je,0)},fps:function(t){Le=1e3/(t||240),De=1e3*Ee.time+Le},add:function(t){Be.indexOf(t)<0&&Be.push(t),zn()},remove:function(t){var e;~(e=Be.indexOf(t))&&Be.splice(e,1)&&Ae>=e&&Ae--},_listeners:Be=[]}),zn=function(){return!Oe&&Wn.wake()},Hn={},Xn=/^[\d.\-M][\d.\-,\s]/,Gn=/["']/g,Yn=function(t){for(var e,r,n,i={},o=t.substr(1,t.length-3).split(":"),s=o[0],a=1,u=o.length;a<u;a++)r=o[a],e=a!==u-1?r.lastIndexOf(","):r.length,n=r.substr(0,e),i[s]=isNaN(n)?n.replace(Gn,"").trim():+n,s=r.substr(e+1).trim();return i},Vn=function(t){return function(e){return 1-t(1-e)}},qn=function t(e,r){for(var n,i=e._first;i;)i instanceof ri?t(i,r):!i.vars.yoyoEase||i._yoyo&&i._repeat||i._yoyo===r||(i.timeline?t(i.timeline,r):(n=i._ease,i._ease=i._yEase,i._yEase=n,i._yoyo=r)),i=i._next},Kn=function(t,e){return t&&(tr(t)?t:Hn[t]||function(t){var e,r,n,i,o=(t+"").split("("),s=Hn[o[0]];return s&&o.length>1&&s.config?s.config.apply(null,~t.indexOf("{")?[Yn(o[1])]:(e=t,r=e.indexOf("(")+1,n=e.indexOf(")"),i=e.indexOf("(",r),e.substring(r,~i&&i<n?e.indexOf(")",n+1):n)).split(",").map(Ur)):Hn._CE&&Xn.test(t)?Hn._CE("",t):s}(t))||e},Zn=function(t,e,r,n){void 0===r&&(r=function(t){return 1-e(1-t)}),void 0===n&&(n=function(t){return t<.5?e(2*t)/2:1-e(2*(1-t))/2});var i,o={easeIn:e,easeOut:r,easeInOut:n};return Mr(t,(function(t){for(var e in Hn[t]=gr[t]=o,Hn[i=t.toLowerCase()]=r,o)Hn[i+("easeIn"===e?".in":"easeOut"===e?".out":".inOut")]=Hn[t+"."+e]=o[e]})),o},Jn=function(t){return function(e){return e<.5?(1-t(1-2*e))/2:.5+t(2*(e-.5))/2}},$n=function t(e,r,n){var i=r>=1?r:1,o=(n||(e?.3:.45))/(r<1?r:1),s=o/Ve*(Math.asin(1/i)||0),a=function(t){return 1===t?1:i*Math.pow(2,-10*t)*$e((t-s)*o)+1},u="out"===e?a:"in"===e?function(t){return 1-a(1-t)}:Jn(a);return o=Ve/o,u.config=function(r,n){return t(e,r,n)},u},Qn=function t(e,r){void 0===r&&(r=1.70158);var n=function(t){return t?--t*t*((r+1)*t+r)+1:0},i="out"===e?n:"in"===e?function(t){return 1-n(1-t)}:Jn(n);return i.config=function(r){return t(e,r)},i};Mr("Linear,Quad,Cubic,Quart,Quint,Strong",(function(t,e){var r=e<5?e+1:e;Zn(t+",Power"+(r-1),e?function(t){return Math.pow(t,r)}:function(t){return t},(function(t){return 1-Math.pow(1-t,r)}),(function(t){return t<.5?Math.pow(2*t,r)/2:1-Math.pow(2*(1-t),r)/2}))})),Hn.Linear.easeNone=Hn.none=Hn.Linear.easeIn,Zn("Elastic",$n("in"),$n("out"),$n()),Ne=7.5625,We=1/(Ue=2.75),Zn("Bounce",(function(t){return 1-ze(1-t)}),ze=function(t){return t<We?Ne*t*t:t<.7272727272727273?Ne*Math.pow(t-1.5/Ue,2)+.75:t<.9090909090909092?Ne*(t-=2.25/Ue)*t+.9375:Ne*Math.pow(t-2.625/Ue,2)+.984375}),Zn("Expo",(function(t){return t?Math.pow(2,10*(t-1)):0})),Zn("Circ",(function(t){return-(Ze(1-t*t)-1)})),Zn("Sine",(function(t){return 1===t?1:1-Je(t*qe)})),Zn("Back",Qn("in"),Qn("out"),Qn()),Hn.SteppedEase=Hn.steps=gr.SteppedEase={config:function(t,e){void 0===t&&(t=1);var r=1/t,n=t+(e?0:1),i=e?1:0;return function(t){return((n*yn(0,.99999999,t)|0)+i)*r}}},Xe.ease=Hn["quad.out"],Mr("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",(function(t){return Ir+=t+","+t+"Params,"}));var ti=function(t,e){this.id=Ke++,t._gsap=this,this.target=t,this.harness=e,this.get=e?e.get:kr,this.set=e?e.getSetter:gi},ei=function(){function t(t,e){var r=t.parent||ge;this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,cn(this,+t.duration,1,1),this.data=t.data,Oe||Wn.wake(),r&&sn(r,this,e||0===e?e:r._time,1),t.reversed&&this.reverse(),t.paused&&this.paused(!0)}var e=t.prototype;return e.delay=function(t){return t||0===t?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+t-this._delay),this._delay=t,this):this._delay},e.duration=function(t){return arguments.length?this.totalDuration(this._repeat>0?t+(t+this._rDelay)*this._repeat:t):this.totalDuration()&&this._dur},e.totalDuration=function(t){return arguments.length?(this._dirty=0,cn(this,this._repeat<0?t:(t-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(t,e){if(zn(),!arguments.length)return this._tTime;var r=this._dp;if(r&&r.smoothChildTiming&&this._ts){for(nn(this,t),!r._dp||r.parent||on(r,this);r.parent;)r.parent._time!==r._start+(r._ts>=0?r._tTime/r._ts:(r.totalDuration()-r._tTime)/-r._ts)&&r.totalTime(r._tTime,!0),r=r.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&t<this._tDur||this._ts<0&&t>0||!this._tDur&&!t)&&sn(this._dp,this,this._start-this._delay)}return(this._tTime!==t||!this._dur&&!e||this._initted&&Math.abs(this._zTime)===Ye||!t&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=t),Nr(this,t,e)),this},e.time=function(t,e){return arguments.length?this.totalTime(Math.min(this.totalDuration(),t+Qr(this))%this._dur||(t?this._dur:0),e):this._time},e.totalProgress=function(t,e){return arguments.length?this.totalTime(this.totalDuration()*t,e):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.ratio},e.progress=function(t,e){return arguments.length?this.totalTime(this.duration()*(!this._yoyo||1&this.iteration()?t:1-t)+Qr(this),e):this.duration()?Math.min(1,this._time/this._dur):this.ratio},e.iteration=function(t,e){var r=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(t-1)*r,e):this._repeat?tn(this._tTime,r)+1:1},e.timeScale=function(t){if(!arguments.length)return-1e-8===this._rts?0:this._rts;if(this._rts===t)return this;var e=this.parent&&this._ts?en(this.parent._time,this):this._tTime;return this._rts=+t||0,this._ts=this._ps||-1e-8===t?0:this._rts,Jr(this.totalTime(yn(-this._delay,this._tDur,e),!0))},e.paused=function(t){return arguments.length?(this._ps!==t&&(this._ps=t,t?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(zn(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,1===this.progress()&&(this._tTime-=Ye)&&Math.abs(this._zTime)!==Ye))),this):this._ps},e.startTime=function(t){if(arguments.length){this._start=t;var e=this.parent||this._dp;return e&&(e._sort||!this.parent)&&sn(e,this,t-this._delay),this}return this._start},e.endTime=function(t){return this._start+(ir(t)?this.totalDuration():this.duration())/Math.abs(this._ts)},e.rawTime=function(t){var e=this.parent||this._dp;return e?t&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?en(e.rawTime(t),this):this._tTime:this._tTime},e.globalTime=function(t){for(var e=this,r=arguments.length?t:e.rawTime();e;)r=e._start+r/(e._ts||1),e=e._dp;return r},e.repeat=function(t){return arguments.length?(this._repeat=t===1/0?-2:t,hn(this)):-2===this._repeat?1/0:this._repeat},e.repeatDelay=function(t){return arguments.length?(this._rDelay=t,hn(this)):this._rDelay},e.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},e.seek=function(t,e){return this.totalTime(pn(this,t),ir(e))},e.restart=function(t,e){return this.play().totalTime(t?-this._delay:0,ir(e))},e.play=function(t,e){return null!=t&&this.seek(t,e),this.reversed(!1).paused(!1)},e.reverse=function(t,e){return null!=t&&this.seek(t||this.totalDuration(),e),this.reversed(!0).paused(!1)},e.pause=function(t,e){return null!=t&&this.seek(t,e),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(t){return arguments.length?(!!t!==this.reversed()&&this.timeScale(-this._rts||(t?-1e-8:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-1e-8,this},e.isActive=function(){var t,e=this.parent||this._dp,r=this._start;return!(e&&!(this._ts&&this._initted&&e.isActive()&&(t=e.rawTime(!0))>=r&&t<this.endTime(!0)-Ye))},e.eventCallback=function(t,e,r){var n=this.vars;return arguments.length>1?(e?(n[t]=e,r&&(n[t+"Params"]=r),"onUpdate"===t&&(this._onUpdate=e)):delete n[t],this):n[t]},e.then=function(t){var e=this;return new Promise((function(r){var n=tr(t)?t:Wr,i=function(){var t=e.then;e.then=null,tr(n)&&(n=n(e))&&(n.then||n===e)&&(e.then=t),r(n),e.then=t};e._initted&&1===e.totalProgress()&&e._ts>=0||!e._tTime&&e._ts<0?i():e._prom=i}))},e.kill=function(){In(this)},t}();zr(ei.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-1e-8,_prom:0,_ps:!1,_rts:1});var ri=function(t){function e(e,r){var n;return void 0===e&&(e={}),(n=t.call(this,e,r)||this).labels={},n.smoothChildTiming=!!e.smoothChildTiming,n.autoRemoveChildren=!!e.autoRemoveChildren,n._sort=ir(e.sortChildren),n.parent&&on(n.parent,pe(n)),e.scrollTrigger&&an(pe(n),e.scrollTrigger),n}de(e,t);var r=e.prototype;return r.to=function(t,e,r){return new hi(t,Br(arguments,0,this),pn(this,er(e)?arguments[3]:r)),this},r.from=function(t,e,r){return new hi(t,Br(arguments,1,this),pn(this,er(e)?arguments[3]:r)),this},r.fromTo=function(t,e,r,n){return new hi(t,Br(arguments,2,this),pn(this,er(e)?arguments[4]:n)),this},r.set=function(t,e,r){return e.duration=0,e.parent=this,Vr(e).repeatDelay||(e.repeat=0),e.immediateRender=!!e.immediateRender,new hi(t,e,pn(this,r),1),this},r.call=function(t,e,r){return sn(this,hi.delayedCall(0,t,e),pn(this,r))},r.staggerTo=function(t,e,r,n,i,o,s){return r.duration=e,r.stagger=r.stagger||n,r.onComplete=o,r.onCompleteParams=s,r.parent=this,new hi(t,r,pn(this,i)),this},r.staggerFrom=function(t,e,r,n,i,o,s){return r.runBackwards=1,Vr(r).immediateRender=ir(r.immediateRender),this.staggerTo(t,e,r,n,i,o,s)},r.staggerFromTo=function(t,e,r,n,i,o,s,a){return n.startAt=r,Vr(n).immediateRender=ir(n.immediateRender),this.staggerTo(t,e,n,i,o,s,a)},r.render=function(t,e,r){var n,i,o,s,a,u,l,c,h,f,p,d,y=this._time,g=this._dirty?this.totalDuration():this._tDur,m=this._dur,b=this!==ge&&t>g-Ye&&t>=0?g:t<Ye?0:t,v=this._zTime<0!=t<0&&(this._initted||!m);if(b!==this._tTime||r||v){if(y!==this._time&&m&&(b+=this._time-y,t+=this._time-y),n=b,h=this._start,u=!(c=this._ts),v&&(m||(y=this._zTime),(t||!e)&&(this._zTime=t)),this._repeat){if(p=this._yoyo,a=m+this._rDelay,this._repeat<-1&&t<0)return this.totalTime(100*a+t,e,r);if(n=Lr(b%a),b===g?(s=this._repeat,n=m):((s=~~(b/a))&&s===b/a&&(n=m,s--),n>m&&(n=m)),f=tn(this._tTime,a),!y&&this._tTime&&f!==s&&(f=s),p&&1&s&&(n=m-n,d=1),s!==f&&!this._lock){var _=p&&1&f,w=_===(p&&1&s);if(s<f&&(_=!_),y=_?0:m,this._lock=1,this.render(y||(d?0:Lr(s*a)),e,!m)._lock=0,!e&&this.parent&&An(this,"onRepeat"),this.vars.repeatRefresh&&!d&&(this.invalidate()._lock=1),y!==this._time||u!==!this._ts)return this;if(m=this._dur,g=this._tDur,w&&(this._lock=2,y=_?m:-1e-4,this.render(y,!0),this.vars.repeatRefresh&&!d&&this.invalidate()),this._lock=0,!this._ts&&!u)return this;qn(this,d)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(l=function(t,e,r){var n;if(r>e)for(n=t._first;n&&n._start<=r;){if(!n._dur&&"isPause"===n.data&&n._start>e)return n;n=n._next}else for(n=t._last;n&&n._start>=r;){if(!n._dur&&"isPause"===n.data&&n._start<e)return n;n=n._prev}}(this,Lr(y),Lr(n)))&&(b-=n-(n=l._start)),this._tTime=b,this._time=n,this._act=!c,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=t,y=0),!y&&(n||!m&&t>=0)&&!e&&An(this,"onStart"),n>=y&&t>=0)for(i=this._first;i;){if(o=i._next,(i._act||n>=i._start)&&i._ts&&l!==i){if(i.parent!==this)return this.render(t,e,r);if(i.render(i._ts>0?(n-i._start)*i._ts:(i._dirty?i.totalDuration():i._tDur)+(n-i._start)*i._ts,e,r),n!==this._time||!this._ts&&!u){l=0,o&&(b+=this._zTime=-1e-8);break}}i=o}else{i=this._last;for(var x=t<0?t:n;i;){if(o=i._prev,(i._act||x<=i._end)&&i._ts&&l!==i){if(i.parent!==this)return this.render(t,e,r);if(i.render(i._ts>0?(x-i._start)*i._ts:(i._dirty?i.totalDuration():i._tDur)+(x-i._start)*i._ts,e,r),n!==this._time||!this._ts&&!u){l=0,o&&(b+=this._zTime=x?-1e-8:Ye);break}}i=o}}if(l&&!e&&(this.pause(),l.render(n>=y?0:-1e-8)._zTime=n>=y?1:-1,this._ts))return this._start=h,rn(this),this.render(t,e,r);this._onUpdate&&!e&&An(this,"onUpdate",!0),(b===g&&g>=this.totalDuration()||!b&&y)&&(h!==this._start&&Math.abs(c)===Math.abs(this._ts)||this._lock||((t||!m)&&(b===g&&this._ts>0||!b&&this._ts<0)&&Kr(this,1),e||t<0&&!y||!b&&!y||(An(this,b===g?"onComplete":"onReverseComplete",!0),this._prom&&!(b<g&&this.timeScale()>0)&&this._prom())))}return this},r.add=function(t,e){var r=this;if(er(e)||(e=pn(this,e)),!(t instanceof ei)){if(ur(t))return t.forEach((function(t){return r.add(t,e)})),this;if(Qe(t))return this.addLabel(t,e);if(!tr(t))return this;t=hi.delayedCall(0,t)}return this!==t?sn(this,t,e):this},r.getChildren=function(t,e,r,n){void 0===t&&(t=!0),void 0===e&&(e=!0),void 0===r&&(r=!0),void 0===n&&(n=-Ge);for(var i=[],o=this._first;o;)o._start>=n&&(o instanceof hi?e&&i.push(o):(r&&i.push(o),t&&i.push.apply(i,o.getChildren(!0,e,r)))),o=o._next;return i},r.getById=function(t){for(var e=this.getChildren(1,1,1),r=e.length;r--;)if(e[r].vars.id===t)return e[r]},r.remove=function(t){return Qe(t)?this.removeLabel(t):tr(t)?this.killTweensOf(t):(qr(this,t),t===this._recent&&(this._recent=this._last),Zr(this))},r.totalTime=function(e,r){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=Lr(Wn.time-(this._ts>0?e/this._ts:(this.totalDuration()-e)/-this._ts))),t.prototype.totalTime.call(this,e,r),this._forcing=0,this):this._tTime},r.addLabel=function(t,e){return this.labels[t]=pn(this,e),this},r.removeLabel=function(t){return delete this.labels[t],this},r.addPause=function(t,e,r){var n=hi.delayedCall(0,e||xr,r);return n.data="isPause",this._hasPause=1,sn(this,n,pn(this,t))},r.removePause=function(t){var e=this._first;for(t=pn(this,t);e;)e._start===t&&"isPause"===e.data&&Kr(e),e=e._next},r.killTweensOf=function(t,e,r){for(var n=this.getTweensOf(t,r),i=n.length;i--;)ni!==n[i]&&n[i].kill(t,e);return this},r.getTweensOf=function(t,e){for(var r,n=[],i=vn(t),o=this._first,s=er(e);o;)o instanceof hi?Dr(o._targets,i)&&(s?(!ni||o._initted&&o._ts)&&o.globalTime(0)<=e&&o.globalTime(o.totalDuration())>e:!e||o.isActive())&&n.push(o):(r=o.getTweensOf(i,e)).length&&n.push.apply(n,r),o=o._next;return n},r.tweenTo=function(t,e){e=e||{};var r=this,n=pn(r,t),i=e,o=i.startAt,s=i.onStart,a=i.onStartParams,u=i.immediateRender,l=hi.to(r,zr({ease:"none",lazy:!1,immediateRender:!1,time:n,overwrite:"auto",duration:e.duration||Math.abs((n-(o&&"time"in o?o.time:r._time))/r.timeScale())||Ye,onStart:function(){r.pause();var t=e.duration||Math.abs((n-r._time)/r.timeScale());l._dur!==t&&cn(l,t,0,1).render(l._time,!0,!0),s&&s.apply(l,a||[])}},e));return u?l.render(0):l},r.tweenFromTo=function(t,e,r){return this.tweenTo(e,zr({startAt:{time:pn(this,t)}},r))},r.recent=function(){return this._recent},r.nextLabel=function(t){return void 0===t&&(t=this._time),Rn(this,pn(this,t))},r.previousLabel=function(t){return void 0===t&&(t=this._time),Rn(this,pn(this,t),1)},r.currentLabel=function(t){return arguments.length?this.seek(t,!0):this.previousLabel(this._time+Ye)},r.shiftChildren=function(t,e,r){void 0===r&&(r=0);for(var n,i=this._first,o=this.labels;i;)i._start>=r&&(i._start+=t,i._end+=t),i=i._next;if(e)for(n in o)o[n]>=r&&(o[n]+=t);return Zr(this)},r.invalidate=function(){var e=this._first;for(this._lock=0;e;)e.invalidate(),e=e._next;return t.prototype.invalidate.call(this)},r.clear=function(t){void 0===t&&(t=!0);for(var e,r=this._first;r;)e=r._next,this.remove(r),r=e;return this._dp&&(this._time=this._tTime=this._pTime=0),t&&(this.labels={}),Zr(this)},r.totalDuration=function(t){var e,r,n,i=0,o=this,s=o._last,a=Ge;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-t:t));if(o._dirty){for(n=o.parent;s;)e=s._prev,s._dirty&&s.totalDuration(),(r=s._start)>a&&o._sort&&s._ts&&!o._lock?(o._lock=1,sn(o,s,r-s._delay,1)._lock=0):a=r,r<0&&s._ts&&(i-=r,(!n&&!o._dp||n&&n.smoothChildTiming)&&(o._start+=r/o._ts,o._time-=r,o._tTime-=r),o.shiftChildren(-r,!1,-Infinity),a=0),s._end>i&&s._ts&&(i=s._end),s=e;cn(o,o===ge&&o._time>i?o._time:i,1,1),o._dirty=0}return o._tDur},e.updateRoot=function(t){if(ge._ts&&(Nr(ge,en(t,ge)),we=Wn.frame),Wn.frame>=Rr){Rr+=He.autoSleep||120;var e=ge._first;if((!e||!e._ts)&&He.autoSleep&&Wn._listeners.length<2){for(;e&&!e._ts;)e=e._next;e||Wn.sleep()}}},e}(ei);zr(ri.prototype,{_lock:0,_hasPause:0,_forcing:0});var ni,ii=function(t,e,r,n,i,o,s){var a,u,l,c,h,f,p,d,y=new Pi(this._pt,t,e,0,1,vi,null,i),g=0,m=0;for(y.b=r,y.e=n,r+="",(p=~(n+="").indexOf("random("))&&(n=Tn(n)),o&&(o(d=[r,n],t,e),r=d[0],n=d[1]),u=r.match(fr)||[];a=fr.exec(n);)c=a[0],h=n.substring(g,a.index),l?l=(l+1)%5:"rgba("===h.substr(-5)&&(l=1),c!==u[m++]&&(f=parseFloat(u[m-1])||0,y._pt={_next:y._pt,p:h||1===m?h:",",s:f,c:"="===c.charAt(1)?parseFloat(c.substr(2))*("-"===c.charAt(0)?-1:1):parseFloat(c)-f,m:l&&l<4?Math.round:0},g=fr.lastIndex);return y.c=g<n.length?n.substring(g,n.length):"",y.fp=s,(pr.test(n)||p)&&(y.e=0),this._pt=y,y},oi=function(t,e,r,n,i,o,s,a,u){tr(n)&&(n=n(i||0,t,o));var l,c=t[e],h="get"!==r?r:tr(c)?u?t[e.indexOf("set")||!tr(t["get"+e.substr(3)])?e:"get"+e.substr(3)](u):t[e]():c,f=tr(c)?u?di:pi:fi;if(Qe(n)&&(~n.indexOf("random(")&&(n=Tn(n)),"="===n.charAt(1)&&(n=parseFloat(h)+parseFloat(n.substr(2))*("-"===n.charAt(0)?-1:1)+(gn(h)||0))),h!==n)return isNaN(h*n)?(!c&&!(e in t)&&vr(e,n),ii.call(this,t,e,h,n,f,a||He.stringFilter,u)):(l=new Pi(this._pt,t,e,+h||0,n-(h||0),"boolean"==typeof c?bi:mi,0,f),u&&(l.fp=u),s&&l.modifier(s,this,t),this._pt=l)},si=function(t,e,r,n,i,o){var s,a,u,l;if(Tr[t]&&!1!==(s=new Tr[t]).init(i,s.rawVars?e[t]:function(t,e,r,n,i){if(tr(t)&&(t=ui(t,i,e,r,n)),!nr(t)||t.style&&t.nodeType||ur(t)||ar(t))return Qe(t)?ui(t,i,e,r,n):t;var o,s={};for(o in t)s[o]=ui(t[o],i,e,r,n);return s}(e[t],n,i,o,r),r,n,o)&&(r._pt=a=new Pi(r._pt,i,t,0,1,s.render,s,0,s.priority),r!==xe))for(u=r._ptLookup[r._targets.indexOf(i)],l=s._props.length;l--;)u[s._props[l]]=a;return s},ai=function t(e,r){var n,i,o,s,a,u,l,c,h,f,p,d,y,g=e.vars,m=g.ease,b=g.startAt,v=g.immediateRender,_=g.lazy,w=g.onUpdate,x=g.onUpdateParams,O=g.callbackScope,S=g.runBackwards,P=g.yoyoEase,T=g.keyframes,E=g.autoRevert,R=e._dur,A=e._startAt,I=e._targets,j=e.parent,C=j&&"nested"===j.data?j.parent._targets:I,k="auto"===e._overwrite&&!ye,M=e.timeline;if(M&&(!T||!m)&&(m="none"),e._ease=Kn(m,Xe.ease),e._yEase=P?Vn(Kn(!0===P?m:P,Xe.ease)):0,P&&e._yoyo&&!e._repeat&&(P=e._yEase,e._yEase=e._ease,e._ease=P),!M){if(d=(c=I[0]?Cr(I[0]).harness:0)&&g[c.prop],n=Yr(g,Or),A&&A.render(-1,!0).kill(),b){if(Kr(e._startAt=hi.set(I,zr({data:"isStart",overwrite:!1,parent:j,immediateRender:!0,lazy:ir(_),startAt:null,delay:0,onUpdate:w,onUpdateParams:x,callbackScope:O,stagger:0},b))),v)if(r>0)E||(e._startAt=0);else if(R&&!(r<0&&A))return void(r&&(e._zTime=r))}else if(S&&R)if(A)!E&&(e._startAt=0);else if(r&&(v=!1),o=zr({overwrite:!1,data:"isFromStart",lazy:v&&ir(_),immediateRender:v,stagger:0,parent:j},n),d&&(o[c.prop]=d),Kr(e._startAt=hi.set(I,o)),v){if(!r)return}else t(e._startAt,Ye);for(e._pt=0,_=R&&ir(_)||_&&!R,i=0;i<I.length;i++){if(l=(a=I[i])._gsap||jr(I)[i]._gsap,e._ptLookup[i]=f={},Pr[l.id]&&Sr.length&&Fr(),p=C===I?i:C.indexOf(a),c&&!1!==(h=new c).init(a,d||n,e,p,C)&&(e._pt=s=new Pi(e._pt,a,h.name,0,1,h.render,h,0,h.priority),h._props.forEach((function(t){f[t]=s})),h.priority&&(u=1)),!c||d)for(o in n)Tr[o]&&(h=si(o,n,e,p,a,C))?h.priority&&(u=1):f[o]=s=oi.call(e,a,o,"get",n[o],p,C,0,g.stringFilter);e._op&&e._op[i]&&e.kill(a,e._op[i]),k&&e._pt&&(ni=e,ge.killTweensOf(a,f,e.globalTime(0)),y=!e.parent,ni=0),e._pt&&_&&(Pr[l.id]=1)}u&&Si(e),e._onInit&&e._onInit(e)}e._from=!M&&!!g.runBackwards,e._onUpdate=w,e._initted=(!e._op||e._pt)&&!y},ui=function(t,e,r,n,i){return tr(t)?t.call(e,r,n,i):Qe(t)&&~t.indexOf("random(")?Tn(t):t},li=Ir+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase",ci=(li+",id,stagger,delay,duration,paused,scrollTrigger").split(","),hi=function(t){function e(e,r,n,i){var o;"number"==typeof r&&(n.duration=r,r=n,n=null);var s,a,u,l,c,h,f,p,d=(o=t.call(this,i?r:Vr(r),n)||this).vars,y=d.duration,g=d.delay,m=d.immediateRender,b=d.stagger,v=d.overwrite,_=d.keyframes,w=d.defaults,x=d.scrollTrigger,O=d.yoyoEase,S=o.parent,P=(ur(e)||ar(e)?er(e[0]):"length"in r)?[e]:vn(e);if(o._targets=P.length?jr(P):_r("GSAP target "+e+" not found. https://greensock.com",!He.nullTargetWarn)||[],o._ptLookup=[],o._overwrite=v,_||b||sr(y)||sr(g)){if(r=o.vars,(s=o.timeline=new ri({data:"nested",defaults:w||{}})).kill(),s.parent=s._dp=pe(o),s._start=0,_)zr(s.vars.defaults,{ease:"none"}),_.forEach((function(t){return s.to(P,t,">")}));else{if(l=P.length,f=b?wn(b):xr,nr(b))for(c in b)~li.indexOf(c)&&(p||(p={}),p[c]=b[c]);for(a=0;a<l;a++){for(c in u={},r)ci.indexOf(c)<0&&(u[c]=r[c]);u.stagger=0,O&&(u.yoyoEase=O),p&&Xr(u,p),h=P[a],u.duration=+ui(y,pe(o),a,h,P),u.delay=(+ui(g,pe(o),a,h,P)||0)-o._delay,!b&&1===l&&u.delay&&(o._delay=g=u.delay,o._start+=g,u.delay=0),s.to(h,u,f(a,h,P))}s.duration()?y=g=0:o.timeline=0}y||o.duration(y=s.duration())}else o.timeline=0;return!0!==v||ye||(ni=pe(o),ge.killTweensOf(P),ni=0),S&&on(S,pe(o)),(m||!y&&!_&&o._start===Lr(S._time)&&ir(m)&&$r(pe(o))&&"nested"!==S.data)&&(o._tTime=-1e-8,o.render(Math.max(0,-g))),x&&an(pe(o),x),o}de(e,t);var r=e.prototype;return r.render=function(t,e,r){var n,i,o,s,a,u,l,c,h,f=this._time,p=this._tDur,d=this._dur,y=t>p-Ye&&t>=0?p:t<Ye?0:t;if(d){if(y!==this._tTime||!t||r||!this._initted&&this._tTime||this._startAt&&this._zTime<0!=t<0){if(n=y,c=this.timeline,this._repeat){if(s=d+this._rDelay,this._repeat<-1&&t<0)return this.totalTime(100*s+t,e,r);if(n=Lr(y%s),y===p?(o=this._repeat,n=d):((o=~~(y/s))&&o===y/s&&(n=d,o--),n>d&&(n=d)),(u=this._yoyo&&1&o)&&(h=this._yEase,n=d-n),a=tn(this._tTime,s),n===f&&!r&&this._initted)return this;o!==a&&(c&&this._yEase&&qn(c,u),!this.vars.repeatRefresh||u||this._lock||(this._lock=r=1,this.render(Lr(s*o),!0).invalidate()._lock=0))}if(!this._initted){if(un(this,t<0?t:n,r,e))return this._tTime=0,this;if(d!==this._dur)return this.render(t,e,r)}for(this._tTime=y,this._time=n,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=l=(h||this._ease)(n/d),this._from&&(this.ratio=l=1-l),n&&!f&&!e&&An(this,"onStart"),i=this._pt;i;)i.r(l,i.d),i=i._next;c&&c.render(t<0?t:!n&&u?-1e-8:c._dur*l,e,r)||this._startAt&&(this._zTime=t),this._onUpdate&&!e&&(t<0&&this._startAt&&this._startAt.render(t,!0,r),An(this,"onUpdate")),this._repeat&&o!==a&&this.vars.onRepeat&&!e&&this.parent&&An(this,"onRepeat"),y!==this._tDur&&y||this._tTime!==y||(t<0&&this._startAt&&!this._onUpdate&&this._startAt.render(t,!0,!0),(t||!d)&&(y===this._tDur&&this._ts>0||!y&&this._ts<0)&&Kr(this,1),e||t<0&&!f||!y&&!f||(An(this,y===p?"onComplete":"onReverseComplete",!0),this._prom&&!(y<p&&this.timeScale()>0)&&this._prom()))}}else!function(t,e,r,n){var i,o,s,a=t.ratio,u=e<0||!e&&(!t._start&&ln(t)||(t._ts<0||t._dp._ts<0)&&"isFromStart"!==t.data&&"isStart"!==t.data)?0:1,l=t._rDelay,c=0;if(l&&t._repeat&&(c=yn(0,t._tDur,e),o=tn(c,l),s=tn(t._tTime,l),t._yoyo&&1&o&&(u=1-u),o!==s&&(a=1-u,t.vars.repeatRefresh&&t._initted&&t.invalidate())),u!==a||n||t._zTime===Ye||!e&&t._zTime){if(!t._initted&&un(t,e,n,r))return;for(s=t._zTime,t._zTime=e||(r?Ye:0),r||(r=e&&!s),t.ratio=u,t._from&&(u=1-u),t._time=0,t._tTime=c,r||An(t,"onStart"),i=t._pt;i;)i.r(u,i.d),i=i._next;t._startAt&&e<0&&t._startAt.render(e,!0,!0),t._onUpdate&&!r&&An(t,"onUpdate"),c&&t._repeat&&!r&&t.parent&&An(t,"onRepeat"),(e>=t._tDur||e<0)&&t.ratio===u&&(u&&Kr(t,1),r||(An(t,u?"onComplete":"onReverseComplete",!0),t._prom&&t._prom()))}else t._zTime||(t._zTime=e)}(this,t,e,r);return this},r.targets=function(){return this._targets},r.invalidate=function(){return this._pt=this._op=this._startAt=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(),t.prototype.invalidate.call(this)},r.kill=function(t,e){if(void 0===e&&(e="all"),!(t||e&&"all"!==e))return this._lazy=this._pt=0,this.parent?In(this):this;if(this.timeline){var r=this.timeline.totalDuration();return this.timeline.killTweensOf(t,e,ni&&!0!==ni.vars.overwrite)._first||In(this),this.parent&&r!==this.timeline.totalDuration()&&cn(this,this._dur*this.timeline._tDur/r,0,1),this}var n,i,o,s,a,u,l,c=this._targets,h=t?vn(t):c,f=this._ptLookup,p=this._pt;if((!e||"all"===e)&&function(t,e){for(var r=t.length,n=r===e.length;n&&r--&&t[r]===e[r];);return r<0}(c,h))return"all"===e&&(this._pt=0),In(this);for(n=this._op=this._op||[],"all"!==e&&(Qe(e)&&(a={},Mr(e,(function(t){return a[t]=1})),e=a),e=function(t,e){var r,n,i,o,s=t[0]?Cr(t[0]).harness:0,a=s&&s.aliases;if(!a)return e;for(n in r=Xr({},e),a)if(n in r)for(i=(o=a[n].split(",")).length;i--;)r[o[i]]=r[n];return r}(c,e)),l=c.length;l--;)if(~h.indexOf(c[l]))for(a in i=f[l],"all"===e?(n[l]=e,s=i,o={}):(o=n[l]=n[l]||{},s=e),s)(u=i&&i[a])&&("kill"in u.d&&!0!==u.d.kill(a)||qr(this,u,"_pt"),delete i[a]),"all"!==o&&(o[a]=1);return this._initted&&!this._pt&&p&&In(this),this},e.to=function(t,r){return new e(t,r,arguments[2])},e.from=function(t,r){return new e(t,Br(arguments,1))},e.delayedCall=function(t,r,n,i){return new e(r,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:t,onComplete:r,onReverseComplete:r,onCompleteParams:n,onReverseCompleteParams:n,callbackScope:i})},e.fromTo=function(t,r,n){return new e(t,Br(arguments,2))},e.set=function(t,r){return r.duration=0,r.repeatDelay||(r.repeat=0),new e(t,r)},e.killTweensOf=function(t,e,r){return ge.killTweensOf(t,e,r)},e}(ei);zr(hi.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0}),Mr("staggerTo,staggerFrom,staggerFromTo",(function(t){hi[t]=function(){var e=new ri,r=mn.call(arguments,0);return r.splice("staggerFromTo"===t?5:4,0,0),e[t].apply(e,r)}}));var fi=function(t,e,r){return t[e]=r},pi=function(t,e,r){return t[e](r)},di=function(t,e,r,n){return t[e](n.fp,r)},yi=function(t,e,r){return t.setAttribute(e,r)},gi=function(t,e){return tr(t[e])?pi:rr(t[e])&&t.setAttribute?yi:fi},mi=function(t,e){return e.set(e.t,e.p,Math.round(1e4*(e.s+e.c*t))/1e4,e)},bi=function(t,e){return e.set(e.t,e.p,!!(e.s+e.c*t),e)},vi=function(t,e){var r=e._pt,n="";if(!t&&e.b)n=e.b;else if(1===t&&e.e)n=e.e;else{for(;r;)n=r.p+(r.m?r.m(r.s+r.c*t):Math.round(1e4*(r.s+r.c*t))/1e4)+n,r=r._next;n+=e.c}e.set(e.t,e.p,n,e)},_i=function(t,e){for(var r=e._pt;r;)r.r(t,r.d),r=r._next},wi=function(t,e,r,n){for(var i,o=this._pt;o;)i=o._next,o.p===n&&o.modifier(t,e,r),o=i},xi=function(t){for(var e,r,n=this._pt;n;)r=n._next,n.p===t&&!n.op||n.op===t?qr(this,n,"_pt"):n.dep||(e=1),n=r;return!e},Oi=function(t,e,r,n){n.mSet(t,e,n.m.call(n.tween,r,n.mt),n)},Si=function(t){for(var e,r,n,i,o=t._pt;o;){for(e=o._next,r=n;r&&r.pr>o.pr;)r=r._next;(o._prev=r?r._prev:i)?o._prev._next=o:n=o,(o._next=r)?r._prev=o:i=o,o=e}t._pt=n},Pi=function(){function t(t,e,r,n,i,o,s,a,u){this.t=e,this.s=n,this.c=i,this.p=r,this.r=o||mi,this.d=s||this,this.set=a||fi,this.pr=u||0,this._next=t,t&&(t._prev=this)}return t.prototype.modifier=function(t,e,r){this.mSet=this.mSet||this.set,this.set=Oi,this.m=t,this.mt=r,this.tween=e},t}();Mr(Ir+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",(function(t){return Or[t]=1})),gr.TweenMax=gr.TweenLite=hi,gr.TimelineLite=gr.TimelineMax=ri,ge=new ri({sortChildren:!1,defaults:Xe,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0}),He.stringFilter=Un;var Ti={registerPlugin:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];e.forEach((function(t){return jn(t)}))},timeline:function(t){return new ri(t)},getTweensOf:function(t,e){return ge.getTweensOf(t,e)},getProperty:function(t,e,r,n){Qe(t)&&(t=vn(t)[0]);var i=Cr(t||{}).get,o=r?Wr:Ur;return"native"===r&&(r=""),t?e?o((Tr[e]&&Tr[e].get||i)(t,e,r,n)):function(e,r,n){return o((Tr[e]&&Tr[e].get||i)(t,e,r,n))}:t},quickSetter:function(t,e,r){if((t=vn(t)).length>1){var n=t.map((function(t){return Ai.quickSetter(t,e,r)})),i=n.length;return function(t){for(var e=i;e--;)n[e](t)}}t=t[0]||{};var o=Tr[e],s=Cr(t),a=s.harness&&(s.harness.aliases||{})[e]||e,u=o?function(e){var n=new o;xe._pt=0,n.init(t,r?e+r:e,xe,0,[t]),n.render(1,n),xe._pt&&_i(1,xe)}:s.set(t,a);return o?u:function(e){return u(t,a,r?e+r:e,s,1)}},isTweening:function(t){return ge.getTweensOf(t,!0).length>0},defaults:function(t){return t&&t.ease&&(t.ease=Kn(t.ease,Xe.ease)),Gr(Xe,t||{})},config:function(t){return Gr(He,t||{})},registerEffect:function(t){var e=t.name,r=t.effect,n=t.plugins,i=t.defaults,o=t.extendTimeline;(n||"").split(",").forEach((function(t){return t&&!Tr[t]&&!gr[t]&&_r(e+" effect requires "+t+" plugin.")})),Er[e]=function(t,e,n){return r(vn(t),zr(e||{},i),n)},o&&(ri.prototype[e]=function(t,r,n){return this.add(Er[e](t,nr(r)?r:(n=r)&&{},this),n)})},registerEase:function(t,e){Hn[t]=Kn(e)},parseEase:function(t,e){return arguments.length?Kn(t,e):Hn},getById:function(t){return ge.getById(t)},exportRoot:function(t,e){void 0===t&&(t={});var r,n,i=new ri(t);for(i.smoothChildTiming=ir(t.smoothChildTiming),ge.remove(i),i._dp=0,i._time=i._tTime=ge._time,r=ge._first;r;)n=r._next,!e&&!r._dur&&r instanceof hi&&r.vars.onComplete===r._targets[0]||sn(i,r,r._start-r._delay),r=n;return sn(ge,i,0),i},utils:{wrap:function t(e,r,n){var i=r-e;return ur(e)?Pn(e,t(0,e.length),r):dn(n,(function(t){return(i+(t-e)%i)%i+e}))},wrapYoyo:function t(e,r,n){var i=r-e,o=2*i;return ur(e)?Pn(e,t(0,e.length-1),r):dn(n,(function(t){return e+((t=(o+(t-e)%o)%o||0)>i?o-t:t)}))},distribute:wn,random:Sn,snap:On,normalize:function(t,e,r){return En(t,e,0,1,r)},getUnit:gn,clamp:function(t,e,r){return dn(r,(function(r){return yn(t,e,r)}))},splitColor:Ln,toArray:vn,mapRange:En,pipe:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return function(t){return e.reduce((function(t,e){return e(t)}),t)}},unitize:function(t,e){return function(r){return t(parseFloat(r))+(e||gn(r))}},interpolate:function t(e,r,n,i){var o=isNaN(e+r)?0:function(t){return(1-t)*e+t*r};if(!o){var s,a,u,l,c,h=Qe(e),f={};if(!0===n&&(i=1)&&(n=null),h)e={p:e},r={p:r};else if(ur(e)&&!ur(r)){for(u=[],l=e.length,c=l-2,a=1;a<l;a++)u.push(t(e[a-1],e[a]));l--,o=function(t){t*=l;var e=Math.min(c,~~t);return u[e](t-e)},n=r}else i||(e=Xr(ur(e)?[]:{},e));if(!u){for(s in r)oi.call(f,e,s,"get",r[s]);o=function(t){return _i(t,f)||(h?e.p:e)}}}return dn(n,o)},shuffle:_n},install:br,effects:Er,ticker:Wn,updateRoot:ri.updateRoot,plugins:Tr,globalTimeline:ge,core:{PropTween:Pi,globals:wr,Tween:hi,Timeline:ri,Animation:ei,getCache:Cr,_removeLinkedListItem:qr,suppressOverwrites:function(t){return ye=t}}};Mr("to,from,fromTo,delayedCall,set,killTweensOf",(function(t){return Ti[t]=hi[t]})),Wn.add(ri.updateRoot),xe=Ti.to({},{duration:0});var Ei=function(t,e){for(var r=t._pt;r&&r.p!==e&&r.op!==e&&r.fp!==e;)r=r._next;return r},Ri=function(t,e){return{name:t,rawVars:1,init:function(t,r,n){n._onInit=function(t){var n,i;if(Qe(r)&&(n={},Mr(r,(function(t){return n[t]=1})),r=n),e){for(i in n={},r)n[i]=e(r[i]);r=n}!function(t,e){var r,n,i,o=t._targets;for(r in e)for(n=o.length;n--;)(i=t._ptLookup[n][r])&&(i=i.d)&&(i._pt&&(i=Ei(i,r)),i&&i.modifier&&i.modifier(e[r],t,o[n],r))}(t,r)}}}},Ai=Ti.registerPlugin({name:"attr",init:function(t,e,r,n,i){var o,s;for(o in e)(s=this.add(t,"setAttribute",(t.getAttribute(o)||0)+"",e[o],n,i,0,0,o))&&(s.op=o),this._props.push(o)}},{name:"endArray",init:function(t,e){for(var r=e.length;r--;)this.add(t,r,t[r]||0,e[r])}},Ri("roundProps",xn),Ri("modifiers"),Ri("snap",On))||Ti;hi.version=ri.version=Ai.version="3.6.0",_e=1,or()&&zn(),Hn.Power0,Hn.Power1,Hn.Power2,Hn.Power3,Hn.Power4,Hn.Linear,Hn.Quad,Hn.Cubic,Hn.Quart,Hn.Quint,Hn.Strong,Hn.Elastic,Hn.Back,Hn.SteppedEase,Hn.Bounce,Hn.Sine,Hn.Expo,Hn.Circ;var Ii,ji,Ci,ki,Mi,Li,Di,Bi,Fi={},Ni=180/Math.PI,Ui=Math.PI/180,Wi=Math.atan2,zi=/([A-Z])/g,Hi=/(?:left|right|width|margin|padding|x)/i,Xi=/[\s,\(]\S/,Gi={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},Yi=function(t,e){return e.set(e.t,e.p,Math.round(1e4*(e.s+e.c*t))/1e4+e.u,e)},Vi=function(t,e){return e.set(e.t,e.p,1===t?e.e:Math.round(1e4*(e.s+e.c*t))/1e4+e.u,e)},qi=function(t,e){return e.set(e.t,e.p,t?Math.round(1e4*(e.s+e.c*t))/1e4+e.u:e.b,e)},Ki=function(t,e){var r=e.s+e.c*t;e.set(e.t,e.p,~~(r+(r<0?-.5:.5))+e.u,e)},Zi=function(t,e){return e.set(e.t,e.p,t?e.e:e.b,e)},Ji=function(t,e){return e.set(e.t,e.p,1!==t?e.b:e.e,e)},$i=function(t,e,r){return t.style[e]=r},Qi=function(t,e,r){return t.style.setProperty(e,r)},to=function(t,e,r){return t._gsap[e]=r},eo=function(t,e,r){return t._gsap.scaleX=t._gsap.scaleY=r},ro=function(t,e,r,n,i){var o=t._gsap;o.scaleX=o.scaleY=r,o.renderTransform(i,o)},no=function(t,e,r,n,i){var o=t._gsap;o[e]=r,o.renderTransform(i,o)},io="transform",oo=io+"Origin",so=function(t,e){var r=ji.createElementNS?ji.createElementNS((e||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),t):ji.createElement(t);return r.style?r:ji.createElement(t)},ao=function t(e,r,n){var i=getComputedStyle(e);return i[r]||i.getPropertyValue(r.replace(zi,"-$1").toLowerCase())||i.getPropertyValue(r)||!n&&t(e,lo(r)||r,1)||""},uo="O,Moz,ms,Ms,Webkit".split(","),lo=function(t,e,r){var n=(e||Mi).style,i=5;if(t in n&&!r)return t;for(t=t.charAt(0).toUpperCase()+t.substr(1);i--&&!(uo[i]+t in n););return i<0?null:(3===i?"ms":i>=0?uo[i]:"")+t},co=function(){"undefined"!=typeof window&&window.document&&(Ii=window,ji=Ii.document,Ci=ji.documentElement,Mi=so("div")||{style:{}},Li=so("div"),io=lo(io),oo=io+"Origin",Mi.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",Bi=!!lo("perspective"),ki=1)},ho=function t(e){var r,n=so("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),i=this.parentNode,o=this.nextSibling,s=this.style.cssText;if(Ci.appendChild(n),n.appendChild(this),this.style.display="block",e)try{r=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=t}catch(t){}else this._gsapBBox&&(r=this._gsapBBox());return i&&(o?i.insertBefore(this,o):i.appendChild(this)),Ci.removeChild(n),this.style.cssText=s,r},fo=function(t,e){for(var r=e.length;r--;)if(t.hasAttribute(e[r]))return t.getAttribute(e[r])},po=function(t){var e;try{e=t.getBBox()}catch(r){e=ho.call(t,!0)}return e&&(e.width||e.height)||t.getBBox===ho||(e=ho.call(t,!0)),!e||e.width||e.x||e.y?e:{x:+fo(t,["x","cx","x1"])||0,y:+fo(t,["y","cy","y1"])||0,width:0,height:0}},yo=function(t){return!(!t.getCTM||t.parentNode&&!t.ownerSVGElement||!po(t))},go=function(t,e){if(e){var r=t.style;e in Fi&&e!==oo&&(e=io),r.removeProperty?("ms"!==e.substr(0,2)&&"webkit"!==e.substr(0,6)||(e="-"+e),r.removeProperty(e.replace(zi,"-$1").toLowerCase())):r.removeAttribute(e)}},mo=function(t,e,r,n,i,o){var s=new Pi(t._pt,e,r,0,1,o?Ji:Zi);return t._pt=s,s.b=n,s.e=i,t._props.push(r),s},bo={deg:1,rad:1,turn:1},vo=function t(e,r,n,i){var o,s,a,u,l=parseFloat(n)||0,c=(n+"").trim().substr((l+"").length)||"px",h=Mi.style,f=Hi.test(r),p="svg"===e.tagName.toLowerCase(),d=(p?"client":"offset")+(f?"Width":"Height"),y=100,g="px"===i,m="%"===i;return i===c||!l||bo[i]||bo[c]?l:("px"!==c&&!g&&(l=t(e,r,n,"px")),u=e.getCTM&&yo(e),!m&&"%"!==c||!Fi[r]&&!~r.indexOf("adius")?(h[f?"width":"height"]=y+(g?c:i),s=~r.indexOf("adius")||"em"===i&&e.appendChild&&!p?e:e.parentNode,u&&(s=(e.ownerSVGElement||{}).parentNode),s&&s!==ji&&s.appendChild||(s=ji.body),(a=s._gsap)&&m&&a.width&&f&&a.time===Wn.time?Lr(l/a.width*y):((m||"%"===c)&&(h.position=ao(e,"position")),s===e&&(h.position="static"),s.appendChild(Mi),o=Mi[d],s.removeChild(Mi),h.position="absolute",f&&m&&((a=Cr(s)).time=Wn.time,a.width=s[d]),Lr(g?o*l/y:o&&l?y/o*l:0))):(o=u?e.getBBox()[f?"width":"height"]:e[d],Lr(m?l/o*y:l/100*o)))},_o=function(t,e,r,n){var i;return ki||co(),e in Gi&&"transform"!==e&&~(e=Gi[e]).indexOf(",")&&(e=e.split(",")[0]),Fi[e]&&"transform"!==e?(i=Co(t,n),i="transformOrigin"!==e?i[e]:ko(ao(t,oo))+" "+i.zOrigin+"px"):(!(i=t.style[e])||"auto"===i||n||~(i+"").indexOf("calc("))&&(i=Po[e]&&Po[e](t,e,r)||ao(t,e)||kr(t,e)||("opacity"===e?1:0)),r&&!~(i+"").trim().indexOf(" ")?vo(t,e,i,r)+r:i},wo=function(t,e,r,n){if(!r||"none"===r){var i=lo(e,t,1),o=i&&ao(t,i,1);o&&o!==r?(e=i,r=o):"borderColor"===e&&(r=ao(t,"borderTopColor"))}var s,a,u,l,c,h,f,p,d,y,g,m,b=new Pi(this._pt,t.style,e,0,1,vi),v=0,_=0;if(b.b=r,b.e=n,r+="","auto"==(n+="")&&(t.style[e]=n,n=ao(t,e)||n,t.style[e]=r),Un(s=[r,n]),n=s[1],u=(r=s[0]).match(hr)||[],(n.match(hr)||[]).length){for(;a=hr.exec(n);)f=a[0],d=n.substring(v,a.index),c?c=(c+1)%5:"rgba("!==d.substr(-5)&&"hsla("!==d.substr(-5)||(c=1),f!==(h=u[_++]||"")&&(l=parseFloat(h)||0,g=h.substr((l+"").length),(m="="===f.charAt(1)?+(f.charAt(0)+"1"):0)&&(f=f.substr(2)),p=parseFloat(f),y=f.substr((p+"").length),v=hr.lastIndex-y.length,y||(y=y||He.units[e]||g,v===n.length&&(n+=y,b.e+=y)),g!==y&&(l=vo(t,e,h,y)||0),b._pt={_next:b._pt,p:d||1===_?d:",",s:l,c:m?m*p:p-l,m:c&&c<4||"zIndex"===e?Math.round:0});b.c=v<n.length?n.substring(v,n.length):""}else b.r="display"===e&&"none"===n?Ji:Zi;return pr.test(n)&&(b.e=0),this._pt=b,b},xo={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},Oo=function(t){var e=t.split(" "),r=e[0],n=e[1]||"50%";return"top"!==r&&"bottom"!==r&&"left"!==n&&"right"!==n||(t=r,r=n,n=t),e[0]=xo[r]||r,e[1]=xo[n]||n,e.join(" ")},So=function(t,e){if(e.tween&&e.tween._time===e.tween._dur){var r,n,i,o=e.t,s=o.style,a=e.u,u=o._gsap;if("all"===a||!0===a)s.cssText="",n=1;else for(i=(a=a.split(",")).length;--i>-1;)r=a[i],Fi[r]&&(n=1,r="transformOrigin"===r?oo:io),go(o,r);n&&(go(o,io),u&&(u.svg&&o.removeAttribute("transform"),Co(o,1),u.uncache=1))}},Po={clearProps:function(t,e,r,n,i){if("isFromStart"!==i.data){var o=t._pt=new Pi(t._pt,e,r,0,0,So);return o.u=n,o.pr=-10,o.tween=i,t._props.push(r),1}}},To=[1,0,0,1,0,0],Eo={},Ro=function(t){return"matrix(1, 0, 0, 1, 0, 0)"===t||"none"===t||!t},Ao=function(t){var e=ao(t,io);return Ro(e)?To:e.substr(7).match(cr).map(Lr)},Io=function(t,e){var r,n,i,o,s=t._gsap||Cr(t),a=t.style,u=Ao(t);return s.svg&&t.getAttribute("transform")?"1,0,0,1,0,0"===(u=[(i=t.transform.baseVal.consolidate().matrix).a,i.b,i.c,i.d,i.e,i.f]).join(",")?To:u:(u!==To||t.offsetParent||t===Ci||s.svg||(i=a.display,a.display="block",(r=t.parentNode)&&t.offsetParent||(o=1,n=t.nextSibling,Ci.appendChild(t)),u=Ao(t),i?a.display=i:go(t,"display"),o&&(n?r.insertBefore(t,n):r?r.appendChild(t):Ci.removeChild(t))),e&&u.length>6?[u[0],u[1],u[4],u[5],u[12],u[13]]:u)},jo=function(t,e,r,n,i,o){var s,a,u,l=t._gsap,c=i||Io(t,!0),h=l.xOrigin||0,f=l.yOrigin||0,p=l.xOffset||0,d=l.yOffset||0,y=c[0],g=c[1],m=c[2],b=c[3],v=c[4],_=c[5],w=e.split(" "),x=parseFloat(w[0])||0,O=parseFloat(w[1])||0;r?c!==To&&(a=y*b-g*m)&&(u=x*(-g/a)+O*(y/a)-(y*_-g*v)/a,x=x*(b/a)+O*(-m/a)+(m*_-b*v)/a,O=u):(x=(s=po(t)).x+(~w[0].indexOf("%")?x/100*s.width:x),O=s.y+(~(w[1]||w[0]).indexOf("%")?O/100*s.height:O)),n||!1!==n&&l.smooth?(v=x-h,_=O-f,l.xOffset=p+(v*y+_*m)-v,l.yOffset=d+(v*g+_*b)-_):l.xOffset=l.yOffset=0,l.xOrigin=x,l.yOrigin=O,l.smooth=!!n,l.origin=e,l.originIsAbsolute=!!r,t.style[oo]="0px 0px",o&&(mo(o,l,"xOrigin",h,x),mo(o,l,"yOrigin",f,O),mo(o,l,"xOffset",p,l.xOffset),mo(o,l,"yOffset",d,l.yOffset)),t.setAttribute("data-svg-origin",x+" "+O)},Co=function(t,e){var r=t._gsap||new ti(t);if("x"in r&&!e&&!r.uncache)return r;var n,i,o,s,a,u,l,c,h,f,p,d,y,g,m,b,v,_,w,x,O,S,P,T,E,R,A,I,j,C,k,M,L=t.style,D=r.scaleX<0,B="px",F="deg",N=ao(t,oo)||"0";return n=i=o=u=l=c=h=f=p=0,s=a=1,r.svg=!(!t.getCTM||!yo(t)),g=Io(t,r.svg),r.svg&&(T=!r.uncache&&t.getAttribute("data-svg-origin"),jo(t,T||N,!!T||r.originIsAbsolute,!1!==r.smooth,g)),d=r.xOrigin||0,y=r.yOrigin||0,g!==To&&(_=g[0],w=g[1],x=g[2],O=g[3],n=S=g[4],i=P=g[5],6===g.length?(s=Math.sqrt(_*_+w*w),a=Math.sqrt(O*O+x*x),u=_||w?Wi(w,_)*Ni:0,(h=x||O?Wi(x,O)*Ni+u:0)&&(a*=Math.cos(h*Ui)),r.svg&&(n-=d-(d*_+y*x),i-=y-(d*w+y*O))):(M=g[6],C=g[7],A=g[8],I=g[9],j=g[10],k=g[11],n=g[12],i=g[13],o=g[14],l=(m=Wi(M,j))*Ni,m&&(T=S*(b=Math.cos(-m))+A*(v=Math.sin(-m)),E=P*b+I*v,R=M*b+j*v,A=S*-v+A*b,I=P*-v+I*b,j=M*-v+j*b,k=C*-v+k*b,S=T,P=E,M=R),c=(m=Wi(-x,j))*Ni,m&&(b=Math.cos(-m),k=O*(v=Math.sin(-m))+k*b,_=T=_*b-A*v,w=E=w*b-I*v,x=R=x*b-j*v),u=(m=Wi(w,_))*Ni,m&&(T=_*(b=Math.cos(m))+w*(v=Math.sin(m)),E=S*b+P*v,w=w*b-_*v,P=P*b-S*v,_=T,S=E),l&&Math.abs(l)+Math.abs(u)>359.9&&(l=u=0,c=180-c),s=Lr(Math.sqrt(_*_+w*w+x*x)),a=Lr(Math.sqrt(P*P+M*M)),m=Wi(S,P),h=Math.abs(m)>2e-4?m*Ni:0,p=k?1/(k<0?-k:k):0),r.svg&&(T=t.getAttribute("transform"),r.forceCSS=t.setAttribute("transform","")||!Ro(ao(t,io)),T&&t.setAttribute("transform",T))),Math.abs(h)>90&&Math.abs(h)<270&&(D?(s*=-1,h+=u<=0?180:-180,u+=u<=0?180:-180):(a*=-1,h+=h<=0?180:-180)),r.x=n-((r.xPercent=n&&(r.xPercent||(Math.round(t.offsetWidth/2)===Math.round(-n)?-50:0)))?t.offsetWidth*r.xPercent/100:0)+B,r.y=i-((r.yPercent=i&&(r.yPercent||(Math.round(t.offsetHeight/2)===Math.round(-i)?-50:0)))?t.offsetHeight*r.yPercent/100:0)+B,r.z=o+B,r.scaleX=Lr(s),r.scaleY=Lr(a),r.rotation=Lr(u)+F,r.rotationX=Lr(l)+F,r.rotationY=Lr(c)+F,r.skewX=h+F,r.skewY=f+F,r.transformPerspective=p+B,(r.zOrigin=parseFloat(N.split(" ")[2])||0)&&(L[oo]=ko(N)),r.xOffset=r.yOffset=0,r.force3D=He.force3D,r.renderTransform=r.svg?Uo:Bi?No:Lo,r.uncache=0,r},ko=function(t){return(t=t.split(" "))[0]+" "+t[1]},Mo=function(t,e,r){var n=gn(e);return Lr(parseFloat(e)+parseFloat(vo(t,"x",r+"px",n)))+n},Lo=function(t,e){e.z="0px",e.rotationY=e.rotationX="0deg",e.force3D=0,No(t,e)},Do="0deg",Bo="0px",Fo=") ",No=function(t,e){var r=e||this,n=r.xPercent,i=r.yPercent,o=r.x,s=r.y,a=r.z,u=r.rotation,l=r.rotationY,c=r.rotationX,h=r.skewX,f=r.skewY,p=r.scaleX,d=r.scaleY,y=r.transformPerspective,g=r.force3D,m=r.target,b=r.zOrigin,v="",_="auto"===g&&t&&1!==t||!0===g;if(b&&(c!==Do||l!==Do)){var w,x=parseFloat(l)*Ui,O=Math.sin(x),S=Math.cos(x);x=parseFloat(c)*Ui,w=Math.cos(x),o=Mo(m,o,O*w*-b),s=Mo(m,s,-Math.sin(x)*-b),a=Mo(m,a,S*w*-b+b)}y!==Bo&&(v+="perspective("+y+Fo),(n||i)&&(v+="translate("+n+"%, "+i+"%) "),(_||o!==Bo||s!==Bo||a!==Bo)&&(v+=a!==Bo||_?"translate3d("+o+", "+s+", "+a+") ":"translate("+o+", "+s+Fo),u!==Do&&(v+="rotate("+u+Fo),l!==Do&&(v+="rotateY("+l+Fo),c!==Do&&(v+="rotateX("+c+Fo),h===Do&&f===Do||(v+="skew("+h+", "+f+Fo),1===p&&1===d||(v+="scale("+p+", "+d+Fo),m.style[io]=v||"translate(0, 0)"},Uo=function(t,e){var r,n,i,o,s,a=e||this,u=a.xPercent,l=a.yPercent,c=a.x,h=a.y,f=a.rotation,p=a.skewX,d=a.skewY,y=a.scaleX,g=a.scaleY,m=a.target,b=a.xOrigin,v=a.yOrigin,_=a.xOffset,w=a.yOffset,x=a.forceCSS,O=parseFloat(c),S=parseFloat(h);f=parseFloat(f),p=parseFloat(p),(d=parseFloat(d))&&(p+=d=parseFloat(d),f+=d),f||p?(f*=Ui,p*=Ui,r=Math.cos(f)*y,n=Math.sin(f)*y,i=Math.sin(f-p)*-g,o=Math.cos(f-p)*g,p&&(d*=Ui,s=Math.tan(p-d),i*=s=Math.sqrt(1+s*s),o*=s,d&&(s=Math.tan(d),r*=s=Math.sqrt(1+s*s),n*=s)),r=Lr(r),n=Lr(n),i=Lr(i),o=Lr(o)):(r=y,o=g,n=i=0),(O&&!~(c+"").indexOf("px")||S&&!~(h+"").indexOf("px"))&&(O=vo(m,"x",c,"px"),S=vo(m,"y",h,"px")),(b||v||_||w)&&(O=Lr(O+b-(b*r+v*i)+_),S=Lr(S+v-(b*n+v*o)+w)),(u||l)&&(s=m.getBBox(),O=Lr(O+u/100*s.width),S=Lr(S+l/100*s.height)),s="matrix("+r+","+n+","+i+","+o+","+O+","+S+")",m.setAttribute("transform",s),x&&(m.style[io]=s)},Wo=function(t,e,r,n,i,o){var s,a,u=360,l=Qe(i),c=parseFloat(i)*(l&&~i.indexOf("rad")?Ni:1),h=o?c*o:c-n,f=n+h+"deg";return l&&("short"===(s=i.split("_")[1])&&(h%=u)!=h%180&&(h+=h<0?u:-360),"cw"===s&&h<0?h=(h+36e9)%u-~~(h/u)*u:"ccw"===s&&h>0&&(h=(h-36e9)%u-~~(h/u)*u)),t._pt=a=new Pi(t._pt,e,r,n,h,Vi),a.e=f,a.u="deg",t._props.push(r),a},zo=function(t,e,r){var n,i,o,s,a,u,l,c=Li.style,h=r._gsap;for(i in c.cssText=getComputedStyle(r).cssText+";position:absolute;display:block;",c[io]=e,ji.body.appendChild(Li),n=Co(Li,1),Fi)(o=h[i])!==(s=n[i])&&"perspective,force3D,transformOrigin,svgOrigin".indexOf(i)<0&&(a=gn(o)!==(l=gn(s))?vo(r,i,o,l):parseFloat(o),u=parseFloat(s),t._pt=new Pi(t._pt,h,i,a,u-a,Yi),t._pt.u=l||0,t._props.push(i));ji.body.removeChild(Li)};Mr("padding,margin,Width,Radius",(function(t,e){var r="Top",n="Right",i="Bottom",o="Left",s=(e<3?[r,n,i,o]:[r+o,r+n,i+n,i+o]).map((function(r){return e<2?t+r:"border"+r+t}));Po[e>1?"border"+t:t]=function(t,e,r,n,i){var o,a;if(arguments.length<4)return o=s.map((function(e){return _o(t,e,r)})),5===(a=o.join(" ")).split(o[0]).length?o[0]:a;o=(n+"").split(" "),a={},s.forEach((function(t,e){return a[t]=o[e]=o[e]||o[(e-1)/2|0]})),t.init(e,a,i)}}));var Ho,Xo,Go={name:"css",register:co,targetTest:function(t){return t.style&&t.nodeType},init:function(t,e,r,n,i){var o,s,a,u,l,c,h,f,p,d,y,g,m,b,v,_=this._props,w=t.style,x=r.vars.startAt;for(h in ki||co(),e)if("autoRound"!==h&&(s=e[h],!Tr[h]||!si(h,e,r,n,t,i)))if(l=typeof s,c=Po[h],"function"===l&&(l=typeof(s=s.call(r,n,t,i))),"string"===l&&~s.indexOf("random(")&&(s=Tn(s)),c)c(this,t,h,s,r)&&(v=1);else if("--"===h.substr(0,2))o=(getComputedStyle(t).getPropertyValue(h)+"").trim(),s+="",f=gn(o),(p=gn(s))?f!==p&&(o=vo(t,h,o,p)+p):f&&(s+=f),this.add(w,"setProperty",o,s,n,i,0,0,h);else if("undefined"!==l){if(x&&h in x?(o="function"==typeof x[h]?x[h].call(r,n,t,i):x[h],h in He.units&&!gn(o)&&(o+=He.units[h]),"="===(o+"").charAt(1)&&(o=_o(t,h))):o=_o(t,h),u=parseFloat(o),(d="string"===l&&"="===s.charAt(1)?+(s.charAt(0)+"1"):0)&&(s=s.substr(2)),a=parseFloat(s),h in Gi&&("autoAlpha"===h&&(1===u&&"hidden"===_o(t,"visibility")&&a&&(u=0),mo(this,w,"visibility",u?"inherit":"hidden",a?"inherit":"hidden",!a)),"scale"!==h&&"transform"!==h&&~(h=Gi[h]).indexOf(",")&&(h=h.split(",")[0])),y=h in Fi)if(g||((m=t._gsap).renderTransform&&!e.parseTransform||Co(t,e.parseTransform),b=!1!==e.smoothOrigin&&m.smooth,(g=this._pt=new Pi(this._pt,w,io,0,1,m.renderTransform,m,0,-1)).dep=1),"scale"===h)this._pt=new Pi(this._pt,m,"scaleY",m.scaleY,d?d*a:a-m.scaleY),_.push("scaleY",h),h+="X";else{if("transformOrigin"===h){s=Oo(s),m.svg?jo(t,s,0,b,0,this):((p=parseFloat(s.split(" ")[2])||0)!==m.zOrigin&&mo(this,m,"zOrigin",m.zOrigin,p),mo(this,w,h,ko(o),ko(s)));continue}if("svgOrigin"===h){jo(t,s,1,b,0,this);continue}if(h in Eo){Wo(this,m,h,u,s,d);continue}if("smoothOrigin"===h){mo(this,m,"smooth",m.smooth,s);continue}if("force3D"===h){m[h]=s;continue}if("transform"===h){zo(this,s,t);continue}}else h in w||(h=lo(h)||h);if(y||(a||0===a)&&(u||0===u)&&!Xi.test(s)&&h in w)a||(a=0),(f=(o+"").substr((u+"").length))!==(p=gn(s)||(h in He.units?He.units[h]:f))&&(u=vo(t,h,o,p)),this._pt=new Pi(this._pt,y?m:w,h,u,d?d*a:a-u,y||"px"!==p&&"zIndex"!==h||!1===e.autoRound?Yi:Ki),this._pt.u=p||0,f!==p&&(this._pt.b=o,this._pt.r=qi);else if(h in w)wo.call(this,t,h,o,s);else{if(!(h in t)){vr(h,s);continue}this.add(t,h,t[h],s,n,i)}_.push(h)}v&&Si(this)},get:_o,aliases:Gi,getSetter:function(t,e,r){var n=Gi[e];return n&&n.indexOf(",")<0&&(e=n),e in Fi&&e!==oo&&(t._gsap.x||_o(t,"x"))?r&&Di===r?"scale"===e?eo:to:(Di=r||{})&&("scale"===e?ro:no):t.style&&!rr(t.style[e])?$i:~e.indexOf("-")?Qi:gi(t,e)},core:{_removeProperty:go,_getMatrix:Io}};Ai.utils.checkPrefix=lo,Xo=Mr("x,y,z,scale,scaleX,scaleY,xPercent,yPercent"+","+(Ho="rotation,rotationX,rotationY,skewX,skewY")+",transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective",(function(t){Fi[t]=1})),Mr(Ho,(function(t){He.units[t]="deg",Eo[t]=1})),Gi[Xo[13]]="x,y,z,scale,scaleX,scaleY,xPercent,yPercent,"+Ho,Mr("0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY",(function(t){var e=t.split(":");Gi[e[1]]=Xo[e[0]]})),Mr("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",(function(t){He.units[t]="px"})),Ai.registerPlugin(Go);var Yo=Ai.registerPlugin(Go)||Ai,Vo=(Yo.core.Tween,r(545)),qo=r(813),Ko=r.n(qo);if(window.Promise||(window.Promise=Vo.Polyfill),Object.assign||(Object.assign=Ko()),Date.now&&Date.prototype.getTime||(Date.now=function(){return(new Date).getTime()}),!window.performance||!window.performance.now){var Zo=Date.now();window.performance||(window.performance={}),window.performance.now=function(){return Date.now()-Zo}}for(var Jo=Date.now(),$o=["ms","moz","webkit","o"],Qo=0;Qo<$o.length&&!window.requestAnimationFrame;++Qo){var ts=$o[Qo];window.requestAnimationFrame=window[ts+"RequestAnimationFrame"],window.cancelAnimationFrame=window[ts+"CancelAnimationFrame"]||window[ts+"CancelRequestAnimationFrame"]}window.requestAnimationFrame||(window.requestAnimationFrame=function(t){if("function"!=typeof t)throw new TypeError(t+"is not a function");var e=Date.now(),r=16+Jo-e;return r<0&&(r=0),Jo=e,window.setTimeout((function(){Jo=Date.now(),t(performance.now())}),r)}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){return clearTimeout(t)}),Math.sign||(Math.sign=function(t){return 0===(t=Number(t))||isNaN(t)?t:t>0?1:-1}),Number.isInteger||(Number.isInteger=function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}),window.ArrayBuffer||(window.ArrayBuffer=Array),window.Float32Array||(window.Float32Array=Array),window.Uint32Array||(window.Uint32Array=Array),window.Uint16Array||(window.Uint16Array=Array),window.Uint8Array||(window.Uint8Array=Array),window.Int32Array||(window.Int32Array=Array);var es,rs,ns,is,os,ss,as,us,ls,cs,hs,fs,ps,ds,ys,gs,ms,bs=/iPhone/i,vs=/iPod/i,_s=/iPad/i,ws=/\biOS-universal(?:.+)Mac\b/i,xs=/\bAndroid(?:.+)Mobile\b/i,Os=/Android/i,Ss=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,Ps=/Silk/i,Ts=/Windows Phone/i,Es=/\bWindows(?:.+)ARM\b/i,Rs=/BlackBerry/i,As=/BB10/i,Is=/Opera Mini/i,js=/\b(CriOS|Chrome)(?:.+)Mobile/i,Cs=/Mobile(?:.+)Firefox\b/i,ks=function(t){return void 0!==t&&"MacIntel"===t.platform&&"number"==typeof t.maxTouchPoints&&t.maxTouchPoints>1&&"undefined"==typeof MSStream},Ms=function(t){var e={userAgent:"",platform:"",maxTouchPoints:0};t||"undefined"==typeof navigator?"string"==typeof t?e.userAgent=t:t&&t.userAgent&&(e={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0}):e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0};var r=e.userAgent,n=r.split("[FBAN");void 0!==n[1]&&(r=n[0]),void 0!==(n=r.split("Twitter"))[1]&&(r=n[0]);var i=function(t){return function(e){return e.test(t)}}(r),o={apple:{phone:i(bs)&&!i(Ts),ipod:i(vs),tablet:!i(bs)&&(i(_s)||ks(e))&&!i(Ts),universal:i(ws),device:(i(bs)||i(vs)||i(_s)||i(ws)||ks(e))&&!i(Ts)},amazon:{phone:i(Ss),tablet:!i(Ss)&&i(Ps),device:i(Ss)||i(Ps)},android:{phone:!i(Ts)&&i(Ss)||!i(Ts)&&i(xs),tablet:!i(Ts)&&!i(Ss)&&!i(xs)&&(i(Ps)||i(Os)),device:!i(Ts)&&(i(Ss)||i(Ps)||i(xs)||i(Os))||i(/\bokhttp\b/i)},windows:{phone:i(Ts),tablet:i(Es),device:i(Ts)||i(Es)},other:{blackberry:i(Rs),blackberry10:i(As),opera:i(Is),firefox:i(Cs),chrome:i(js),device:i(Rs)||i(As)||i(Is)||i(Cs)||i(js)},any:!1,phone:!1,tablet:!1};return o.any=o.apple.device||o.android.device||o.windows.device||o.other.device,o.phone=o.apple.phone||o.android.phone||o.windows.phone,o.tablet=o.apple.tablet||o.android.tablet||o.windows.tablet,o}(window.navigator),Ls={MIPMAP_TEXTURES:1,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,SPRITE_MAX_TEXTURES:function(t){var e,r=!0;(Ms.tablet||Ms.phone)&&(Ms.apple.device&&(e=navigator.userAgent.match(/OS (\d+)_(\d+)?/))&&parseInt(e[1],10)<11&&(r=!1),Ms.android.device&&(e=navigator.userAgent.match(/Android\s([0-9.]*)/))&&parseInt(e[1],10)<7&&(r=!1));return r?32:4}(),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,antialias:!1,autoDensity:!1,transparent:!1,backgroundColor:0,clearBeforeRender:!0,preserveDrawingBuffer:!1,width:800,height:600,legacy:!1},GC_MODE:0,GC_MAX_IDLE:3600,GC_MAX_CHECK_COUNT:600,WRAP_MODE:33071,SCALE_MODE:1,PRECISION_VERTEX:"highp",PRECISION_FRAGMENT:Ms.apple.device?"highp":"mediump",CAN_UPLOAD_SAME_BUFFER:!Ms.apple.device,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1},Ds=r(34),Bs=r.n(Ds),Fs=r(720),Ns=r.n(Fs),Us=r(44);!function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"}(es||(es={})),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"}(rs||(rs={})),function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"}(ns||(ns={})),function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"}(is||(is={})),function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"}(os||(os={})),function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"}(ss||(ss={})),function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"}(as||(as={})),function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.FLOAT=5126]="FLOAT",t[t.HALF_FLOAT=36193]="HALF_FLOAT"}(us||(us={})),function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"}(ls||(ls={})),function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"}(cs||(cs={})),function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON"}(hs||(hs={})),function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA"}(fs||(fs={})),function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"}(ps||(ps={})),function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"}(ds||(ds={})),function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"}(ys||(ys={})),function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE"}(gs||(gs={})),function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"}(ms||(ms={})),Ls.RETINA_PREFIX=/@([0-9\.]+)x/,Ls.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!0;var Ws,zs=!1;function Hs(){zs=!0}function Xs(t){var e;if(!zs){if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var r=["\n %c %c %c PixiJS 5.3.8 -  "+t+"   %c  %c  http://www.pixijs.com/  %c %c %c%c \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];(e=window.console).log.apply(e,r)}else window.console&&window.console.log("PixiJS 5.3.8 - "+t+" - http://www.pixijs.com/");zs=!0}}function Gs(){return void 0===Ws&&(Ws=function(){var t={stencil:!0,failIfMajorPerformanceCaveat:Ls.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!window.WebGLRenderingContext)return!1;var e=document.createElement("canvas"),r=e.getContext("webgl",t)||e.getContext("experimental-webgl",t),n=!(!r||!r.getContextAttributes().stencil);if(r){var i=r.getExtension("WEBGL_lose_context");i&&i.loseContext()}return r=null,n}catch(t){return!1}}()),Ws}function Ys(t,e){return void 0===e&&(e=[]),e[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(255&t)/255,e}function Vs(t){var e=t.toString(16);return"#"+("000000".substr(0,6-e.length)+e)}function qs(t){return"string"==typeof t&&"#"===t[0]&&(t=t.substr(1)),parseInt(t,16)}function Ks(t){return(255*t[0]<<16)+(255*t[1]<<8)+(255*t[2]|0)}var Zs=function(){for(var t=[],e=[],r=0;r<32;r++)t[r]=r,e[r]=r;t[is.NORMAL_NPM]=is.NORMAL,t[is.ADD_NPM]=is.ADD,t[is.SCREEN_NPM]=is.SCREEN,e[is.NORMAL]=is.NORMAL_NPM,e[is.ADD]=is.ADD_NPM,e[is.SCREEN]=is.SCREEN_NPM;var n=[];return n.push(e),n.push(t),n}();function Js(t,e){return Zs[e?1:0][t]}function $s(t,e,r,n){return r=r||new Float32Array(4),n||void 0===n?(r[0]=t[0]*e,r[1]=t[1]*e,r[2]=t[2]*e):(r[0]=t[0],r[1]=t[1],r[2]=t[2]),r[3]=e,r}function Qs(t,e){if(1===e)return(255*e<<24)+t;if(0===e)return 0;var r=t>>16&255,n=t>>8&255,i=255&t;return(255*e<<24)+((r=r*e+.5|0)<<16)+((n=n*e+.5|0)<<8)+(i*e+.5|0)}function ta(t,e,r,n){return(r=r||new Float32Array(4))[0]=(t>>16&255)/255,r[1]=(t>>8&255)/255,r[2]=(255&t)/255,(n||void 0===n)&&(r[0]*=e,r[1]*=e,r[2]*=e),r[3]=e,r}function ea(t,e){void 0===e&&(e=null);var r=6*t;if((e=e||new Uint16Array(r)).length!==r)throw new Error("Out buffer length is incorrect, got "+e.length+" and expected "+r);for(var n=0,i=0;n<r;n+=6,i+=4)e[n+0]=i+0,e[n+1]=i+1,e[n+2]=i+2,e[n+3]=i+0,e[n+4]=i+2,e[n+5]=i+3;return e}function ra(t){if(4===t.BYTES_PER_ELEMENT)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(2===t.BYTES_PER_ELEMENT){if(t instanceof Uint16Array)return"Uint16Array"}else if(1===t.BYTES_PER_ELEMENT&&t instanceof Uint8Array)return"Uint8Array";return null}var na={Float32Array,Uint32Array,Int32Array,Uint8Array};function ia(t,e){for(var r=0,n=0,i={},o=0;o<t.length;o++)n+=e[o],r+=t[o].length;var s=new ArrayBuffer(4*r),a=null,u=0;for(o=0;o<t.length;o++){var l=e[o],c=t[o],h=ra(c);i[h]||(i[h]=new na[h](s)),a=i[h];for(var f=0;f<c.length;f++)a[(f/l|0)*n+u+f%l]=c[f];u+=l}return new Float32Array(s)}function oa(t){return t+=0===t?1:0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,1+(t|=t>>>16)}function sa(t){return!(t&t-1||!t)}function aa(t){var e=(t>65535?1:0)<<4,r=((t>>>=e)>255?1:0)<<3;return e|=r,e|=r=((t>>>=r)>15?1:0)<<2,(e|=r=((t>>>=r)>3?1:0)<<1)|(t>>>=r)>>1}function ua(t,e,r){var n,i=t.length;if(!(e>=i||0===r)){var o=i-(r=e+r>i?i-e:r);for(n=e;n<o;++n)t[n]=t[n+r];t.length=o}}function la(t){return 0===t?0:t<0?-1:1}var ca=0;function ha(){return++ca}var fa={};function pa(t,e,r){if(void 0===r&&(r=3),!fa[e]){var n=(new Error).stack;void 0===n?console.warn("PixiJS Deprecation Warning: ",e+"\nDeprecated since v"+t):(n=n.split("\n").splice(r).join("\n"),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",e+"\nDeprecated since v"+t),console.warn(n),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",e+"\nDeprecated since v"+t),console.warn(n))),fa[e]=!0}}var da={},ya=Object.create(null),ga=Object.create(null);function ma(){var t;for(t in ya)ya[t].destroy();for(t in ga)ga[t].destroy()}function ba(){var t;for(t in ya)delete ya[t];for(t in ga)delete ga[t]}var va=function(){function t(t,e,r){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=r||Ls.RESOLUTION,this.resize(t,e)}return t.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},t.prototype.resize=function(t,e){this.canvas.width=t*this.resolution,this.canvas.height=e*this.resolution},t.prototype.destroy=function(){this.context=null,this.canvas=null},Object.defineProperty(t.prototype,"width",{get:function(){return this.canvas.width},set:function(t){this.canvas.width=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.canvas.height},set:function(t){this.canvas.height=t},enumerable:!1,configurable:!0}),t}();function _a(t){var e,r,n,i=t.width,o=t.height,s=t.getContext("2d"),a=s.getImageData(0,0,i,o).data,u=a.length,l={top:null,left:null,right:null,bottom:null},c=null;for(e=0;e<u;e+=4)0!==a[e+3]&&(r=e/4%i,n=~~(e/4/i),null===l.top&&(l.top=n),(null===l.left||r<l.left)&&(l.left=r),(null===l.right||l.right<r)&&(l.right=r+1),(null===l.bottom||l.bottom<n)&&(l.bottom=n));return null!==l.top&&(i=l.right-l.left,o=l.bottom-l.top+1,c=s.getImageData(l.left,l.top,i,o)),{height:o,width:i,data:c}}var wa,xa=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i;function Oa(t){var e=xa.exec(t);if(e)return{mediaType:e[1]?e[1].toLowerCase():void 0,subType:e[2]?e[2].toLowerCase():void 0,charset:e[3]?e[3].toLowerCase():void 0,encoding:e[4]?e[4].toLowerCase():void 0,data:e[5]}}function Sa(t,e){if(void 0===e&&(e=window.location),0===t.indexOf("data:"))return"";e=e||window.location,wa||(wa=document.createElement("a")),wa.href=t;var r=(0,Us.parse)(wa.href),n=!r.port&&""===e.port||r.port===e.port;return r.hostname===e.hostname&&n&&r.protocol===e.protocol?"":"anonymous"}function Pa(t,e){var r=Ls.RETINA_PREFIX.exec(t);return r?parseFloat(r[1]):void 0!==e?e:1}var Ta,Ea=2*Math.PI,Ra=180/Math.PI,Aa=Math.PI/180;!function(t){t[t.POLY=0]="POLY",t[t.RECT=1]="RECT",t[t.CIRC=2]="CIRC",t[t.ELIP=3]="ELIP",t[t.RREC=4]="RREC"}(Ta||(Ta={}));var Ia=function(){function t(t,e,r,n){void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),void 0===n&&(n=0),this.x=Number(t),this.y=Number(e),this.width=Number(r),this.height=Number(n),this.type=Ta.RECT}return Object.defineProperty(t.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(t,"EMPTY",{get:function(){return new t(0,0,0,0)},enumerable:!1,configurable:!0}),t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.copyFrom=function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this},t.prototype.copyTo=function(t){return t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t},t.prototype.contains=function(t,e){return!(this.width<=0||this.height<=0)&&t>=this.x&&t<this.x+this.width&&e>=this.y&&e<this.y+this.height},t.prototype.pad=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.x-=t,this.y-=e,this.width+=2*t,this.height+=2*e,this},t.prototype.fit=function(t){var e=Math.max(this.x,t.x),r=Math.min(this.x+this.width,t.x+t.width),n=Math.max(this.y,t.y),i=Math.min(this.y+this.height,t.y+t.height);return this.x=e,this.width=Math.max(r-e,0),this.y=n,this.height=Math.max(i-n,0),this},t.prototype.ceil=function(t,e){void 0===t&&(t=1),void 0===e&&(e=.001);var r=Math.ceil((this.x+this.width-e)*t)/t,n=Math.ceil((this.y+this.height-e)*t)/t;return this.x=Math.floor((this.x+e)*t)/t,this.y=Math.floor((this.y+e)*t)/t,this.width=r-this.x,this.height=n-this.y,this},t.prototype.enlarge=function(t){var e=Math.min(this.x,t.x),r=Math.max(this.x+this.width,t.x+t.width),n=Math.min(this.y,t.y),i=Math.max(this.y+this.height,t.y+t.height);return this.x=e,this.width=r-e,this.y=n,this.height=i-n,this},t}(),ja=function(){function t(t,e,r){void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),this.x=t,this.y=e,this.radius=r,this.type=Ta.CIRC}return t.prototype.clone=function(){return new t(this.x,this.y,this.radius)},t.prototype.contains=function(t,e){if(this.radius<=0)return!1;var r=this.radius*this.radius,n=this.x-t,i=this.y-e;return(n*=n)+(i*=i)<=r},t.prototype.getBounds=function(){return new Ia(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)},t}(),Ca=function(){function t(t,e,r,n){void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),void 0===n&&(n=0),this.x=t,this.y=e,this.width=r,this.height=n,this.type=Ta.ELIP}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;var r=(t-this.x)/this.width,n=(e-this.y)/this.height;return(r*=r)+(n*=n)<=1},t.prototype.getBounds=function(){return new Ia(this.x-this.width,this.y-this.height,this.width,this.height)},t}(),ka=function(){function t(){for(var t=arguments,e=[],r=0;r<arguments.length;r++)e[r]=t[r];var n=Array.isArray(e[0])?e[0]:e;if("number"!=typeof n[0]){for(var i=[],o=0,s=n.length;o<s;o++)i.push(n[o].x,n[o].y);n=i}this.points=n,this.type=Ta.POLY,this.closeStroke=!0}return t.prototype.clone=function(){var e=new t(this.points.slice());return e.closeStroke=this.closeStroke,e},t.prototype.contains=function(t,e){for(var r=!1,n=this.points.length/2,i=0,o=n-1;i<n;o=i++){var s=this.points[2*i],a=this.points[2*i+1],u=this.points[2*o],l=this.points[2*o+1];a>e!=l>e&&t<(e-a)/(l-a)*(u-s)+s&&(r=!r)}return r},t}(),Ma=function(){function t(t,e,r,n,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),void 0===n&&(n=0),void 0===i&&(i=20),this.x=t,this.y=e,this.width=r,this.height=n,this.radius=i,this.type=Ta.RREC}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height,this.radius)},t.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;if(t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height){if(e>=this.y+this.radius&&e<=this.y+this.height-this.radius||t>=this.x+this.radius&&t<=this.x+this.width-this.radius)return!0;var r=t-(this.x+this.radius),n=e-(this.y+this.radius),i=this.radius*this.radius;if(r*r+n*n<=i)return!0;if((r=t-(this.x+this.width-this.radius))*r+n*n<=i)return!0;if(r*r+(n=e-(this.y+this.height-this.radius))*n<=i)return!0;if((r=t-(this.x+this.radius))*r+n*n<=i)return!0}return!1},t}(),La=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=t,this.y=e}return t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.copyFrom=function(t){return this.set(t.x,t.y),this},t.prototype.copyTo=function(t){return t.set(this.x,this.y),t},t.prototype.equals=function(t){return t.x===this.x&&t.y===this.y},t.prototype.set=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.x=t,this.y=e,this},t}(),Da=function(){function t(t,e,r,n){void 0===r&&(r=0),void 0===n&&(n=0),this._x=r,this._y=n,this.cb=t,this.scope=e}return t.prototype.clone=function(e,r){return void 0===e&&(e=this.cb),void 0===r&&(r=this.scope),new t(e,r,this._x,this._y)},t.prototype.set=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this._x===t&&this._y===e||(this._x=t,this._y=e,this.cb.call(this.scope)),this},t.prototype.copyFrom=function(t){return this._x===t.x&&this._y===t.y||(this._x=t.x,this._y=t.y,this.cb.call(this.scope)),this},t.prototype.copyTo=function(t){return t.set(this._x,this._y),t},t.prototype.equals=function(t){return t.x===this._x&&t.y===this._y},Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(t){this._x!==t&&(this._x=t,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(t){this._y!==t&&(this._y=t,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),t}(),Ba=function(){function t(t,e,r,n,i,o){void 0===t&&(t=1),void 0===e&&(e=0),void 0===r&&(r=0),void 0===n&&(n=1),void 0===i&&(i=0),void 0===o&&(o=0),this.array=null,this.a=t,this.b=e,this.c=r,this.d=n,this.tx=i,this.ty=o}return t.prototype.fromArray=function(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]},t.prototype.set=function(t,e,r,n,i,o){return this.a=t,this.b=e,this.c=r,this.d=n,this.tx=i,this.ty=o,this},t.prototype.toArray=function(t,e){this.array||(this.array=new Float32Array(9));var r=e||this.array;return t?(r[0]=this.a,r[1]=this.b,r[2]=0,r[3]=this.c,r[4]=this.d,r[5]=0,r[6]=this.tx,r[7]=this.ty,r[8]=1):(r[0]=this.a,r[1]=this.c,r[2]=this.tx,r[3]=this.b,r[4]=this.d,r[5]=this.ty,r[6]=0,r[7]=0,r[8]=1),r},t.prototype.apply=function(t,e){e=e||new La;var r=t.x,n=t.y;return e.x=this.a*r+this.c*n+this.tx,e.y=this.b*r+this.d*n+this.ty,e},t.prototype.applyInverse=function(t,e){e=e||new La;var r=1/(this.a*this.d+this.c*-this.b),n=t.x,i=t.y;return e.x=this.d*r*n+-this.c*r*i+(this.ty*this.c-this.tx*this.d)*r,e.y=this.a*r*i+-this.b*r*n+(-this.ty*this.a+this.tx*this.b)*r,e},t.prototype.translate=function(t,e){return this.tx+=t,this.ty+=e,this},t.prototype.scale=function(t,e){return this.a*=t,this.d*=e,this.c*=t,this.b*=e,this.tx*=t,this.ty*=e,this},t.prototype.rotate=function(t){var e=Math.cos(t),r=Math.sin(t),n=this.a,i=this.c,o=this.tx;return this.a=n*e-this.b*r,this.b=n*r+this.b*e,this.c=i*e-this.d*r,this.d=i*r+this.d*e,this.tx=o*e-this.ty*r,this.ty=o*r+this.ty*e,this},t.prototype.append=function(t){var e=this.a,r=this.b,n=this.c,i=this.d;return this.a=t.a*e+t.b*n,this.b=t.a*r+t.b*i,this.c=t.c*e+t.d*n,this.d=t.c*r+t.d*i,this.tx=t.tx*e+t.ty*n+this.tx,this.ty=t.tx*r+t.ty*i+this.ty,this},t.prototype.setTransform=function(t,e,r,n,i,o,s,a,u){return this.a=Math.cos(s+u)*i,this.b=Math.sin(s+u)*i,this.c=-Math.sin(s-a)*o,this.d=Math.cos(s-a)*o,this.tx=t-(r*this.a+n*this.c),this.ty=e-(r*this.b+n*this.d),this},t.prototype.prepend=function(t){var e=this.tx;if(1!==t.a||0!==t.b||0!==t.c||1!==t.d){var r=this.a,n=this.c;this.a=r*t.a+this.b*t.c,this.b=r*t.b+this.b*t.d,this.c=n*t.a+this.d*t.c,this.d=n*t.b+this.d*t.d}return this.tx=e*t.a+this.ty*t.c+t.tx,this.ty=e*t.b+this.ty*t.d+t.ty,this},t.prototype.decompose=function(t){var e=this.a,r=this.b,n=this.c,i=this.d,o=-Math.atan2(-n,i),s=Math.atan2(r,e),a=Math.abs(o+s);return a<1e-5||Math.abs(Ea-a)<1e-5?(t.rotation=s,t.skew.x=t.skew.y=0):(t.rotation=0,t.skew.x=o,t.skew.y=s),t.scale.x=Math.sqrt(e*e+r*r),t.scale.y=Math.sqrt(n*n+i*i),t.position.x=this.tx,t.position.y=this.ty,t},t.prototype.invert=function(){var t=this.a,e=this.b,r=this.c,n=this.d,i=this.tx,o=t*n-e*r;return this.a=n/o,this.b=-e/o,this.c=-r/o,this.d=t/o,this.tx=(r*this.ty-n*i)/o,this.ty=-(t*this.ty-e*i)/o,this},t.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},t.prototype.clone=function(){var e=new t;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e},t.prototype.copyTo=function(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},t.prototype.copyFrom=function(t){return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty,this},Object.defineProperty(t,"IDENTITY",{get:function(){return new t},enumerable:!1,configurable:!0}),Object.defineProperty(t,"TEMP_MATRIX",{get:function(){return new t},enumerable:!1,configurable:!0}),t}(),Fa=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],Na=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],Ua=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],Wa=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],za=[],Ha=[],Xa=Math.sign;!function(){for(var t=0;t<16;t++){var e=[];za.push(e);for(var r=0;r<16;r++)for(var n=Xa(Fa[t]*Fa[r]+Ua[t]*Na[r]),i=Xa(Na[t]*Fa[r]+Wa[t]*Na[r]),o=Xa(Fa[t]*Ua[r]+Ua[t]*Wa[r]),s=Xa(Na[t]*Ua[r]+Wa[t]*Wa[r]),a=0;a<16;a++)if(Fa[a]===n&&Na[a]===i&&Ua[a]===o&&Wa[a]===s){e.push(a);break}}for(t=0;t<16;t++){var u=new Ba;u.set(Fa[t],Na[t],Ua[t],Wa[t],0,0),Ha.push(u)}}();var Ga={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:function(t){return Fa[t]},uY:function(t){return Na[t]},vX:function(t){return Ua[t]},vY:function(t){return Wa[t]},inv:function(t){return 8&t?15&t:7&-t},add:function(t,e){return za[t][e]},sub:function(t,e){return za[t][Ga.inv(e)]},rotate180:function(t){return 4^t},isVertical:function(t){return 2==(3&t)},byDirection:function(t,e){return 2*Math.abs(t)<=Math.abs(e)?e>=0?Ga.S:Ga.N:2*Math.abs(e)<=Math.abs(t)?t>0?Ga.E:Ga.W:e>0?t>0?Ga.SE:Ga.SW:t>0?Ga.NE:Ga.NW},matrixAppendRotationInv:function(t,e,r,n){void 0===r&&(r=0),void 0===n&&(n=0);var i=Ha[Ga.inv(e)];i.tx=r,i.ty=n,t.append(i)}},Ya=function(){function t(){this.worldTransform=new Ba,this.localTransform=new Ba,this.position=new Da(this.onChange,this,0,0),this.scale=new Da(this.onChange,this,1,1),this.pivot=new Da(this.onChange,this,0,0),this.skew=new Da(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}return t.prototype.onChange=function(){this._localID++},t.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++},t.prototype.updateLocalTransform=function(){var t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1)},t.prototype.updateTransform=function(t){var e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){var r=t.worldTransform,n=this.worldTransform;n.a=e.a*r.a+e.b*r.c,n.b=e.a*r.b+e.b*r.d,n.c=e.c*r.a+e.d*r.c,n.d=e.c*r.b+e.d*r.d,n.tx=e.tx*r.a+e.ty*r.c+r.tx,n.ty=e.tx*r.b+e.ty*r.d+r.ty,this._parentID=t._worldID,this._worldID++}},t.prototype.setFromMatrix=function(t){t.decompose(this),this._localID++},Object.defineProperty(t.prototype,"rotation",{get:function(){return this._rotation},set:function(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())},enumerable:!1,configurable:!0}),t.IDENTITY=new t,t}();Ls.SORTABLE_CHILDREN=!1;var Va=function(){function t(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}return t.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},t.prototype.clear=function(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},t.prototype.getRectangle=function(t){return this.minX>this.maxX||this.minY>this.maxY?Ia.EMPTY:((t=t||new Ia(0,0,1,1)).x=this.minX,t.y=this.minY,t.width=this.maxX-this.minX,t.height=this.maxY-this.minY,t)},t.prototype.addPoint=function(t){this.minX=Math.min(this.minX,t.x),this.maxX=Math.max(this.maxX,t.x),this.minY=Math.min(this.minY,t.y),this.maxY=Math.max(this.maxY,t.y)},t.prototype.addQuad=function(t){var e=this.minX,r=this.minY,n=this.maxX,i=this.maxY,o=t[0],s=t[1];e=o<e?o:e,r=s<r?s:r,n=o>n?o:n,i=s>i?s:i,e=(o=t[2])<e?o:e,r=(s=t[3])<r?s:r,n=o>n?o:n,i=s>i?s:i,e=(o=t[4])<e?o:e,r=(s=t[5])<r?s:r,n=o>n?o:n,i=s>i?s:i,e=(o=t[6])<e?o:e,r=(s=t[7])<r?s:r,n=o>n?o:n,i=s>i?s:i,this.minX=e,this.minY=r,this.maxX=n,this.maxY=i},t.prototype.addFrame=function(t,e,r,n,i){this.addFrameMatrix(t.worldTransform,e,r,n,i)},t.prototype.addFrameMatrix=function(t,e,r,n,i){var o=t.a,s=t.b,a=t.c,u=t.d,l=t.tx,c=t.ty,h=this.minX,f=this.minY,p=this.maxX,d=this.maxY,y=o*e+a*r+l,g=s*e+u*r+c;h=y<h?y:h,f=g<f?g:f,p=y>p?y:p,d=g>d?g:d,h=(y=o*n+a*r+l)<h?y:h,f=(g=s*n+u*r+c)<f?g:f,p=y>p?y:p,d=g>d?g:d,h=(y=o*e+a*i+l)<h?y:h,f=(g=s*e+u*i+c)<f?g:f,p=y>p?y:p,d=g>d?g:d,h=(y=o*n+a*i+l)<h?y:h,f=(g=s*n+u*i+c)<f?g:f,p=y>p?y:p,d=g>d?g:d,this.minX=h,this.minY=f,this.maxX=p,this.maxY=d},t.prototype.addVertexData=function(t,e,r){for(var n=this.minX,i=this.minY,o=this.maxX,s=this.maxY,a=e;a<r;a+=2){var u=t[a],l=t[a+1];n=u<n?u:n,i=l<i?l:i,o=u>o?u:o,s=l>s?l:s}this.minX=n,this.minY=i,this.maxX=o,this.maxY=s},t.prototype.addVertices=function(t,e,r,n){this.addVerticesMatrix(t.worldTransform,e,r,n)},t.prototype.addVerticesMatrix=function(t,e,r,n,i,o){void 0===i&&(i=0),void 0===o&&(o=i);for(var s=t.a,a=t.b,u=t.c,l=t.d,c=t.tx,h=t.ty,f=this.minX,p=this.minY,d=this.maxX,y=this.maxY,g=r;g<n;g+=2){var m=e[g],b=e[g+1],v=s*m+u*b+c,_=l*b+a*m+h;f=Math.min(f,v-i),d=Math.max(d,v+i),p=Math.min(p,_-o),y=Math.max(y,_+o)}this.minX=f,this.minY=p,this.maxX=d,this.maxY=y},t.prototype.addBounds=function(t){var e=this.minX,r=this.minY,n=this.maxX,i=this.maxY;this.minX=t.minX<e?t.minX:e,this.minY=t.minY<r?t.minY:r,this.maxX=t.maxX>n?t.maxX:n,this.maxY=t.maxY>i?t.maxY:i},t.prototype.addBoundsMask=function(t,e){var r=t.minX>e.minX?t.minX:e.minX,n=t.minY>e.minY?t.minY:e.minY,i=t.maxX<e.maxX?t.maxX:e.maxX,o=t.maxY<e.maxY?t.maxY:e.maxY;if(r<=i&&n<=o){var s=this.minX,a=this.minY,u=this.maxX,l=this.maxY;this.minX=r<s?r:s,this.minY=n<a?n:a,this.maxX=i>u?i:u,this.maxY=o>l?o:l}},t.prototype.addBoundsMatrix=function(t,e){this.addFrameMatrix(e,t.minX,t.minY,t.maxX,t.maxY)},t.prototype.addBoundsArea=function(t,e){var r=t.minX>e.x?t.minX:e.x,n=t.minY>e.y?t.minY:e.y,i=t.maxX<e.x+e.width?t.maxX:e.x+e.width,o=t.maxY<e.y+e.height?t.maxY:e.y+e.height;if(r<=i&&n<=o){var s=this.minX,a=this.minY,u=this.maxX,l=this.maxY;this.minX=r<s?r:s,this.minY=n<a?n:a,this.maxX=i>u?i:u,this.maxY=o>l?o:l}},t.prototype.pad=function(t,e){void 0===t&&(t=0),void 0===e&&(e=t),this.isEmpty()||(this.minX-=t,this.maxX+=t,this.minY-=e,this.maxY+=e)},t.prototype.addFramePad=function(t,e,r,n,i,o){t-=i,e-=o,r+=i,n+=o,this.minX=this.minX<t?this.minX:t,this.maxX=this.maxX>r?this.maxX:r,this.minY=this.minY<e?this.minY:e,this.maxY=this.maxY>n?this.maxY:n},t}(),qa=function(t,e){return(qa=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function Ka(t,e){function r(){this.constructor=t}qa(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var Za=function(t){function e(){var e=t.call(this)||this;return e.tempDisplayObjectParent=null,e.transform=new Ya,e.alpha=1,e.visible=!0,e.renderable=!0,e.parent=null,e.worldAlpha=1,e._lastSortedIndex=0,e._zIndex=0,e.filterArea=null,e.filters=null,e._enabledFilters=null,e._bounds=new Va,e._localBounds=null,e._boundsID=0,e._boundsRect=null,e._localBoundsRect=null,e._mask=null,e._destroyed=!1,e.isSprite=!1,e.isMask=!1,e}return Ka(e,t),e.mixin=function(t){for(var r=Object.keys(t),n=0;n<r.length;++n){var i=r[n];Object.defineProperty(e.prototype,i,Object.getOwnPropertyDescriptor(t,i))}},e.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},e.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha},e.prototype.getBounds=function(t,e){return t||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),e||(this._boundsRect||(this._boundsRect=new Ia),e=this._boundsRect),this._bounds.getRectangle(e)},e.prototype.getLocalBounds=function(t){t||(this._localBoundsRect||(this._localBoundsRect=new Ia),t=this._localBoundsRect),this._localBounds||(this._localBounds=new Va);var e=this.transform,r=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;var n=this._bounds,i=this._boundsID;this._bounds=this._localBounds;var o=this.getBounds(!1,t);return this.parent=r,this.transform=e,this._bounds=n,this._bounds.updateID+=this._boundsID-i,o},e.prototype.toGlobal=function(t,e,r){return void 0===r&&(r=!1),r||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(t,e)},e.prototype.toLocal=function(t,e,r,n){return e&&(t=e.toGlobal(t,r,n)),n||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(t,r)},e.prototype.setParent=function(t){if(!t||!t.addChild)throw new Error("setParent: Argument must be a Container");return t.addChild(this),t},e.prototype.setTransform=function(t,e,r,n,i,o,s,a,u){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=1),void 0===n&&(n=1),void 0===i&&(i=0),void 0===o&&(o=0),void 0===s&&(s=0),void 0===a&&(a=0),void 0===u&&(u=0),this.position.x=t,this.position.y=e,this.scale.x=r||1,this.scale.y=n||1,this.rotation=i,this.skew.x=o,this.skew.y=s,this.pivot.x=a,this.pivot.y=u,this},e.prototype.destroy=function(t){this.parent&&this.parent.removeChild(this),this.removeAllListeners(),this.transform=null,this.parent=null,this._bounds=null,this._mask=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this._destroyed=!0},Object.defineProperty(e.prototype,"_tempDisplayObjectParent",{get:function(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new Ja),this.tempDisplayObjectParent},enumerable:!1,configurable:!0}),e.prototype.enableTempParent=function(){var t=this.parent;return this.parent=this._tempDisplayObjectParent,t},e.prototype.disableTempParent=function(t){this.parent=t},Object.defineProperty(e.prototype,"x",{get:function(){return this.position.x},set:function(t){this.transform.position.x=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this.position.y},set:function(t){this.transform.position.y=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"worldTransform",{get:function(){return this.transform.worldTransform},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"localTransform",{get:function(){return this.transform.localTransform},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"position",{get:function(){return this.transform.position},set:function(t){this.transform.position.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scale",{get:function(){return this.transform.scale},set:function(t){this.transform.scale.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pivot",{get:function(){return this.transform.pivot},set:function(t){this.transform.pivot.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"skew",{get:function(){return this.transform.skew},set:function(t){this.transform.skew.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rotation",{get:function(){return this.transform.rotation},set:function(t){this.transform.rotation=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"angle",{get:function(){return this.transform.rotation*Ra},set:function(t){this.transform.rotation=t*Aa},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"zIndex",{get:function(){return this._zIndex},set:function(t){this._zIndex=t,this.parent&&(this.parent.sortDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"worldVisible",{get:function(){var t=this;do{if(!t.visible)return!1;t=t.parent}while(t);return!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mask",{get:function(){return this._mask},set:function(t){var e;this._mask&&((e=this._mask.maskObject||this._mask).renderable=!0,e.isMask=!1),this._mask=t,this._mask&&((e=this._mask.maskObject||this._mask).renderable=!1,e.isMask=!0)},enumerable:!1,configurable:!0}),e}(Bs()),Ja=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sortDirty=null,e}return Ka(e,t),e}(Za);function $a(t,e){return t.zIndex===e.zIndex?t._lastSortedIndex-e._lastSortedIndex:t.zIndex-e.zIndex}Za.prototype.displayObjectUpdateTransform=Za.prototype.updateTransform;var Qa=function(t){function e(){var e=t.call(this)||this;return e.children=[],e.sortableChildren=Ls.SORTABLE_CHILDREN,e.sortDirty=!1,e}return Ka(e,t),e.prototype.onChildrenChange=function(t){},e.prototype.addChild=function(){for(var t=arguments,e=[],r=0;r<arguments.length;r++)e[r]=t[r];if(e.length>1)for(var n=0;n<e.length;n++)this.addChild(e[n]);else{var i=e[0];i.parent&&i.parent.removeChild(i),i.parent=this,this.sortDirty=!0,i.transform._parentID=-1,this.children.push(i),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",i,this,this.children.length-1),i.emit("added",this)}return e[0]},e.prototype.addChildAt=function(t,e){if(e<0||e>this.children.length)throw new Error(t+"addChildAt: The index "+e+" supplied is out of bounds "+this.children.length);return t.parent&&t.parent.removeChild(t),t.parent=this,this.sortDirty=!0,t.transform._parentID=-1,this.children.splice(e,0,t),this._boundsID++,this.onChildrenChange(e),t.emit("added",this),this.emit("childAdded",t,this,e),t},e.prototype.swapChildren=function(t,e){if(t!==e){var r=this.getChildIndex(t),n=this.getChildIndex(e);this.children[r]=e,this.children[n]=t,this.onChildrenChange(r<n?r:n)}},e.prototype.getChildIndex=function(t){var e=this.children.indexOf(t);if(-1===e)throw new Error("The supplied DisplayObject must be a child of the caller");return e},e.prototype.setChildIndex=function(t,e){if(e<0||e>=this.children.length)throw new Error("The index "+e+" supplied is out of bounds "+this.children.length);var r=this.getChildIndex(t);ua(this.children,r,1),this.children.splice(e,0,t),this.onChildrenChange(e)},e.prototype.getChildAt=function(t){if(t<0||t>=this.children.length)throw new Error("getChildAt: Index ("+t+") does not exist.");return this.children[t]},e.prototype.removeChild=function(){for(var t=arguments,e=[],r=0;r<arguments.length;r++)e[r]=t[r];if(e.length>1)for(var n=0;n<e.length;n++)this.removeChild(e[n]);else{var i=e[0],o=this.children.indexOf(i);if(-1===o)return null;i.parent=null,i.transform._parentID=-1,ua(this.children,o,1),this._boundsID++,this.onChildrenChange(o),i.emit("removed",this),this.emit("childRemoved",i,this,o)}return e[0]},e.prototype.removeChildAt=function(t){var e=this.getChildAt(t);return e.parent=null,e.transform._parentID=-1,ua(this.children,t,1),this._boundsID++,this.onChildrenChange(t),e.emit("removed",this),this.emit("childRemoved",e,this,t),e},e.prototype.removeChildren=function(t,e){void 0===t&&(t=0),void 0===e&&(e=this.children.length);var r,n=t,i=e-n;if(i>0&&i<=e){r=this.children.splice(n,i);for(var o=0;o<r.length;++o)r[o].parent=null,r[o].transform&&(r[o].transform._parentID=-1);for(this._boundsID++,this.onChildrenChange(t),o=0;o<r.length;++o)r[o].emit("removed",this),this.emit("childRemoved",r[o],this,o);return r}if(0===i&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},e.prototype.sortChildren=function(){for(var t=!1,e=0,r=this.children.length;e<r;++e){var n=this.children[e];n._lastSortedIndex=e,t||0===n.zIndex||(t=!0)}t&&this.children.length>1&&this.children.sort($a),this.sortDirty=!1},e.prototype.updateTransform=function(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var t=0,e=this.children.length;t<e;++t){var r=this.children[t];r.visible&&r.updateTransform()}},e.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var t=0;t<this.children.length;t++){var e=this.children[t];if(e.visible&&e.renderable)if(e.calculateBounds(),e._mask){var r=e._mask.maskObject||e._mask;r.calculateBounds(),this._bounds.addBoundsMask(e._bounds,r._bounds)}else e.filterArea?this._bounds.addBoundsArea(e._bounds,e.filterArea):this._bounds.addBounds(e._bounds)}this._bounds.updateID=this._boundsID},e.prototype.getLocalBounds=function(e,r){void 0===r&&(r=!1);var n=t.prototype.getLocalBounds.call(this,e);if(!r)for(var i=0,o=this.children.length;i<o;++i){var s=this.children[i];s.visible&&s.updateTransform()}return n},e.prototype._calculateBounds=function(){},e.prototype.render=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable)if(this._mask||this.filters&&this.filters.length)this.renderAdvanced(t);else{this._render(t);for(var e=0,r=this.children.length;e<r;++e)this.children[e].render(t)}},e.prototype.renderAdvanced=function(t){t.batch.flush();var e=this.filters,r=this._mask;if(e){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var n=0;n<e.length;n++)e[n].enabled&&this._enabledFilters.push(e[n]);this._enabledFilters.length&&t.filter.push(this,this._enabledFilters)}r&&t.mask.push(this,this._mask),this._render(t),n=0;for(var i=this.children.length;n<i;n++)this.children[n].render(t);t.batch.flush(),r&&t.mask.pop(this),e&&this._enabledFilters&&this._enabledFilters.length&&t.filter.pop()},e.prototype._render=function(t){},e.prototype.destroy=function(e){t.prototype.destroy.call(this),this.sortDirty=!1;var r="boolean"==typeof e?e:e&&e.children,n=this.removeChildren(0,this.children.length);if(r)for(var i=0;i<n.length;++i)n[i].destroy(e)},Object.defineProperty(e.prototype,"width",{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(t){var e=this.getLocalBounds().width;this.scale.x=0!==e?t/e:1,this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(t){var e=this.getLocalBounds().height;this.scale.y=0!==e?t/e:1,this._height=t},enumerable:!1,configurable:!0}),e}(Za);Qa.prototype.containerUpdateTransform=Qa.prototype.updateTransform;var tu={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};Za.mixin(tu);var eu,ru=function(){function t(t){this._hookDiv=null,(Ms.tablet||Ms.phone)&&this.createTouchHook();var e=document.createElement("div");e.style.width="100px",e.style.height="100px",e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.style.zIndex=2..toString(),this.div=e,this.pool=[],this.renderId=0,this.debug=!1,this.renderer=t,this.children=[],this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._isActive=!1,this._isMobileAccessibility=!1,this.androidUpdateCount=0,this.androidUpdateFrequency=500,window.addEventListener("keydown",this._onKeyDown,!1)}return Object.defineProperty(t.prototype,"isActive",{get:function(){return this._isActive},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isMobileAccessibility",{get:function(){return this._isMobileAccessibility},enumerable:!1,configurable:!0}),t.prototype.createTouchHook=function(){var t=this,e=document.createElement("button");e.style.width="1px",e.style.height="1px",e.style.position="absolute",e.style.top="-1000px",e.style.left="-1000px",e.style.zIndex=2..toString(),e.style.backgroundColor="#FF0000",e.title="select to enable accessability for this content",e.addEventListener("focus",(function(){t._isMobileAccessibility=!0,t.activate(),t.destroyTouchHook()})),document.body.appendChild(e),this._hookDiv=e},t.prototype.destroyTouchHook=function(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)},t.prototype.activate=function(){this._isActive||(this._isActive=!0,window.document.addEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),this.renderer.view.parentNode&&this.renderer.view.parentNode.appendChild(this.div))},t.prototype.deactivate=function(){this._isActive&&!this._isMobileAccessibility&&(this._isActive=!1,window.document.removeEventListener("mousemove",this._onMouseMove,!0),window.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),this.div.parentNode&&this.div.parentNode.removeChild(this.div))},t.prototype.updateAccessibleObjects=function(t){if(t.visible&&t.accessibleChildren){t.accessible&&t.interactive&&(t._accessibleActive||this.addChild(t),t.renderId=this.renderId);for(var e=t.children,r=0;r<e.length;r++)this.updateAccessibleObjects(e[r])}},t.prototype.update=function(){var t=performance.now();if(!(Ms.android.device&&t<this.androidUpdateCount)&&(this.androidUpdateCount=t+this.androidUpdateFrequency,this.renderer.renderingToScreen)){this.renderer._lastObjectRendered&&this.updateAccessibleObjects(this.renderer._lastObjectRendered);var e=this.renderer.view.getBoundingClientRect(),r=this.renderer.resolution,n=e.width/this.renderer.width*r,i=e.height/this.renderer.height*r,o=this.div;o.style.left=e.left+"px",o.style.top=e.top+"px",o.style.width=this.renderer.width+"px",o.style.height=this.renderer.height+"px";for(var s=0;s<this.children.length;s++){var a=this.children[s];if(a.renderId!==this.renderId)a._accessibleActive=!1,ua(this.children,s,1),this.div.removeChild(a._accessibleDiv),this.pool.push(a._accessibleDiv),a._accessibleDiv=null,s--;else{o=a._accessibleDiv;var u=a.hitArea,l=a.worldTransform;a.hitArea?(o.style.left=(l.tx+u.x*l.a)*n+"px",o.style.top=(l.ty+u.y*l.d)*i+"px",o.style.width=u.width*l.a*n+"px",o.style.height=u.height*l.d*i+"px"):(u=a.getBounds(),this.capHitArea(u),o.style.left=u.x*n+"px",o.style.top=u.y*i+"px",o.style.width=u.width*n+"px",o.style.height=u.height*i+"px",o.title!==a.accessibleTitle&&null!==a.accessibleTitle&&(o.title=a.accessibleTitle),o.getAttribute("aria-label")!==a.accessibleHint&&null!==a.accessibleHint&&o.setAttribute("aria-label",a.accessibleHint)),a.accessibleTitle===o.title&&a.tabIndex===o.tabIndex||(o.title=a.accessibleTitle,o.tabIndex=a.tabIndex,this.debug&&this.updateDebugHTML(o))}}this.renderId++}},t.prototype.updateDebugHTML=function(t){t.innerHTML="type: "+t.type+"</br> title : "+t.title+"</br> tabIndex: "+t.tabIndex},t.prototype.capHitArea=function(t){t.x<0&&(t.width+=t.x,t.x=0),t.y<0&&(t.height+=t.y,t.y=0),t.x+t.width>this.renderer.width&&(t.width=this.renderer.width-t.x),t.y+t.height>this.renderer.height&&(t.height=this.renderer.height-t.y)},t.prototype.addChild=function(t){var e=this.pool.pop();e||((e=document.createElement("button")).style.width="100px",e.style.height="100px",e.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",e.style.position="absolute",e.style.zIndex=2..toString(),e.style.borderStyle="none",navigator.userAgent.toLowerCase().indexOf("chrome")>-1?e.setAttribute("aria-live","off"):e.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?e.setAttribute("aria-relevant","additions"):e.setAttribute("aria-relevant","text"),e.addEventListener("click",this._onClick.bind(this)),e.addEventListener("focus",this._onFocus.bind(this)),e.addEventListener("focusout",this._onFocusOut.bind(this))),e.style.pointerEvents=t.accessiblePointerEvents,e.type=t.accessibleType,t.accessibleTitle&&null!==t.accessibleTitle?e.title=t.accessibleTitle:t.accessibleHint&&null!==t.accessibleHint||(e.title="displayObject "+t.tabIndex),t.accessibleHint&&null!==t.accessibleHint&&e.setAttribute("aria-label",t.accessibleHint),this.debug&&this.updateDebugHTML(e),t._accessibleActive=!0,t._accessibleDiv=e,e.displayObject=t,this.children.push(t),this.div.appendChild(t._accessibleDiv),t._accessibleDiv.tabIndex=t.tabIndex},t.prototype._onClick=function(t){var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"click",e.eventData),e.dispatchEvent(t.target.displayObject,"pointertap",e.eventData),e.dispatchEvent(t.target.displayObject,"tap",e.eventData)},t.prototype._onFocus=function(t){t.target.getAttribute("aria-live")||t.target.setAttribute("aria-live","assertive");var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"mouseover",e.eventData)},t.prototype._onFocusOut=function(t){t.target.getAttribute("aria-live")||t.target.setAttribute("aria-live","polite");var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"mouseout",e.eventData)},t.prototype._onKeyDown=function(t){9===t.keyCode&&this.activate()},t.prototype._onMouseMove=function(t){0===t.movementX&&0===t.movementY||this.deactivate()},t.prototype.destroy=function(){this.destroyTouchHook(),this.div=null,window.document.removeEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},t}();Ls.TARGET_FPMS=.06,function(t){t[t.INTERACTION=50]="INTERACTION",t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY"}(eu||(eu={}));var nu=function(){function t(t,e,r,n){void 0===e&&(e=null),void 0===r&&(r=0),void 0===n&&(n=!1),this.fn=t,this.context=e,this.priority=r,this.once=n,this.next=null,this.previous=null,this._destroyed=!1}return t.prototype.match=function(t,e){return void 0===e&&(e=null),this.fn===t&&this.context===e},t.prototype.emit=function(t){this.fn&&(this.context?this.fn.call(this.context,t):this.fn(t));var e=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),e},t.prototype.connect=function(t){this.previous=t,t.next&&(t.next.previous=this),this.next=t.next,t.next=this},t.prototype.destroy=function(t){void 0===t&&(t=!1),this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var e=this.next;return this.next=t?null:e,this.previous=null,e},t}(),iu=function(){function t(){var t=this;this._head=new nu(null,null,1/0),this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this.autoStart=!1,this.deltaTime=1,this.deltaMS=1/Ls.TARGET_FPMS,this.elapsedMS=1/Ls.TARGET_FPMS,this.lastTime=-1,this.speed=1,this.started=!1,this._protected=!1,this._lastFrame=-1,this._tick=function(e){t._requestId=null,t.started&&(t.update(e),t.started&&null===t._requestId&&t._head.next&&(t._requestId=requestAnimationFrame(t._tick)))}}return t.prototype._requestIfNeeded=function(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))},t.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)},t.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},t.prototype.add=function(t,e,r){return void 0===r&&(r=eu.NORMAL),this._addListener(new nu(t,e,r))},t.prototype.addOnce=function(t,e,r){return void 0===r&&(r=eu.NORMAL),this._addListener(new nu(t,e,r,!0))},t.prototype._addListener=function(t){var e=this._head.next,r=this._head;if(e){for(;e;){if(t.priority>e.priority){t.connect(r);break}r=e,e=e.next}t.previous||t.connect(r)}else t.connect(r);return this._startIfPossible(),this},t.prototype.remove=function(t,e){for(var r=this._head.next;r;)r=r.match(t,e)?r.destroy():r.next;return this._head.next||this._cancelIfNeeded(),this},Object.defineProperty(t.prototype,"count",{get:function(){if(!this._head)return 0;for(var t=0,e=this._head;e=e.next;)t++;return t},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},t.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},t.prototype.destroy=function(){if(!this._protected){this.stop();for(var t=this._head.next;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}},t.prototype.update=function(t){var e;if(void 0===t&&(t=performance.now()),t>this.lastTime){if((e=this.elapsedMS=t-this.lastTime)>this._maxElapsedMS&&(e=this._maxElapsedMS),e*=this.speed,this._minElapsedMS){var r=t-this._lastFrame|0;if(r<this._minElapsedMS)return;this._lastFrame=t-r%this._minElapsedMS}this.deltaMS=e,this.deltaTime=this.deltaMS*Ls.TARGET_FPMS;for(var n=this._head,i=n.next;i;)i=i.emit(this.deltaTime);n.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t},Object.defineProperty(t.prototype,"FPS",{get:function(){return 1e3/this.elapsedMS},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minFPS",{get:function(){return 1e3/this._maxElapsedMS},set:function(t){var e=Math.min(this.maxFPS,t),r=Math.min(Math.max(0,e)/1e3,Ls.TARGET_FPMS);this._maxElapsedMS=1/r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxFPS",{get:function(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0},set:function(t){if(0===t)this._minElapsedMS=0;else{var e=Math.max(this.minFPS,t);this._minElapsedMS=1/(e/1e3)}},enumerable:!1,configurable:!0}),Object.defineProperty(t,"shared",{get:function(){if(!t._shared){var e=t._shared=new t;e.autoStart=!0,e._protected=!0}return t._shared},enumerable:!1,configurable:!0}),Object.defineProperty(t,"system",{get:function(){if(!t._system){var e=t._system=new t;e.autoStart=!0,e._protected=!0}return t._system},enumerable:!1,configurable:!0}),t}(),ou=function(){function t(){}return t.init=function(t){var e=this;t=Object.assign({autoStart:!0,sharedTicker:!1},t),Object.defineProperty(this,"ticker",{set:function(t){this._ticker&&this._ticker.remove(this.render,this),this._ticker=t,t&&t.add(this.render,this,eu.LOW)},get:function(){return this._ticker}}),this.stop=function(){e._ticker.stop()},this.start=function(){e._ticker.start()},this._ticker=null,this.ticker=t.sharedTicker?iu.shared:new iu,t.autoStart&&this.start()},t.destroy=function(){if(this._ticker){var t=this._ticker;this.ticker=null,t.destroy()}},t}(),su=function(){function t(){this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0,this.global=new La,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}return Object.defineProperty(t.prototype,"pointerId",{get:function(){return this.identifier},enumerable:!1,configurable:!0}),t.prototype.getLocalPosition=function(t,e,r){return t.worldTransform.applyInverse(r||this.global,e)},t.prototype.copyEvent=function(t){"isPrimary"in t&&t.isPrimary&&(this.isPrimary=!0),this.button="button"in t&&t.button;var e="buttons"in t&&t.buttons;this.buttons=Number.isInteger(e)?e:"which"in t&&t.which,this.width="width"in t&&t.width,this.height="height"in t&&t.height,this.tiltX="tiltX"in t&&t.tiltX,this.tiltY="tiltY"in t&&t.tiltY,this.pointerType="pointerType"in t&&t.pointerType,this.pressure="pressure"in t&&t.pressure,this.rotationAngle="rotationAngle"in t&&t.rotationAngle,this.twist="twist"in t&&t.twist||0,this.tangentialPressure="tangentialPressure"in t&&t.tangentialPressure||0},t.prototype.reset=function(){this.isPrimary=!1},t}(),au=function(t,e){return(au=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},uu=function(){function t(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}return t.prototype.stopPropagation=function(){this.stopped=!0,this.stopPropagationHint=!0,this.stopsPropagatingAt=this.currentTarget},t.prototype.reset=function(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.currentTarget=null,this.target=null},t}(),lu=function(){function t(e){this._pointerId=e,this._flags=t.FLAGS.NONE}return t.prototype._doSet=function(t,e){this._flags=e?this._flags|t:this._flags&~t},Object.defineProperty(t.prototype,"pointerId",{get:function(){return this._pointerId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flags",{get:function(){return this._flags},set:function(t){this._flags=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"none",{get:function(){return this._flags===t.FLAGS.NONE},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"over",{get:function(){return 0!=(this._flags&t.FLAGS.OVER)},set:function(e){this._doSet(t.FLAGS.OVER,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rightDown",{get:function(){return 0!=(this._flags&t.FLAGS.RIGHT_DOWN)},set:function(e){this._doSet(t.FLAGS.RIGHT_DOWN,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leftDown",{get:function(){return 0!=(this._flags&t.FLAGS.LEFT_DOWN)},set:function(e){this._doSet(t.FLAGS.LEFT_DOWN,e)},enumerable:!1,configurable:!0}),t.FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4}),t}(),cu=function(){function t(){this._tempPoint=new La}return t.prototype.recursiveFindHit=function(t,e,r,n,i){if(!e||!e.visible)return!1;var o=t.data.global,s=!1,a=i=e.interactive||i,u=!0;if(e.hitArea?(n&&(e.worldTransform.applyInverse(o,this._tempPoint),e.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?s=!0:(n=!1,u=!1)),a=!1):e._mask&&n&&(e._mask.containsPoint&&e._mask.containsPoint(o)||(n=!1)),u&&e.interactiveChildren&&e.children)for(var l=e.children,c=l.length-1;c>=0;c--){var h=l[c],f=this.recursiveFindHit(t,h,r,n,a);if(f){if(!h.parent)continue;a=!1,f&&(t.target&&(n=!1),s=!0)}}return i&&(n&&!t.target&&!e.hitArea&&e.containsPoint&&e.containsPoint(o)&&(s=!0),e.interactive&&(s&&!t.target&&(t.target=e),r&&r(t,e,!!s))),s},t.prototype.findHit=function(t,e,r,n){this.recursiveFindHit(t,e,r,n,!1)},t}(),hu={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return"pointer"===this.cursor},set buttonMode(t){t?this.cursor="pointer":"pointer"===this.cursor&&(this.cursor=null)},cursor:null,get trackedPointers(){return void 0===this._trackedPointers&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0};Za.mixin(hu);var fu={target:null,data:{global:null}},pu=function(t){function e(e,r){var n=t.call(this)||this;return r=r||{},n.renderer=e,n.autoPreventDefault=void 0===r.autoPreventDefault||r.autoPreventDefault,n.interactionFrequency=r.interactionFrequency||10,n.mouse=new su,n.mouse.identifier=1,n.mouse.global.set(-999999),n.activeInteractionData={},n.activeInteractionData[1]=n.mouse,n.interactionDataPool=[],n.eventData=new uu,n.interactionDOMElement=null,n.moveWhenInside=!1,n.eventsAdded=!1,n.tickerAdded=!1,n.mouseOverRenderer=!1,n.supportsTouchEvents="ontouchstart"in window,n.supportsPointerEvents=!!window.PointerEvent,n.onPointerUp=n.onPointerUp.bind(n),n.processPointerUp=n.processPointerUp.bind(n),n.onPointerCancel=n.onPointerCancel.bind(n),n.processPointerCancel=n.processPointerCancel.bind(n),n.onPointerDown=n.onPointerDown.bind(n),n.processPointerDown=n.processPointerDown.bind(n),n.onPointerMove=n.onPointerMove.bind(n),n.processPointerMove=n.processPointerMove.bind(n),n.onPointerOut=n.onPointerOut.bind(n),n.processPointerOverOut=n.processPointerOverOut.bind(n),n.onPointerOver=n.onPointerOver.bind(n),n.cursorStyles={default:"inherit",pointer:"pointer"},n.currentCursorMode=null,n.cursor=null,n.resolution=1,n.delayedEvents=[],n.search=new cu,n._tempDisplayObject=new Ja,n._useSystemTicker=void 0===r.useSystemTicker||r.useSystemTicker,n.setTargetElement(n.renderer.view,n.renderer.resolution),n}return function(t,e){function r(){this.constructor=t}au(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}(e,t),Object.defineProperty(e.prototype,"useSystemTicker",{get:function(){return this._useSystemTicker},set:function(t){this._useSystemTicker=t,t?this.addTickerListener():this.removeTickerListener()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastObjectRendered",{get:function(){return this.renderer._lastObjectRendered||this._tempDisplayObject},enumerable:!1,configurable:!0}),e.prototype.hitTest=function(t,e){return fu.target=null,fu.data.global=t,e||(e=this.lastObjectRendered),this.processInteractive(fu,e,null,!0),fu.target},e.prototype.setTargetElement=function(t,e){void 0===e&&(e=1),this.removeTickerListener(),this.removeEvents(),this.interactionDOMElement=t,this.resolution=e,this.addEvents(),this.addTickerListener()},e.prototype.addTickerListener=function(){!this.tickerAdded&&this.interactionDOMElement&&this._useSystemTicker&&(iu.system.add(this.tickerUpdate,this,eu.INTERACTION),this.tickerAdded=!0)},e.prototype.removeTickerListener=function(){this.tickerAdded&&(iu.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)},e.prototype.addEvents=function(){if(!this.eventsAdded&&this.interactionDOMElement){var t=this.interactionDOMElement.style;window.navigator.msPointerEnabled?(t.msContentZooming="none",t.msTouchAction="none"):this.supportsPointerEvents&&(t.touchAction="none"),this.supportsPointerEvents?(window.document.addEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,!0),window.addEventListener("pointercancel",this.onPointerCancel,!0),window.addEventListener("pointerup",this.onPointerUp,!0)):(window.document.addEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,!0),window.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,!0)),this.eventsAdded=!0}},e.prototype.removeEvents=function(){if(this.eventsAdded&&this.interactionDOMElement){var t=this.interactionDOMElement.style;window.navigator.msPointerEnabled?(t.msContentZooming="",t.msTouchAction=""):this.supportsPointerEvents&&(t.touchAction=""),this.supportsPointerEvents?(window.document.removeEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,!0),window.removeEventListener("pointercancel",this.onPointerCancel,!0),window.removeEventListener("pointerup",this.onPointerUp,!0)):(window.document.removeEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,!0),window.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.interactionDOMElement=null,this.eventsAdded=!1}},e.prototype.tickerUpdate=function(t){this._deltaTime+=t,this._deltaTime<this.interactionFrequency||(this._deltaTime=0,this.update())},e.prototype.update=function(){if(this.interactionDOMElement)if(this._didMove)this._didMove=!1;else{for(var t in this.cursor=null,this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(t)){var e=this.activeInteractionData[t];if(e.originalEvent&&"touch"!==e.pointerType){var r=this.configureInteractionEventForDOMEvent(this.eventData,e.originalEvent,e);this.processInteractive(r,this.lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},e.prototype.setCursorMode=function(t){if(t=t||"default",this.currentCursorMode!==t){this.currentCursorMode=t;var e=this.cursorStyles[t];if(e)switch(typeof e){case"string":this.interactionDOMElement.style.cursor=e;break;case"function":e(t);break;case"object":Object.assign(this.interactionDOMElement.style,e)}else"string"!=typeof t||Object.prototype.hasOwnProperty.call(this.cursorStyles,t)||(this.interactionDOMElement.style.cursor=t)}},e.prototype.dispatchEvent=function(t,e,r){r.stopPropagationHint&&t!==r.stopsPropagatingAt||(r.currentTarget=t,r.type=e,t.emit(e,r),t[e]&&t[e](r))},e.prototype.delayDispatchEvent=function(t,e,r){this.delayedEvents.push({displayObject:t,eventString:e,eventData:r})},e.prototype.mapPositionToPoint=function(t,e,r){var n;n=this.interactionDOMElement.parentElement?this.interactionDOMElement.getBoundingClientRect():{x:0,y:0,width:0,height:0};var i=1/this.resolution;t.x=(e-n.left)*(this.interactionDOMElement.width/n.width)*i,t.y=(r-n.top)*(this.interactionDOMElement.height/n.height)*i},e.prototype.processInteractive=function(t,e,r,n){var i=this.search.findHit(t,e,r,n),o=this.delayedEvents;if(!o.length)return i;t.stopPropagationHint=!1;var s=o.length;this.delayedEvents=[];for(var a=0;a<s;a++){var u=o[a],l=u.displayObject,c=u.eventString,h=u.eventData;h.stopsPropagatingAt===l&&(h.stopPropagationHint=!0),this.dispatchEvent(l,c,h)}return i},e.prototype.onPointerDown=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t);this.autoPreventDefault&&e[0].isNormalized&&(t.cancelable||!("cancelable"in t))&&t.preventDefault();for(var r=e.length,n=0;n<r;n++){var i=e[n],o=this.getInteractionDataForPointerId(i),s=this.configureInteractionEventForDOMEvent(this.eventData,i,o);if(s.data.originalEvent=t,this.processInteractive(s,this.lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",s),"touch"===i.pointerType)this.emit("touchstart",s);else if("mouse"===i.pointerType||"pen"===i.pointerType){var a=2===i.button;this.emit(a?"rightdown":"mousedown",this.eventData)}}}},e.prototype.processPointerDown=function(t,e,r){var n=t.data,i=t.data.identifier;if(r)if(e.trackedPointers[i]||(e.trackedPointers[i]=new lu(i)),this.dispatchEvent(e,"pointerdown",t),"touch"===n.pointerType)this.dispatchEvent(e,"touchstart",t);else if("mouse"===n.pointerType||"pen"===n.pointerType){var o=2===n.button;o?e.trackedPointers[i].rightDown=!0:e.trackedPointers[i].leftDown=!0,this.dispatchEvent(e,o?"rightdown":"mousedown",t)}},e.prototype.onPointerComplete=function(t,e,r){for(var n=this.normalizeToPointerData(t),i=n.length,o=t.target!==this.interactionDOMElement?"outside":"",s=0;s<i;s++){var a=n[s],u=this.getInteractionDataForPointerId(a),l=this.configureInteractionEventForDOMEvent(this.eventData,a,u);if(l.data.originalEvent=t,this.processInteractive(l,this.lastObjectRendered,r,e||!o),this.emit(e?"pointercancel":"pointerup"+o,l),"mouse"===a.pointerType||"pen"===a.pointerType){var c=2===a.button;this.emit(c?"rightup"+o:"mouseup"+o,l)}else"touch"===a.pointerType&&(this.emit(e?"touchcancel":"touchend"+o,l),this.releaseInteractionDataForPointerId(a.pointerId))}},e.prototype.onPointerCancel=function(t){this.supportsTouchEvents&&"touch"===t.pointerType||this.onPointerComplete(t,!0,this.processPointerCancel)},e.prototype.processPointerCancel=function(t,e){var r=t.data,n=t.data.identifier;void 0!==e.trackedPointers[n]&&(delete e.trackedPointers[n],this.dispatchEvent(e,"pointercancel",t),"touch"===r.pointerType&&this.dispatchEvent(e,"touchcancel",t))},e.prototype.onPointerUp=function(t){this.supportsTouchEvents&&"touch"===t.pointerType||this.onPointerComplete(t,!1,this.processPointerUp)},e.prototype.processPointerUp=function(t,e,r){var n=t.data,i=t.data.identifier,o=e.trackedPointers[i],s="touch"===n.pointerType,a="mouse"===n.pointerType||"pen"===n.pointerType,u=!1;if(a){var l=2===n.button,c=lu.FLAGS,h=l?c.RIGHT_DOWN:c.LEFT_DOWN,f=void 0!==o&&o.flags&h;r?(this.dispatchEvent(e,l?"rightup":"mouseup",t),f&&(this.dispatchEvent(e,l?"rightclick":"click",t),u=!0)):f&&this.dispatchEvent(e,l?"rightupoutside":"mouseupoutside",t),o&&(l?o.rightDown=!1:o.leftDown=!1)}r?(this.dispatchEvent(e,"pointerup",t),s&&this.dispatchEvent(e,"touchend",t),o&&(a&&!u||this.dispatchEvent(e,"pointertap",t),s&&(this.dispatchEvent(e,"tap",t),o.over=!1))):o&&(this.dispatchEvent(e,"pointerupoutside",t),s&&this.dispatchEvent(e,"touchendoutside",t)),o&&o.none&&delete e.trackedPointers[i]},e.prototype.onPointerMove=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t);"mouse"!==e[0].pointerType&&"pen"!==e[0].pointerType||(this._didMove=!0,this.cursor=null);for(var r=e.length,n=0;n<r;n++){var i=e[n],o=this.getInteractionDataForPointerId(i),s=this.configureInteractionEventForDOMEvent(this.eventData,i,o);s.data.originalEvent=t,this.processInteractive(s,this.lastObjectRendered,this.processPointerMove,!0),this.emit("pointermove",s),"touch"===i.pointerType&&this.emit("touchmove",s),"mouse"!==i.pointerType&&"pen"!==i.pointerType||this.emit("mousemove",s)}"mouse"===e[0].pointerType&&this.setCursorMode(this.cursor)}},e.prototype.processPointerMove=function(t,e,r){var n=t.data,i="touch"===n.pointerType,o="mouse"===n.pointerType||"pen"===n.pointerType;o&&this.processPointerOverOut(t,e,r),this.moveWhenInside&&!r||(this.dispatchEvent(e,"pointermove",t),i&&this.dispatchEvent(e,"touchmove",t),o&&this.dispatchEvent(e,"mousemove",t))},e.prototype.onPointerOut=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t)[0];"mouse"===e.pointerType&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var r=this.getInteractionDataForPointerId(e),n=this.configureInteractionEventForDOMEvent(this.eventData,e,r);n.data.originalEvent=e,this.processInteractive(n,this.lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",n),"mouse"===e.pointerType||"pen"===e.pointerType?this.emit("mouseout",n):this.releaseInteractionDataForPointerId(r.identifier)}},e.prototype.processPointerOverOut=function(t,e,r){var n=t.data,i=t.data.identifier,o="mouse"===n.pointerType||"pen"===n.pointerType,s=e.trackedPointers[i];r&&!s&&(s=e.trackedPointers[i]=new lu(i)),void 0!==s&&(r&&this.mouseOverRenderer?(s.over||(s.over=!0,this.delayDispatchEvent(e,"pointerover",t),o&&this.delayDispatchEvent(e,"mouseover",t)),o&&null===this.cursor&&(this.cursor=e.cursor)):s.over&&(s.over=!1,this.dispatchEvent(e,"pointerout",this.eventData),o&&this.dispatchEvent(e,"mouseout",t),s.none&&delete e.trackedPointers[i]))},e.prototype.onPointerOver=function(t){var e=this.normalizeToPointerData(t)[0],r=this.getInteractionDataForPointerId(e),n=this.configureInteractionEventForDOMEvent(this.eventData,e,r);n.data.originalEvent=e,"mouse"===e.pointerType&&(this.mouseOverRenderer=!0),this.emit("pointerover",n),"mouse"!==e.pointerType&&"pen"!==e.pointerType||this.emit("mouseover",n)},e.prototype.getInteractionDataForPointerId=function(t){var e,r=t.pointerId;return 1===r||"mouse"===t.pointerType?e=this.mouse:this.activeInteractionData[r]?e=this.activeInteractionData[r]:((e=this.interactionDataPool.pop()||new su).identifier=r,this.activeInteractionData[r]=e),e.copyEvent(t),e},e.prototype.releaseInteractionDataForPointerId=function(t){var e=this.activeInteractionData[t];e&&(delete this.activeInteractionData[t],e.reset(),this.interactionDataPool.push(e))},e.prototype.configureInteractionEventForDOMEvent=function(t,e,r){return t.data=r,this.mapPositionToPoint(r.global,e.clientX,e.clientY),"touch"===e.pointerType&&(e.globalX=r.global.x,e.globalY=r.global.y),r.originalEvent=e,t.reset(),t},e.prototype.normalizeToPointerData=function(t){var e=[];if(this.supportsTouchEvents&&t instanceof TouchEvent)for(var r=0,n=t.changedTouches.length;r<n;r++){var i=t.changedTouches[r];void 0===i.button&&(i.button=t.touches.length?1:0),void 0===i.buttons&&(i.buttons=t.touches.length?1:0),void 0===i.isPrimary&&(i.isPrimary=1===t.touches.length&&"touchstart"===t.type),void 0===i.width&&(i.width=i.radiusX||1),void 0===i.height&&(i.height=i.radiusY||1),void 0===i.tiltX&&(i.tiltX=0),void 0===i.tiltY&&(i.tiltY=0),void 0===i.pointerType&&(i.pointerType="touch"),void 0===i.pointerId&&(i.pointerId=i.identifier||0),void 0===i.pressure&&(i.pressure=i.force||.5),void 0===i.twist&&(i.twist=0),void 0===i.tangentialPressure&&(i.tangentialPressure=0),void 0===i.layerX&&(i.layerX=i.offsetX=i.clientX),void 0===i.layerY&&(i.layerY=i.offsetY=i.clientY),i.isNormalized=!0,e.push(i)}else if(!(t instanceof MouseEvent)||this.supportsPointerEvents&&t instanceof window.PointerEvent)e.push(t);else{var o=t;void 0===o.isPrimary&&(o.isPrimary=!0),void 0===o.width&&(o.width=1),void 0===o.height&&(o.height=1),void 0===o.tiltX&&(o.tiltX=0),void 0===o.tiltY&&(o.tiltY=0),void 0===o.pointerType&&(o.pointerType="mouse"),void 0===o.pointerId&&(o.pointerId=1),void 0===o.pressure&&(o.pressure=.5),void 0===o.twist&&(o.twist=0),void 0===o.tangentialPressure&&(o.tangentialPressure=0),o.isNormalized=!0,e.push(o)}return e},e.prototype.destroy=function(){this.removeEvents(),this.removeTickerListener(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this.search=null},e}(Bs()),du=function(){function t(t){this.items=[],this._name=t,this._aliasCount=0}return t.prototype.emit=function(t,e,r,n,i,o,s,a){if(arguments.length>8)throw new Error("max arguments reached");var u=this,l=u.name,c=u.items;this._aliasCount++;for(var h=0,f=c.length;h<f;h++)c[h][l](t,e,r,n,i,o,s,a);return c===this.items&&this._aliasCount--,this},t.prototype.ensureNonAliasedItems=function(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))},t.prototype.add=function(t){return t[this._name]&&(this.ensureNonAliasedItems(),this.remove(t),this.items.push(t)),this},t.prototype.remove=function(t){var e=this.items.indexOf(t);return-1!==e&&(this.ensureNonAliasedItems(),this.items.splice(e,1)),this},t.prototype.contains=function(t){return-1!==this.items.indexOf(t)},t.prototype.removeAll=function(){return this.ensureNonAliasedItems(),this.items.length=0,this},t.prototype.destroy=function(){this.removeAll(),this.items=null,this._name=null},Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.items.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),t}();Object.defineProperties(du.prototype,{dispatch:{value:du.prototype.emit},run:{value:du.prototype.emit}}),Ls.PREFER_ENV=Ms.any?es.WEBGL:es.WEBGL2,Ls.STRICT_TEXTURE_CACHE=!1;var yu=[];function gu(t,e){if(!t)return null;var r="";if("string"==typeof t){var n=/\.(\w{3,4})(?:$|\?|#)/i.exec(t);n&&(r=n[1].toLowerCase())}for(var i=yu.length-1;i>=0;--i){var o=yu[i];if(o.test&&o.test(t,r))return new o(t,e)}throw new Error("Unrecognized source type to auto-detect Resource")}var mu=function(t,e){return(mu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function bu(t,e){function r(){this.constructor=t}mu(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var vu=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this._width=t,this._height=e,this.destroyed=!1,this.internal=!1,this.onResize=new du("setRealSize"),this.onUpdate=new du("update"),this.onError=new du("onError")}return t.prototype.bind=function(t){this.onResize.add(t),this.onUpdate.add(t),this.onError.add(t),(this._width||this._height)&&this.onResize.emit(this._width,this._height)},t.prototype.unbind=function(t){this.onResize.remove(t),this.onUpdate.remove(t),this.onError.remove(t)},t.prototype.resize=function(t,e){t===this._width&&e===this._height||(this._width=t,this._height=e,this.onResize.emit(t,e))},Object.defineProperty(t.prototype,"valid",{get:function(){return!!this._width&&!!this._height},enumerable:!1,configurable:!0}),t.prototype.update=function(){this.destroyed||this.onUpdate.emit()},t.prototype.load=function(){return Promise.resolve(this)},Object.defineProperty(t.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),t.prototype.style=function(t,e,r){return!1},t.prototype.dispose=function(){},t.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)},t.test=function(t,e){return!1},t}(),_u=function(t){function e(e,r){var n=this,i=r||{},o=i.width,s=i.height;if(!o||!s)throw new Error("BufferResource width or height invalid");return(n=t.call(this,o,s)||this).data=e,n}return bu(e,t),e.prototype.upload=function(t,e,r){var n=t.gl;return n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.alphaMode===fs.UNPACK),r.width===e.width&&r.height===e.height?n.texSubImage2D(e.target,0,0,0,e.width,e.height,e.format,e.type,this.data):(r.width=e.width,r.height=e.height,n.texImage2D(e.target,0,r.internalFormat,e.width,e.height,0,e.format,r.type,this.data)),!0},e.prototype.dispose=function(){this.data=null},e.test=function(t){return t instanceof Float32Array||t instanceof Uint8Array||t instanceof Uint32Array},e}(vu),wu={scaleMode:ls.NEAREST,format:ss.RGBA,alphaMode:fs.NPM},xu=function(t){function e(e,r){void 0===e&&(e=null),void 0===r&&(r=null);var n=t.call(this)||this,i=(r=r||{}).alphaMode,o=r.mipmap,s=r.anisotropicLevel,a=r.scaleMode,u=r.width,l=r.height,c=r.wrapMode,h=r.format,f=r.type,p=r.target,d=r.resolution,y=r.resourceOptions;return!e||e instanceof vu||((e=gu(e,y)).internal=!0),n.width=u||0,n.height=l||0,n.resolution=d||Ls.RESOLUTION,n.mipmap=void 0!==o?o:Ls.MIPMAP_TEXTURES,n.anisotropicLevel=void 0!==s?s:Ls.ANISOTROPIC_LEVEL,n.wrapMode=c||Ls.WRAP_MODE,n.scaleMode=void 0!==a?a:Ls.SCALE_MODE,n.format=h||ss.RGBA,n.type=f||us.UNSIGNED_BYTE,n.target=p||as.TEXTURE_2D,n.alphaMode=void 0!==i?i:fs.UNPACK,void 0!==r.premultiplyAlpha&&(n.premultiplyAlpha=r.premultiplyAlpha),n.uid=ha(),n.touched=0,n.isPowerOfTwo=!1,n._refreshPOT(),n._glTextures={},n.dirtyId=0,n.dirtyStyleId=0,n.cacheId=null,n.valid=u>0&&l>0,n.textureCacheIds=[],n.destroyed=!1,n.resource=null,n._batchEnabled=0,n._batchLocation=0,n.parentTextureArray=null,n.setResource(e),n}return bu(e,t),Object.defineProperty(e.prototype,"realWidth",{get:function(){return Math.ceil(this.width*this.resolution-1e-4)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"realHeight",{get:function(){return Math.ceil(this.height*this.resolution-1e-4)},enumerable:!1,configurable:!0}),e.prototype.setStyle=function(t,e){var r;return void 0!==t&&t!==this.scaleMode&&(this.scaleMode=t,r=!0),void 0!==e&&e!==this.mipmap&&(this.mipmap=e,r=!0),r&&this.dirtyStyleId++,this},e.prototype.setSize=function(t,e,r){return this.resolution=r||this.resolution,this.width=t,this.height=e,this._refreshPOT(),this.update(),this},e.prototype.setRealSize=function(t,e,r){return this.resolution=r||this.resolution,this.width=t/this.resolution,this.height=e/this.resolution,this._refreshPOT(),this.update(),this},e.prototype._refreshPOT=function(){this.isPowerOfTwo=sa(this.realWidth)&&sa(this.realHeight)},e.prototype.setResolution=function(t){var e=this.resolution;return e===t||(this.resolution=t,this.valid&&(this.width=this.width*e/t,this.height=this.height*e/t,this.emit("update",this)),this._refreshPOT()),this},e.prototype.setResource=function(t){if(this.resource===t)return this;if(this.resource)throw new Error("Resource can be set only once");return t.bind(this),this.resource=t,this},e.prototype.update=function(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))},e.prototype.onError=function(t){this.emit("error",this,t)},e.prototype.destroy=function(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete ga[this.cacheId],delete ya[this.cacheId],this.cacheId=null),this.dispose(),e.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0},e.prototype.dispose=function(){this.emit("dispose",this)},e.prototype.castToBaseTexture=function(){return this},e.from=function(t,r,n){void 0===n&&(n=Ls.STRICT_TEXTURE_CACHE);var i="string"==typeof t,o=null;i?o=t:(t._pixiId||(t._pixiId="pixiid_"+ha()),o=t._pixiId);var s=ga[o];if(i&&n&&!s)throw new Error('The cacheId "'+o+'" does not exist in BaseTextureCache.');return s||((s=new e(t,r)).cacheId=o,e.addToCache(s,o)),s},e.fromBuffer=function(t,r,n,i){t=t||new Float32Array(r*n*4);var o=new _u(t,{width:r,height:n}),s=t instanceof Float32Array?us.FLOAT:us.UNSIGNED_BYTE;return new e(o,Object.assign(wu,i||{width:r,height:n,type:s}))},e.addToCache=function(t,e){e&&(-1===t.textureCacheIds.indexOf(e)&&t.textureCacheIds.push(e),ga[e]&&console.warn("BaseTexture added to the cache with an id ["+e+"] that already had an entry"),ga[e]=t)},e.removeFromCache=function(t){if("string"==typeof t){var e=ga[t];if(e){var r=e.textureCacheIds.indexOf(t);return r>-1&&e.textureCacheIds.splice(r,1),delete ga[t],e}}else if(t&&t.textureCacheIds){for(var n=0;n<t.textureCacheIds.length;++n)delete ga[t.textureCacheIds[n]];return t.textureCacheIds.length=0,t}return null},e._globalBatch=0,e}(Bs()),Ou=function(t){function e(e,r){var n=this,i=r||{},o=i.width,s=i.height;(n=t.call(this,o,s)||this).items=[],n.itemDirtyIds=[];for(var a=0;a<e;a++){var u=new xu;n.items.push(u),n.itemDirtyIds.push(-2)}return n.length=e,n._load=null,n.baseTexture=null,n}return bu(e,t),e.prototype.initFromArray=function(t,e){for(var r=0;r<this.length;r++)t[r]&&(t[r].castToBaseTexture?this.addBaseTextureAt(t[r].castToBaseTexture(),r):t[r]instanceof vu?this.addResourceAt(t[r],r):this.addResourceAt(gu(t[r],e),r))},e.prototype.dispose=function(){for(var t=0,e=this.length;t<e;t++)this.items[t].destroy();this.items=null,this.itemDirtyIds=null,this._load=null},e.prototype.addResourceAt=function(t,e){if(!this.items[e])throw new Error("Index "+e+" is out of bounds");return t.valid&&!this.valid&&this.resize(t.width,t.height),this.items[e].setResource(t),this},e.prototype.bind=function(e){if(null!==this.baseTexture)throw new Error("Only one base texture per TextureArray is allowed");t.prototype.bind.call(this,e);for(var r=0;r<this.length;r++)this.items[r].parentTextureArray=e,this.items[r].on("update",e.update,e)},e.prototype.unbind=function(e){t.prototype.unbind.call(this,e);for(var r=0;r<this.length;r++)this.items[r].parentTextureArray=null,this.items[r].off("update",e.update,e)},e.prototype.load=function(){var t=this;if(this._load)return this._load;var e=this.items.map((function(t){return t.resource})).filter((function(t){return t})).map((function(t){return t.load()}));return this._load=Promise.all(e).then((function(){var e=t.items[0],r=e.realWidth,n=e.realHeight;return t.resize(r,n),Promise.resolve(t)})),this._load},e}(vu),Su=function(t){function e(e,r){var n,i,o=this,s=r||{},a=s.width,u=s.height;return Array.isArray(e)?(n=e,i=e.length):i=e,o=t.call(this,i,{width:a,height:u})||this,n&&o.initFromArray(n,r),o}return bu(e,t),e.prototype.addBaseTextureAt=function(t,e){if(!t.resource)throw new Error("ArrayResource does not support RenderTexture");return this.addResourceAt(t.resource,e),this},e.prototype.bind=function(e){t.prototype.bind.call(this,e),e.target=as.TEXTURE_2D_ARRAY},e.prototype.upload=function(t,e,r){var n=this,i=n.length,o=n.itemDirtyIds,s=n.items,a=t.gl;r.dirtyId<0&&a.texImage3D(a.TEXTURE_2D_ARRAY,0,e.format,this._width,this._height,i,0,e.format,e.type,null);for(var u=0;u<i;u++){var l=s[u];o[u]<l.dirtyId&&(o[u]=l.dirtyId,l.valid&&a.texSubImage3D(a.TEXTURE_2D_ARRAY,0,0,0,u,l.resource.width,l.resource.height,1,e.format,e.type,l.resource.source))}return!0},e}(Ou),Pu=function(t){function e(e){var r=this,n=e,i=n.naturalWidth||n.videoWidth||n.width,o=n.naturalHeight||n.videoHeight||n.height;return(r=t.call(this,i,o)||this).source=e,r.noSubImage=!1,r}return bu(e,t),e.crossOrigin=function(t,e,r){void 0===r&&0!==e.indexOf("data:")?t.crossOrigin=Sa(e):!1!==r&&(t.crossOrigin="string"==typeof r?r:"anonymous")},e.prototype.upload=function(t,e,r,n){var i=t.gl,o=e.realWidth,s=e.realHeight;return n=n||this.source,i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.alphaMode===fs.UNPACK),this.noSubImage||e.target!==i.TEXTURE_2D||r.width!==o||r.height!==s?(r.width=o,r.height=s,i.texImage2D(e.target,0,e.format,e.format,e.type,n)):i.texSubImage2D(i.TEXTURE_2D,0,0,0,e.format,e.type,n),!0},e.prototype.update=function(){if(!this.destroyed){var e=this.source,r=e.naturalWidth||e.videoWidth||e.width,n=e.naturalHeight||e.videoHeight||e.height;this.resize(r,n),t.prototype.update.call(this)}},e.prototype.dispose=function(){this.source=null},e}(vu),Tu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return bu(e,t),e.test=function(t){var e=window.OffscreenCanvas;return!!(e&&t instanceof e)||t instanceof HTMLCanvasElement},e}(Pu),Eu=function(t){function e(r,n){var i=this,o=n||{},s=o.width,a=o.height,u=o.autoLoad,l=o.linkBaseTexture;if(r&&r.length!==e.SIDES)throw new Error("Invalid length. Got "+r.length+", expected 6");i=t.call(this,6,{width:s,height:a})||this;for(var c=0;c<e.SIDES;c++)i.items[c].target=as.TEXTURE_CUBE_MAP_POSITIVE_X+c;return i.linkBaseTexture=!1!==l,r&&i.initFromArray(r,n),!1!==u&&i.load(),i}return bu(e,t),e.prototype.bind=function(e){t.prototype.bind.call(this,e),e.target=as.TEXTURE_CUBE_MAP},e.prototype.addBaseTextureAt=function(t,e,r){if(void 0===r&&(r=this.linkBaseTexture),!this.items[e])throw new Error("Index "+e+" is out of bounds");if(!this.linkBaseTexture||t.parentTextureArray||Object.keys(t._glTextures).length>0){if(!t.resource)throw new Error("CubeResource does not support copying of renderTexture.");this.addResourceAt(t.resource,e)}else t.target=as.TEXTURE_CUBE_MAP_POSITIVE_X+e,t.parentTextureArray=this.baseTexture,this.items[e]=t;return t.valid&&!this.valid&&this.resize(t.realWidth,t.realHeight),this.items[e]=t,this},e.prototype.upload=function(t,r,n){for(var i=this.itemDirtyIds,o=0;o<e.SIDES;o++){var s=this.items[o];i[o]<s.dirtyId&&(s.valid&&s.resource?(s.resource.upload(t,s,n),i[o]=s.dirtyId):i[o]<-1&&(t.gl.texImage2D(s.target,0,n.internalFormat,r.realWidth,r.realHeight,0,r.format,n.type,null),i[o]=-1))}return!0},e.test=function(t){return Array.isArray(t)&&t.length===e.SIDES},e.SIDES=6,e}(Ou),Ru=function(t){function e(e,r){var n=this;if(r=r||{},!(e instanceof HTMLImageElement)){var i=new Image;Pu.crossOrigin(i,e,r.crossorigin),i.src=e,e=i}return n=t.call(this,e)||this,!e.complete&&n._width&&n._height&&(n._width=0,n._height=0),n.url=e.src,n._process=null,n.preserveBitmap=!1,n.createBitmap=(void 0!==r.createBitmap?r.createBitmap:Ls.CREATE_IMAGE_BITMAP)&&!!window.createImageBitmap,n.alphaMode="number"==typeof r.alphaMode?r.alphaMode:null,void 0!==r.premultiplyAlpha&&(n.premultiplyAlpha=r.premultiplyAlpha),n.bitmap=null,n._load=null,!1!==r.autoLoad&&n.load(),n}return bu(e,t),e.prototype.load=function(t){var e=this;return this._load||(void 0!==t&&(this.createBitmap=t),this._load=new Promise((function(t,r){var n=e.source;e.url=n.src;var i=function(){e.destroyed||(n.onload=null,n.onerror=null,e.resize(n.width,n.height),e._load=null,e.createBitmap?t(e.process()):t(e))};n.complete&&n.src?i():(n.onload=i,n.onerror=function(t){r(t),e.onError.emit(t)})}))),this._load},e.prototype.process=function(){var t=this,e=this.source;return null!==this._process?this._process:null===this.bitmap&&window.createImageBitmap?(this._process=window.createImageBitmap(e,0,0,e.width,e.height,{premultiplyAlpha:this.alphaMode===fs.UNPACK?"premultiply":"none"}).then((function(e){return t.destroyed?Promise.reject():(t.bitmap=e,t.update(),t._process=null,Promise.resolve(t))})),this._process):Promise.resolve(this)},e.prototype.upload=function(e,r,n){if("number"==typeof this.alphaMode&&(r.alphaMode=this.alphaMode),!this.createBitmap)return t.prototype.upload.call(this,e,r,n);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(t.prototype.upload.call(this,e,r,n,this.bitmap),!this.preserveBitmap){var i=!0,o=r._glTextures;for(var s in o){var a=o[s];if(a!==n&&a.dirtyId!==r.dirtyId){i=!1;break}}i&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0},e.prototype.dispose=function(){this.source.onload=null,this.source.onerror=null,t.prototype.dispose.call(this),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null},e.test=function(t){return"string"==typeof t||t instanceof HTMLImageElement},e}(Pu),Au=function(t){function e(e,r){var n=this;return r=r||{},(n=t.call(this,document.createElement("canvas"))||this)._width=0,n._height=0,n.svg=e,n.scale=r.scale||1,n._overrideWidth=r.width,n._overrideHeight=r.height,n._resolve=null,n._crossorigin=r.crossorigin,n._load=null,!1!==r.autoLoad&&n.load(),n}return bu(e,t),e.prototype.load=function(){var t=this;return this._load||(this._load=new Promise((function(e){if(t._resolve=function(){t.resize(t.source.width,t.source.height),e(t)},/^\<svg/.test(t.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");t.svg="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(t.svg)))}t._loadSvg()}))),this._load},e.prototype._loadSvg=function(){var t=this,e=new Image;Pu.crossOrigin(e,this.svg,this._crossorigin),e.src=this.svg,e.onerror=function(r){t._resolve&&(e.onerror=null,t.onError.emit(r))},e.onload=function(){if(t._resolve){var r=e.width,n=e.height;if(!r||!n)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");var i=r*t.scale,o=n*t.scale;(t._overrideWidth||t._overrideHeight)&&(i=t._overrideWidth||t._overrideHeight/n*r,o=t._overrideHeight||t._overrideWidth/r*n),i=Math.round(i),o=Math.round(o);var s=t.source;s.width=i,s.height=o,s._pixiId="canvas_"+ha(),s.getContext("2d").drawImage(e,0,0,r,n,0,0,i,o),t._resolve(),t._resolve=null}}},e.getSize=function(t){var r=e.SVG_SIZE.exec(t),n={};return r&&(n[r[1]]=Math.round(parseFloat(r[3])),n[r[5]]=Math.round(parseFloat(r[7]))),n},e.prototype.dispose=function(){t.prototype.dispose.call(this),this._resolve=null,this._crossorigin=null},e.test=function(t,e){return"svg"===e||"string"==typeof t&&/^data:image\/svg\+xml(;(charset=utf8|utf8))?;base64/.test(t)||"string"==typeof t&&0===t.indexOf("<svg")},e.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,e}(Pu),Iu=function(t){function e(r,n){var i=this;if(n=n||{},!(r instanceof HTMLVideoElement)){var o=document.createElement("video");o.setAttribute("preload","auto"),o.setAttribute("webkit-playsinline",""),o.setAttribute("playsinline",""),"string"==typeof r&&(r=[r]);var s=r[0].src||r[0];Pu.crossOrigin(o,s,n.crossorigin);for(var a=0;a<r.length;++a){var u=document.createElement("source"),l=r[a],c=l.src,h=l.mime,f=(c=c||r[a]).split("?").shift().toLowerCase(),p=f.substr(f.lastIndexOf(".")+1);h=h||e.MIME_TYPES[p]||"video/"+p,u.src=c,u.type=h,o.appendChild(u)}r=o}return(i=t.call(this,r)||this).noSubImage=!0,i._autoUpdate=!0,i._isConnectedToTicker=!1,i._updateFPS=n.updateFPS||0,i._msToNextUpdate=0,i.autoPlay=!1!==n.autoPlay,i._load=null,i._resolve=null,i._onCanPlay=i._onCanPlay.bind(i),i._onError=i._onError.bind(i),!1!==n.autoLoad&&i.load(),i}return bu(e,t),e.prototype.update=function(e){if(void 0===e&&(e=0),!this.destroyed){var r=iu.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-r),(!this._updateFPS||this._msToNextUpdate<=0)&&(t.prototype.update.call(this),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}},e.prototype.load=function(){var t=this;if(this._load)return this._load;var e=this.source;return(e.readyState===e.HAVE_ENOUGH_DATA||e.readyState===e.HAVE_FUTURE_DATA)&&e.width&&e.height&&(e.complete=!0),e.addEventListener("play",this._onPlayStart.bind(this)),e.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(e.addEventListener("canplay",this._onCanPlay),e.addEventListener("canplaythrough",this._onCanPlay),e.addEventListener("error",this._onError,!0)),this._load=new Promise((function(r){t.valid?r(t):(t._resolve=r,e.load())})),this._load},e.prototype._onError=function(t){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(t)},e.prototype._isSourcePlaying=function(){var t=this.source;return t.currentTime>0&&!1===t.paused&&!1===t.ended&&t.readyState>2},e.prototype._isSourceReady=function(){var t=this.source;return 3===t.readyState||4===t.readyState},e.prototype._onPlayStart=function(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(iu.shared.add(this.update,this),this._isConnectedToTicker=!0)},e.prototype._onPlayStop=function(){this._isConnectedToTicker&&(iu.shared.remove(this.update,this),this._isConnectedToTicker=!1)},e.prototype._onCanPlay=function(){var t=this.source;t.removeEventListener("canplay",this._onCanPlay),t.removeEventListener("canplaythrough",this._onCanPlay);var e=this.valid;this.resize(t.videoWidth,t.videoHeight),!e&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&t.play()},e.prototype.dispose=function(){this._isConnectedToTicker&&iu.shared.remove(this.update,this);var e=this.source;e&&(e.removeEventListener("error",this._onError,!0),e.pause(),e.src="",e.load()),t.prototype.dispose.call(this)},Object.defineProperty(e.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isConnectedToTicker?(iu.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(iu.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"updateFPS",{get:function(){return this._updateFPS},set:function(t){t!==this._updateFPS&&(this._updateFPS=t)},enumerable:!1,configurable:!0}),e.test=function(t,r){return t instanceof HTMLVideoElement||e.TYPES.indexOf(r)>-1},e.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],e.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"},e}(Pu),ju=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return bu(e,t),e.test=function(t){return!!window.createImageBitmap&&t instanceof ImageBitmap},e}(Pu);yu.push(Ru,ju,Tu,Iu,Au,_u,Eu,Su);var Cu={Resource:vu,BaseImageResource:Pu,INSTALLED:yu,autoDetectResource:gu,AbstractMultiResource:Ou,ArrayResource:Su,BufferResource:_u,CanvasResource:Tu,CubeResource:Eu,ImageResource:Ru,SVGResource:Au,VideoResource:Iu,ImageBitmapResource:ju},ku=function(){function t(t){this.renderer=t}return t.prototype.destroy=function(){this.renderer=null},t}(),Mu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return bu(e,t),e.prototype.upload=function(t,e,r){var n=t.gl;return n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.alphaMode===fs.UNPACK),r.width===e.width&&r.height===e.height?n.texSubImage2D(e.target,0,0,0,e.width,e.height,e.format,e.type,this.data):(r.width=e.width,r.height=e.height,n.texImage2D(e.target,0,1===t.context.webGLVersion?n.DEPTH_COMPONENT:n.DEPTH_COMPONENT16,e.width,e.height,0,e.format,e.type,this.data)),!0},e}(_u),Lu=function(){function t(t,e){this.width=Math.ceil(t||100),this.height=Math.ceil(e||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new du("disposeFramebuffer"),this.multisample=ms.NONE}return Object.defineProperty(t.prototype,"colorTexture",{get:function(){return this.colorTextures[0]},enumerable:!1,configurable:!0}),t.prototype.addColorTexture=function(t,e){return void 0===t&&(t=0),this.colorTextures[t]=e||new xu(null,{scaleMode:ls.NEAREST,resolution:1,mipmap:hs.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this},t.prototype.addDepthTexture=function(t){return this.depthTexture=t||new xu(new Mu(null,{width:this.width,height:this.height}),{scaleMode:ls.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:hs.OFF,format:ss.DEPTH_COMPONENT,type:us.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this},t.prototype.enableDepth=function(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this},t.prototype.enableStencil=function(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this},t.prototype.resize=function(t,e){if(t=Math.ceil(t),e=Math.ceil(e),t!==this.width||e!==this.height){this.width=t,this.height=e,this.dirtyId++,this.dirtySize++;for(var r=0;r<this.colorTextures.length;r++){var n=this.colorTextures[r],i=n.resolution;n.setSize(t/i,e/i)}this.depthTexture&&(i=this.depthTexture.resolution,this.depthTexture.setSize(t/i,e/i))}},t.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},t.prototype.destroyDepthTexture=function(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)},t}(),Du=function(t){function e(e){var r=this;if("number"==typeof e){var n=arguments[0],i=arguments[1],o=arguments[2],s=arguments[3];e={width:n,height:i,scaleMode:o,resolution:s}}r=t.call(this,null,e)||this;var a=e||{},u=a.width,l=a.height;return r.mipmap=0,r.width=Math.ceil(u)||100,r.height=Math.ceil(l)||100,r.valid=!0,r.clearColor=[0,0,0,0],r.framebuffer=new Lu(r.width*r.resolution,r.height*r.resolution).addColorTexture(0,r),r.maskStack=[],r.filterStack=[{}],r}return bu(e,t),e.prototype.resize=function(t,e){t=Math.ceil(t),e=Math.ceil(e),this.framebuffer.resize(t*this.resolution,e*this.resolution)},e.prototype.dispose=function(){this.framebuffer.dispose(),t.prototype.dispose.call(this)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.framebuffer.destroyDepthTexture(),this.framebuffer=null},e}(xu),Bu=function(){function t(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}return t.prototype.set=function(t,e,r){var n=e.width,i=e.height;if(r){var o=t.width/2/n,s=t.height/2/i,a=t.x/n+o,u=t.y/i+s;r=Ga.add(r,Ga.NW),this.x0=a+o*Ga.uX(r),this.y0=u+s*Ga.uY(r),r=Ga.add(r,2),this.x1=a+o*Ga.uX(r),this.y1=u+s*Ga.uY(r),r=Ga.add(r,2),this.x2=a+o*Ga.uX(r),this.y2=u+s*Ga.uY(r),r=Ga.add(r,2),this.x3=a+o*Ga.uX(r),this.y3=u+s*Ga.uY(r)}else this.x0=t.x/n,this.y0=t.y/i,this.x1=(t.x+t.width)/n,this.y1=t.y/i,this.x2=(t.x+t.width)/n,this.y2=(t.y+t.height)/i,this.x3=t.x/n,this.y3=(t.y+t.height)/i;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3},t}(),Fu=new Bu,Nu=function(t){function e(r,n,i,o,s,a){var u=t.call(this)||this;if(u.noFrame=!1,n||(u.noFrame=!0,n=new Ia(0,0,1,1)),r instanceof e&&(r=r.baseTexture),u.baseTexture=r,u._frame=n,u.trim=o,u.valid=!1,u._uvs=Fu,u.uvMatrix=null,u.orig=i||n,u._rotate=Number(s||0),!0===s)u._rotate=2;else if(u._rotate%2!=0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return u.defaultAnchor=a?new La(a.x,a.y):new La(0,0),u._updateID=0,u.textureCacheIds=[],r.valid?u.noFrame?r.valid&&u.onBaseTextureUpdated(r):u.frame=n:r.once("loaded",u.onBaseTextureUpdated,u),u.noFrame&&r.on("update",u.onBaseTextureUpdated,u),u}return bu(e,t),e.prototype.update=function(){this.baseTexture.resource&&this.baseTexture.resource.update()},e.prototype.onBaseTextureUpdated=function(t){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=t.width,this._frame.height=t.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)},e.prototype.destroy=function(t){if(this.baseTexture){if(t){var r=this.baseTexture;r&&r.url&&ya[r.url]&&e.removeFromCache(r.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,e.removeFromCache(this),this.textureCacheIds=null},e.prototype.clone=function(){return new e(this.baseTexture,this.frame.clone(),this.orig.clone(),this.trim&&this.trim.clone(),this.rotate,this.defaultAnchor)},e.prototype.updateUvs=function(){this._uvs===Fu&&(this._uvs=new Bu),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},e.from=function(t,r,n){void 0===r&&(r={}),void 0===n&&(n=Ls.STRICT_TEXTURE_CACHE);var i="string"==typeof t,o=null;i?o=t:(t._pixiId||(t._pixiId="pixiid_"+ha()),o=t._pixiId);var s=ya[o];if(i&&n&&!s)throw new Error('The cacheId "'+o+'" does not exist in TextureCache.');return s||(r.resolution||(r.resolution=Pa(t)),(s=new e(new xu(t,r))).baseTexture.cacheId=o,xu.addToCache(s.baseTexture,o),e.addToCache(s,o)),s},e.fromURL=function(t,r){var n=Object.assign({autoLoad:!1},null==r?void 0:r.resourceOptions),i=e.from(t,Object.assign({resourceOptions:n},r),!1),o=i.baseTexture.resource;return i.baseTexture.valid?Promise.resolve(i):o.load().then((function(){return Promise.resolve(i)}))},e.fromBuffer=function(t,r,n,i){return new e(xu.fromBuffer(t,r,n,i))},e.fromLoader=function(t,r,n){var i=new Ru(t);i.url=r;var o=new e(new xu(i,{scaleMode:Ls.SCALE_MODE,resolution:Pa(r)}));return n||(n=r),xu.addToCache(o.baseTexture,n),e.addToCache(o,n),n!==r&&(xu.addToCache(o.baseTexture,r),e.addToCache(o,r)),o},e.addToCache=function(t,e){e&&(-1===t.textureCacheIds.indexOf(e)&&t.textureCacheIds.push(e),ya[e]&&console.warn("Texture added to the cache with an id ["+e+"] that already had an entry"),ya[e]=t)},e.removeFromCache=function(t){if("string"==typeof t){var e=ya[t];if(e){var r=e.textureCacheIds.indexOf(t);return r>-1&&e.textureCacheIds.splice(r,1),delete ya[t],e}}else if(t&&t.textureCacheIds){for(var n=0;n<t.textureCacheIds.length;++n)ya[t.textureCacheIds[n]]===t&&delete ya[t.textureCacheIds[n]];return t.textureCacheIds.length=0,t}return null},Object.defineProperty(e.prototype,"resolution",{get:function(){return this.baseTexture.resolution},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"frame",{get:function(){return this._frame},set:function(t){this._frame=t,this.noFrame=!1;var e=t.x,r=t.y,n=t.width,i=t.height,o=e+n>this.baseTexture.width,s=r+i>this.baseTexture.height;if(o||s){var a=o&&s?"and":"or",u="X: "+e+" + "+n+" = "+(e+n)+" > "+this.baseTexture.width,l="Y: "+r+" + "+i+" = "+(r+i)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+u+" "+a+" "+l)}this.valid=n&&i&&this.baseTexture.valid,this.trim||this.rotate||(this.orig=t),this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rotate",{get:function(){return this._rotate},set:function(t){this._rotate=t,this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.orig.height},enumerable:!1,configurable:!0}),e.prototype.castToBaseTexture=function(){return this.baseTexture},e}(Bs());function Uu(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}Nu.EMPTY=new Nu(new xu),Uu(Nu.EMPTY),Uu(Nu.EMPTY.baseTexture),Nu.WHITE=function(){var t=document.createElement("canvas");t.width=16,t.height=16;var e=t.getContext("2d");return e.fillStyle="white",e.fillRect(0,0,16,16),new Nu(new xu(new Tu(t)))}(),Uu(Nu.WHITE),Uu(Nu.WHITE.baseTexture);var Wu=function(t){function e(e,r){var n=this,i=null;if(!(e instanceof Du)){var o=arguments[1],s=arguments[2],a=arguments[3],u=arguments[4];console.warn("Please use RenderTexture.create("+o+", "+s+") instead of the ctor directly."),i=arguments[0],r=null,e=new Du({width:o,height:s,scaleMode:a,resolution:u})}return(n=t.call(this,e,r)||this).legacyRenderer=i,n.valid=!0,n.filterFrame=null,n.filterPoolKey=null,n.updateUvs(),n}return bu(e,t),Object.defineProperty(e.prototype,"framebuffer",{get:function(){return this.baseTexture.framebuffer},enumerable:!1,configurable:!0}),e.prototype.resize=function(t,e,r){void 0===r&&(r=!0),t=Math.ceil(t),e=Math.ceil(e),this.valid=t>0&&e>0,this._frame.width=this.orig.width=t,this._frame.height=this.orig.height=e,r&&this.baseTexture.resize(t,e),this.updateUvs()},e.prototype.setResolution=function(t){var e=this.baseTexture;e.resolution!==t&&(e.setResolution(t),this.resize(e.width,e.height,!1))},e.create=function(t){return"number"==typeof t&&(t={width:t,height:arguments[1],scaleMode:arguments[2],resolution:arguments[3]}),new e(new Du(t))},e}(Nu),zu=function(){function t(t){this.texturePool={},this.textureOptions=t||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}return t.prototype.createTexture=function(t,e){var r=new Du(Object.assign({width:t,height:e,resolution:1},this.textureOptions));return new Wu(r)},t.prototype.getOptimalTexture=function(e,r,n){void 0===n&&(n=1);var i=t.SCREEN_KEY;e*=n,r*=n,this.enableFullScreen&&e===this._pixelsWidth&&r===this._pixelsHeight||(i=(65535&(e=oa(e)))<<16|65535&(r=oa(r))),this.texturePool[i]||(this.texturePool[i]=[]);var o=this.texturePool[i].pop();return o||(o=this.createTexture(e,r)),o.filterPoolKey=i,o.setResolution(n),o},t.prototype.getFilterTexture=function(t,e){var r=this.getOptimalTexture(t.width,t.height,e||t.resolution);return r.filterFrame=t.filterFrame,r},t.prototype.returnTexture=function(t){var e=t.filterPoolKey;t.filterFrame=null,this.texturePool[e].push(t)},t.prototype.returnFilterTexture=function(t){this.returnTexture(t)},t.prototype.clear=function(t){if(t=!1!==t)for(var e in this.texturePool){var r=this.texturePool[e];if(r)for(var n=0;n<r.length;n++)r[n].destroy(!0)}this.texturePool={}},t.prototype.setScreenSize=function(e){if(e.width!==this._pixelsWidth||e.height!==this._pixelsHeight){var r=t.SCREEN_KEY,n=this.texturePool[r];if(this.enableFullScreen=e.width>0&&e.height>0,n)for(var i=0;i<n.length;i++)n[i].destroy(!0);this.texturePool[r]=[],this._pixelsWidth=e.width,this._pixelsHeight=e.height}},t.SCREEN_KEY="screen",t}(),Hu=function(){function t(t,e,r,n,i,o,s){void 0===e&&(e=0),void 0===r&&(r=!1),void 0===n&&(n=5126),this.buffer=t,this.size=e,this.normalized=r,this.type=n,this.stride=i,this.start=o,this.instance=s}return t.prototype.destroy=function(){this.buffer=null},t.from=function(e,r,n,i,o){return new t(e,r,n,i,o)},t}(),Xu=0,Gu=function(){function t(t,e,r){void 0===e&&(e=!0),void 0===r&&(r=!1),this.data=t||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=r,this.static=e,this.id=Xu++,this.disposeRunner=new du("disposeBuffer")}return t.prototype.update=function(t){this.data=t||this.data,this._updateID++},t.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},t.prototype.destroy=function(){this.dispose(),this.data=null},t.from=function(e){return e instanceof Array&&(e=new Float32Array(e)),new t(e)},t}();function Yu(t){if(4===t.BYTES_PER_ELEMENT)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(2===t.BYTES_PER_ELEMENT){if(t instanceof Uint16Array)return"Uint16Array"}else if(1===t.BYTES_PER_ELEMENT&&t instanceof Uint8Array)return"Uint8Array";return null}var Vu={Float32Array,Uint32Array,Int32Array,Uint8Array},qu={5126:4,5123:2,5121:1},Ku=0,Zu={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array},Ju=function(){function t(t,e){void 0===t&&(t=[]),void 0===e&&(e={}),this.buffers=t,this.indexBuffer=null,this.attributes=e,this.glVertexArrayObjects={},this.id=Ku++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new du("disposeGeometry"),this.refCount=0}return t.prototype.addAttribute=function(t,e,r,n,i,o,s,a){if(void 0===r&&(r=0),void 0===n&&(n=!1),void 0===a&&(a=!1),!e)throw new Error("You must pass a buffer when creating an attribute");e instanceof Gu||(e instanceof Array&&(e=new Float32Array(e)),e=new Gu(e));var u=t.split("|");if(u.length>1){for(var l=0;l<u.length;l++)this.addAttribute(u[l],e,r,n,i);return this}var c=this.buffers.indexOf(e);return-1===c&&(this.buffers.push(e),c=this.buffers.length-1),this.attributes[t]=new Hu(c,r,n,i,o,s,a),this.instanced=this.instanced||a,this},t.prototype.getAttribute=function(t){return this.attributes[t]},t.prototype.getBuffer=function(t){return this.buffers[this.getAttribute(t).buffer]},t.prototype.addIndex=function(t){return t instanceof Gu||(t instanceof Array&&(t=new Uint16Array(t)),t=new Gu(t)),t.index=!0,this.indexBuffer=t,-1===this.buffers.indexOf(t)&&this.buffers.push(t),this},t.prototype.getIndex=function(){return this.indexBuffer},t.prototype.interleave=function(){if(1===this.buffers.length||2===this.buffers.length&&this.indexBuffer)return this;var t,e=[],r=[],n=new Gu;for(t in this.attributes){var i=this.attributes[t],o=this.buffers[i.buffer];e.push(o.data),r.push(i.size*qu[i.type]/4),i.buffer=0}for(n.data=function(t,e){for(var r=0,n=0,i={},o=0;o<t.length;o++)n+=e[o],r+=t[o].length;var s=new ArrayBuffer(4*r),a=null,u=0;for(o=0;o<t.length;o++){var l=e[o],c=t[o],h=Yu(c);i[h]||(i[h]=new Vu[h](s)),a=i[h];for(var f=0;f<c.length;f++)a[(f/l|0)*n+u+f%l]=c[f];u+=l}return new Float32Array(s)}(e,r),t=0;t<this.buffers.length;t++)this.buffers[t]!==this.indexBuffer&&this.buffers[t].destroy();return this.buffers=[n],this.indexBuffer&&this.buffers.push(this.indexBuffer),this},t.prototype.getSize=function(){for(var t in this.attributes){var e=this.attributes[t];return this.buffers[e.buffer].data.length/(e.stride/4||e.size)}return 0},t.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},t.prototype.destroy=function(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null},t.prototype.clone=function(){for(var e=new t,r=0;r<this.buffers.length;r++)e.buffers[r]=new Gu(this.buffers[r].data.slice(0));for(var r in this.attributes){var n=this.attributes[r];e.attributes[r]=new Hu(n.buffer,n.size,n.normalized,n.type,n.stride,n.start,n.instance)}return this.indexBuffer&&(e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)],e.indexBuffer.index=!0),e},t.merge=function(e){for(var r,n=new t,i=[],o=[],s=[],a=0;a<e.length;a++){r=e[a];for(var u=0;u<r.buffers.length;u++)o[u]=o[u]||0,o[u]+=r.buffers[u].data.length,s[u]=0}for(a=0;a<r.buffers.length;a++)i[a]=new(Zu[Yu(r.buffers[a].data)])(o[a]),n.buffers[a]=new Gu(i[a]);for(a=0;a<e.length;a++)for(r=e[a],u=0;u<r.buffers.length;u++)i[u].set(r.buffers[u].data,s[u]),s[u]+=r.buffers[u].data.length;if(n.attributes=r.attributes,r.indexBuffer){n.indexBuffer=n.buffers[r.buffers.indexOf(r.indexBuffer)],n.indexBuffer.index=!0;var l=0,c=0,h=0,f=0;for(a=0;a<r.buffers.length;a++)if(r.buffers[a]!==r.indexBuffer){f=a;break}for(var a in r.attributes){var p=r.attributes[a];(0|p.buffer)===f&&(c+=p.size*qu[p.type]/4)}for(a=0;a<e.length;a++){var d=e[a].indexBuffer.data;for(u=0;u<d.length;u++)n.indexBuffer.data[u+h]+=l;l+=r.buffers[f].data.length/c,h+=d.length}}return n},t}(),$u=function(t){function e(){var e=t.call(this)||this;return e.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2]),e}return bu(e,t),e}(Ju),Qu=function(t){function e(){var e=t.call(this)||this;return e.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),e.uvs=new Float32Array([0,0,1,0,1,1,0,1]),e.vertexBuffer=new Gu(e.vertices),e.uvBuffer=new Gu(e.uvs),e.addAttribute("aVertexPosition",e.vertexBuffer).addAttribute("aTextureCoord",e.uvBuffer).addIndex([0,1,2,0,2,3]),e}return bu(e,t),e.prototype.map=function(t,e){var r=0,n=0;return this.uvs[0]=r,this.uvs[1]=n,this.uvs[2]=r+e.width/t.width,this.uvs[3]=n,this.uvs[4]=r+e.width/t.width,this.uvs[5]=n+e.height/t.height,this.uvs[6]=r,this.uvs[7]=n+e.height/t.height,r=e.x,n=e.y,this.vertices[0]=r,this.vertices[1]=n,this.vertices[2]=r+e.width,this.vertices[3]=n,this.vertices[4]=r+e.width,this.vertices[5]=n+e.height,this.vertices[6]=r,this.vertices[7]=n+e.height,this.invalidate(),this},e.prototype.invalidate=function(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this},e}(Ju),tl=0,el=function(){function t(t,e){this.uniforms=t,this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=tl++,this.static=!!e}return t.prototype.update=function(){this.dirtyId++},t.prototype.add=function(e,r,n){this.uniforms[e]=new t(r,n)},t.from=function(e,r){return new t(e,r)},t}(),rl=function(){function t(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.sourceFrame=new Ia,this.destinationFrame=new Ia,this.filters=[]}return t.prototype.clear=function(){this.target=null,this.filters=null,this.renderTexture=null},t}(),nl=function(t){function e(e){var r=t.call(this,e)||this;return r.defaultFilterStack=[{}],r.texturePool=new zu,r.texturePool.setScreenSize(e.view),r.statePool=[],r.quad=new $u,r.quadUv=new Qu,r.tempRect=new Ia,r.activeState={},r.globalUniforms=new el({outputFrame:r.tempRect,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),r.forceClear=!1,r.useMaxPadding=!1,r}return bu(e,t),e.prototype.push=function(t,e){for(var r=this.renderer,n=this.defaultFilterStack,i=this.statePool.pop()||new rl,o=e[0].resolution,s=e[0].padding,a=e[0].autoFit,u=e[0].legacy,l=1;l<e.length;l++){var c=e[l];o=Math.min(o,c.resolution),s=this.useMaxPadding?Math.max(s,c.padding):s+c.padding,a=a&&c.autoFit,u=u||c.legacy}1===n.length&&(this.defaultFilterStack[0].renderTexture=r.renderTexture.current),n.push(i),i.resolution=o,i.legacy=u,i.target=t,i.sourceFrame.copyFrom(t.filterArea||t.getBounds(!0)),i.sourceFrame.pad(s),a&&i.sourceFrame.fit(this.renderer.renderTexture.sourceFrame),i.sourceFrame.ceil(o),i.renderTexture=this.getOptimalFilterTexture(i.sourceFrame.width,i.sourceFrame.height,o),i.filters=e,i.destinationFrame.width=i.renderTexture.width,i.destinationFrame.height=i.renderTexture.height;var h=this.tempRect;h.width=i.sourceFrame.width,h.height=i.sourceFrame.height,i.renderTexture.filterFrame=i.sourceFrame,r.renderTexture.bind(i.renderTexture,i.sourceFrame,h),r.renderTexture.clear()},e.prototype.pop=function(){var t=this.defaultFilterStack,e=t.pop(),r=e.filters;this.activeState=e;var n=this.globalUniforms.uniforms;n.outputFrame=e.sourceFrame,n.resolution=e.resolution;var i=n.inputSize,o=n.inputPixel,s=n.inputClamp;if(i[0]=e.destinationFrame.width,i[1]=e.destinationFrame.height,i[2]=1/i[0],i[3]=1/i[1],o[0]=i[0]*e.resolution,o[1]=i[1]*e.resolution,o[2]=1/o[0],o[3]=1/o[1],s[0]=.5*o[2],s[1]=.5*o[3],s[2]=e.sourceFrame.width*i[2]-.5*o[2],s[3]=e.sourceFrame.height*i[3]-.5*o[3],e.legacy){var a=n.filterArea;a[0]=e.destinationFrame.width,a[1]=e.destinationFrame.height,a[2]=e.sourceFrame.x,a[3]=e.sourceFrame.y,n.filterClamp=n.inputClamp}this.globalUniforms.update();var u=t[t.length-1];if(e.renderTexture.framebuffer.multisample>1&&this.renderer.framebuffer.blit(),1===r.length)r[0].apply(this,e.renderTexture,u.renderTexture,ps.BLEND,e),this.returnFilterTexture(e.renderTexture);else{var l=e.renderTexture,c=this.getOptimalFilterTexture(l.width,l.height,e.resolution);c.filterFrame=l.filterFrame;var h=0;for(h=0;h<r.length-1;++h){r[h].apply(this,l,c,ps.CLEAR,e);var f=l;l=c,c=f}r[h].apply(this,l,u.renderTexture,ps.BLEND,e),this.returnFilterTexture(l),this.returnFilterTexture(c)}e.clear(),this.statePool.push(e)},e.prototype.bindAndClear=function(t,e){if(void 0===e&&(e=ps.CLEAR),t&&t.filterFrame){var r=this.tempRect;r.width=t.filterFrame.width,r.height=t.filterFrame.height,this.renderer.renderTexture.bind(t,t.filterFrame,r)}else this.renderer.renderTexture.bind(t);"boolean"==typeof e&&(e=e?ps.CLEAR:ps.BLEND,pa("5.2.1","Use CLEAR_MODES when using clear applyFilter option")),(e===ps.CLEAR||e===ps.BLIT&&this.forceClear)&&this.renderer.renderTexture.clear()},e.prototype.applyFilter=function(t,e,r,n){var i=this.renderer;this.bindAndClear(r,n),t.uniforms.uSampler=e,t.uniforms.filterGlobals=this.globalUniforms,i.state.set(t.state),i.shader.bind(t),t.legacy?(this.quadUv.map(e._frame,e.filterFrame),i.geometry.bind(this.quadUv),i.geometry.draw(os.TRIANGLES)):(i.geometry.bind(this.quad),i.geometry.draw(os.TRIANGLE_STRIP))},e.prototype.calculateSpriteMatrix=function(t,e){var r=this.activeState,n=r.sourceFrame,i=r.destinationFrame,o=e._texture.orig,s=t.set(i.width,0,0,i.height,n.x,n.y),a=e.worldTransform.copyTo(Ba.TEMP_MATRIX);return a.invert(),s.prepend(a),s.scale(1/o.width,1/o.height),s.translate(e.anchor.x,e.anchor.y),s},e.prototype.destroy=function(){this.texturePool.clear(!1)},e.prototype.getOptimalFilterTexture=function(t,e,r){return void 0===r&&(r=1),this.texturePool.getOptimalTexture(t,e,r)},e.prototype.getFilterTexture=function(t,e){if("number"==typeof t){var r=t;t=e,e=r}t=t||this.activeState.renderTexture;var n=this.texturePool.getOptimalTexture(t.width,t.height,e||t.resolution);return n.filterFrame=t.filterFrame,n},e.prototype.returnFilterTexture=function(t){this.texturePool.returnTexture(t)},e.prototype.emptyPool=function(){this.texturePool.clear(!0)},e.prototype.resize=function(){this.texturePool.setScreenSize(this.renderer.view)},e}(ku),il=function(){function t(t){this.renderer=t}return t.prototype.flush=function(){},t.prototype.destroy=function(){this.renderer=null},t.prototype.start=function(){},t.prototype.stop=function(){this.flush()},t.prototype.render=function(t){},t}(),ol=function(t){function e(e){var r=t.call(this,e)||this;return r.emptyRenderer=new il(e),r.currentRenderer=r.emptyRenderer,r}return bu(e,t),e.prototype.setObjectRenderer=function(t){this.currentRenderer!==t&&(this.currentRenderer.stop(),this.currentRenderer=t,this.currentRenderer.start())},e.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},e.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer)},e.prototype.copyBoundTextures=function(t,e){for(var r=this.renderer.texture.boundTextures,n=e-1;n>=0;--n)t[n]=r[n]||null,t[n]&&(t[n]._batchLocation=n)},e.prototype.boundArray=function(t,e,r,n){for(var i=t.elements,o=t.ids,s=t.count,a=0,u=0;u<s;u++){var l=i[u],c=l._batchLocation;if(c>=0&&c<n&&e[c]===l)o[u]=c;else for(;a<n;){var h=e[a];if(!h||h._batchEnabled!==r||h._batchLocation!==a){o[u]=a,l._batchLocation=a,e[a]=l;break}a++}}},e}(ku),sl=0,al=function(t){function e(e){var r=t.call(this,e)||this;return r.webGLVersion=1,r.extensions={},r.supports={uint32Indices:!1},r.handleContextLost=r.handleContextLost.bind(r),r.handleContextRestored=r.handleContextRestored.bind(r),e.view.addEventListener("webglcontextlost",r.handleContextLost,!1),e.view.addEventListener("webglcontextrestored",r.handleContextRestored,!1),r}return bu(e,t),Object.defineProperty(e.prototype,"isLost",{get:function(){return!this.gl||this.gl.isContextLost()},enumerable:!1,configurable:!0}),e.prototype.contextChange=function(t){this.gl=t,this.renderer.gl=t,this.renderer.CONTEXT_UID=sl++,t.isContextLost()&&t.getExtension("WEBGL_lose_context")&&t.getExtension("WEBGL_lose_context").restoreContext()},e.prototype.initFromContext=function(t){this.gl=t,this.validateContext(t),this.renderer.gl=t,this.renderer.CONTEXT_UID=sl++,this.renderer.runners.contextChange.emit(t)},e.prototype.initFromOptions=function(t){var e=this.createContext(this.renderer.view,t);this.initFromContext(e)},e.prototype.createContext=function(t,e){var r;if(Ls.PREFER_ENV>=es.WEBGL2&&(r=t.getContext("webgl2",e)),r)this.webGLVersion=2;else if(this.webGLVersion=1,!(r=t.getContext("webgl",e)||t.getContext("experimental-webgl",e)))throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=r,this.getExtensions(),this.gl},e.prototype.getExtensions=function(){var t=this.gl;1===this.webGLVersion?Object.assign(this.extensions,{drawBuffers:t.getExtension("WEBGL_draw_buffers"),depthTexture:t.getExtension("WEBGL_depth_texture"),loseContext:t.getExtension("WEBGL_lose_context"),vertexArrayObject:t.getExtension("OES_vertex_array_object")||t.getExtension("MOZ_OES_vertex_array_object")||t.getExtension("WEBKIT_OES_vertex_array_object"),anisotropicFiltering:t.getExtension("EXT_texture_filter_anisotropic"),uint32ElementIndex:t.getExtension("OES_element_index_uint"),floatTexture:t.getExtension("OES_texture_float"),floatTextureLinear:t.getExtension("OES_texture_float_linear"),textureHalfFloat:t.getExtension("OES_texture_half_float"),textureHalfFloatLinear:t.getExtension("OES_texture_half_float_linear")}):2===this.webGLVersion&&Object.assign(this.extensions,{anisotropicFiltering:t.getExtension("EXT_texture_filter_anisotropic"),colorBufferFloat:t.getExtension("EXT_color_buffer_float"),floatTextureLinear:t.getExtension("OES_texture_float_linear")})},e.prototype.handleContextLost=function(t){t.preventDefault()},e.prototype.handleContextRestored=function(){this.renderer.runners.contextChange.emit(this.gl)},e.prototype.destroy=function(){var t=this.renderer.view;t.removeEventListener("webglcontextlost",this.handleContextLost),t.removeEventListener("webglcontextrestored",this.handleContextRestored),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()},e.prototype.postrender=function(){this.renderer.renderingToScreen&&this.gl.flush()},e.prototype.validateContext=function(t){var e=t.getContextAttributes(),r="WebGL2RenderingContext"in window&&t instanceof window.WebGL2RenderingContext;r&&(this.webGLVersion=2),e.stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");var n=r||!!t.getExtension("OES_element_index_uint");this.supports.uint32Indices=n,n||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")},e}(ku),ul=function(t){this.framebuffer=t,this.stencil=null,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.multisample=ms.NONE,this.msaaBuffer=null,this.blitFramebuffer=null},ll=new Ia,cl=function(t){function e(e){var r=t.call(this,e)||this;return r.managedFramebuffers=[],r.unknownFramebuffer=new Lu(10,10),r.msaaSamples=null,r}return bu(e,t),e.prototype.contextChange=function(){var t=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new Ia,this.hasMRT=!0,this.writeDepthTexture=!0,this.disposeAll(!0),1===this.renderer.context.webGLVersion){var e=this.renderer.context.extensions.drawBuffers,r=this.renderer.context.extensions.depthTexture;Ls.PREFER_ENV===es.WEBGL_LEGACY&&(e=null,r=null),e?t.drawBuffers=function(t){return e.drawBuffersWEBGL(t)}:(this.hasMRT=!1,t.drawBuffers=function(){}),r||(this.writeDepthTexture=!1)}else this.msaaSamples=t.getInternalformatParameter(t.RENDERBUFFER,t.RGBA8,t.SAMPLES)},e.prototype.bind=function(t,e){var r=this.gl;if(t){var n=t.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(t);this.current!==t&&(this.current=t,r.bindFramebuffer(r.FRAMEBUFFER,n.framebuffer)),n.dirtyId!==t.dirtyId&&(n.dirtyId=t.dirtyId,n.dirtyFormat!==t.dirtyFormat?(n.dirtyFormat=t.dirtyFormat,this.updateFramebuffer(t)):n.dirtySize!==t.dirtySize&&(n.dirtySize=t.dirtySize,this.resizeFramebuffer(t)));for(var i=0;i<t.colorTextures.length;i++){var o=t.colorTextures[i];this.renderer.texture.unbind(o.parentTextureArray||o)}t.depthTexture&&this.renderer.texture.unbind(t.depthTexture),e?this.setViewport(e.x,e.y,e.width,e.height):this.setViewport(0,0,t.width,t.height)}else this.current&&(this.current=null,r.bindFramebuffer(r.FRAMEBUFFER,null)),e?this.setViewport(e.x,e.y,e.width,e.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)},e.prototype.setViewport=function(t,e,r,n){var i=this.viewport;i.width===r&&i.height===n&&i.x===t&&i.y===e||(i.x=t,i.y=e,i.width=r,i.height=n,this.gl.viewport(t,e,r,n))},Object.defineProperty(e.prototype,"size",{get:function(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}},enumerable:!1,configurable:!0}),e.prototype.clear=function(t,e,r,n,i){void 0===i&&(i=ns.COLOR|ns.DEPTH);var o=this.gl;o.clearColor(t,e,r,n),o.clear(i)},e.prototype.initFramebuffer=function(t){var e=this.gl,r=new ul(e.createFramebuffer());return r.multisample=this.detectSamples(t.multisample),t.glFramebuffers[this.CONTEXT_UID]=r,this.managedFramebuffers.push(t),t.disposeRunner.add(this),r},e.prototype.resizeFramebuffer=function(t){var e=this.gl,r=t.glFramebuffers[this.CONTEXT_UID];r.stencil&&(e.bindRenderbuffer(e.RENDERBUFFER,r.stencil),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,t.width,t.height));for(var n=t.colorTextures,i=0;i<n.length;i++)this.renderer.texture.bind(n[i],0);t.depthTexture&&this.renderer.texture.bind(t.depthTexture,0)},e.prototype.updateFramebuffer=function(t){var e=this.gl,r=t.glFramebuffers[this.CONTEXT_UID],n=t.colorTextures.length;e.drawBuffers||(n=Math.min(n,1)),r.multisample>1&&(r.msaaBuffer=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,r.msaaBuffer),e.renderbufferStorageMultisample(e.RENDERBUFFER,r.multisample,e.RGBA8,t.width,t.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.RENDERBUFFER,r.msaaBuffer));for(var i=[],o=0;o<n;o++)if(!(0===o&&r.multisample>1)){var s=t.colorTextures[o],a=s.parentTextureArray||s;this.renderer.texture.bind(a,0),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+o,s.target,a._glTextures[this.CONTEXT_UID].texture,0),i.push(e.COLOR_ATTACHMENT0+o)}if(i.length>1&&e.drawBuffers(i),t.depthTexture&&this.writeDepthTexture){var u=t.depthTexture;this.renderer.texture.bind(u,0),e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,u._glTextures[this.CONTEXT_UID].texture,0)}r.stencil||!t.stencil&&!t.depth||(r.stencil=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,r.stencil),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,t.width,t.height),t.depthTexture||e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.RENDERBUFFER,r.stencil))},e.prototype.detectSamples=function(t){var e=this.msaaSamples,r=ms.NONE;if(t<=1||null===e)return r;for(var n=0;n<e.length;n++)if(e[n]<=t){r=e[n];break}return 1===r&&(r=ms.NONE),r},e.prototype.blit=function(t,e,r){var n=this,i=n.current,o=n.renderer,s=n.gl,a=n.CONTEXT_UID;if(2===o.context.webGLVersion&&i){var u=i.glFramebuffers[a];if(u){if(!t){if(u.multisample<=1)return;u.blitFramebuffer||(u.blitFramebuffer=new Lu(i.width,i.height),u.blitFramebuffer.addColorTexture(0,i.colorTextures[0])),(t=u.blitFramebuffer).width=i.width,t.height=i.height}e||((e=ll).width=i.width,e.height=i.height),r||(r=e);var l=e.width===r.width&&e.height===r.height;this.bind(t),s.bindFramebuffer(s.READ_FRAMEBUFFER,u.framebuffer),s.blitFramebuffer(e.x,e.y,e.width,e.height,r.x,r.y,r.width,r.height,s.COLOR_BUFFER_BIT,l?s.NEAREST:s.LINEAR)}}},e.prototype.disposeFramebuffer=function(t,e){var r=t.glFramebuffers[this.CONTEXT_UID],n=this.gl;if(r){delete t.glFramebuffers[this.CONTEXT_UID];var i=this.managedFramebuffers.indexOf(t);i>=0&&this.managedFramebuffers.splice(i,1),t.disposeRunner.remove(this),e||(n.deleteFramebuffer(r.framebuffer),r.stencil&&n.deleteRenderbuffer(r.stencil))}},e.prototype.disposeAll=function(t){var e=this.managedFramebuffers;this.managedFramebuffers=[];for(var r=0;r<e.length;r++)this.disposeFramebuffer(e[r],t)},e.prototype.forceStencil=function(){var t=this.current;if(t){var e=t.glFramebuffers[this.CONTEXT_UID];if(e&&!e.stencil){t.enableStencil();var r=t.width,n=t.height,i=this.gl,o=i.createRenderbuffer();i.bindRenderbuffer(i.RENDERBUFFER,o),i.renderbufferStorage(i.RENDERBUFFER,i.DEPTH_STENCIL,r,n),e.stencil=o,i.framebufferRenderbuffer(i.FRAMEBUFFER,i.DEPTH_STENCIL_ATTACHMENT,i.RENDERBUFFER,o)}}},e.prototype.reset=function(){this.current=this.unknownFramebuffer,this.viewport=new Ia},e}(ku),hl=function(t){this.buffer=t||null,this.updateID=-1,this.byteLength=-1,this.refCount=0},fl={5126:4,5123:2,5121:1},pl=function(t){function e(e){var r=t.call(this,e)||this;return r._activeGeometry=null,r._activeVao=null,r.hasVao=!0,r.hasInstance=!0,r.canUseUInt32ElementIndex=!1,r.managedGeometries={},r.managedBuffers={},r}return bu(e,t),e.prototype.contextChange=function(){this.disposeAll(!0);var t=this.gl=this.renderer.gl,e=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,2!==e.webGLVersion){var r=this.renderer.context.extensions.vertexArrayObject;Ls.PREFER_ENV===es.WEBGL_LEGACY&&(r=null),r?(t.createVertexArray=function(){return r.createVertexArrayOES()},t.bindVertexArray=function(t){return r.bindVertexArrayOES(t)},t.deleteVertexArray=function(t){return r.deleteVertexArrayOES(t)}):(this.hasVao=!1,t.createVertexArray=function(){return null},t.bindVertexArray=function(){return null},t.deleteVertexArray=function(){return null})}if(2!==e.webGLVersion){var n=t.getExtension("ANGLE_instanced_arrays");n?(t.vertexAttribDivisor=function(t,e){return n.vertexAttribDivisorANGLE(t,e)},t.drawElementsInstanced=function(t,e,r,i,o){return n.drawElementsInstancedANGLE(t,e,r,i,o)},t.drawArraysInstanced=function(t,e,r,i){return n.drawArraysInstancedANGLE(t,e,r,i)}):this.hasInstance=!1}this.canUseUInt32ElementIndex=2===e.webGLVersion||!!e.extensions.uint32ElementIndex},e.prototype.bind=function(t,e){e=e||this.renderer.shader.shader;var r=this.gl,n=t.glVertexArrayObjects[this.CONTEXT_UID],i=!1;n||(this.managedGeometries[t.id]=t,t.disposeRunner.add(this),t.glVertexArrayObjects[this.CONTEXT_UID]=n={},i=!0);var o=n[e.program.id]||this.initGeometryVao(t,e.program,i);this._activeGeometry=t,this._activeVao!==o&&(this._activeVao=o,this.hasVao?r.bindVertexArray(o):this.activateVao(t,e.program)),this.updateBuffers()},e.prototype.reset=function(){this.unbind()},e.prototype.updateBuffers=function(){for(var t=this._activeGeometry,e=this.gl,r=0;r<t.buffers.length;r++){var n=t.buffers[r],i=n._glBuffers[this.CONTEXT_UID];if(n._updateID!==i.updateID){i.updateID=n._updateID;var o=n.index?e.ELEMENT_ARRAY_BUFFER:e.ARRAY_BUFFER;if(e.bindBuffer(o,i.buffer),this._boundBuffer=i,i.byteLength>=n.data.byteLength)e.bufferSubData(o,0,n.data);else{var s=n.static?e.STATIC_DRAW:e.DYNAMIC_DRAW;i.byteLength=n.data.byteLength,e.bufferData(o,n.data,s)}}}},e.prototype.checkCompatibility=function(t,e){var r=t.attributes,n=e.attributeData;for(var i in n)if(!r[i])throw new Error('shader and geometry incompatible, geometry missing the "'+i+'" attribute')},e.prototype.getSignature=function(t,e){var r=t.attributes,n=e.attributeData,i=["g",t.id];for(var o in r)n[o]&&i.push(o);return i.join("-")},e.prototype.initGeometryVao=function(t,e,r){void 0===r&&(r=!0),this.checkCompatibility(t,e);var n=this.gl,i=this.CONTEXT_UID,o=this.getSignature(t,e),s=t.glVertexArrayObjects[this.CONTEXT_UID],a=s[o];if(a)return s[e.id]=a,a;var u=t.buffers,l=t.attributes,c={},h={};for(var f in u)c[f]=0,h[f]=0;for(var f in l)!l[f].size&&e.attributeData[f]?l[f].size=e.attributeData[f].size:l[f].size||console.warn("PIXI Geometry attribute '"+f+"' size cannot be determined (likely the bound shader does not have the attribute)"),c[l[f].buffer]+=l[f].size*fl[l[f].type];for(var f in l){var p=l[f],d=p.size;void 0===p.stride&&(c[p.buffer]===d*fl[p.type]?p.stride=0:p.stride=c[p.buffer]),void 0===p.start&&(p.start=h[p.buffer],h[p.buffer]+=d*fl[p.type])}a=n.createVertexArray(),n.bindVertexArray(a);for(var y=0;y<u.length;y++){var g=u[y];g._glBuffers[i]||(g._glBuffers[i]=new hl(n.createBuffer()),this.managedBuffers[g.id]=g,g.disposeRunner.add(this)),r&&g._glBuffers[i].refCount++}return this.activateVao(t,e),this._activeVao=a,s[e.id]=a,s[o]=a,a},e.prototype.disposeBuffer=function(t,e){if(this.managedBuffers[t.id]){delete this.managedBuffers[t.id];var r=t._glBuffers[this.CONTEXT_UID],n=this.gl;t.disposeRunner.remove(this),r&&(e||n.deleteBuffer(r.buffer),delete t._glBuffers[this.CONTEXT_UID])}},e.prototype.disposeGeometry=function(t,e){if(this.managedGeometries[t.id]){delete this.managedGeometries[t.id];var r=t.glVertexArrayObjects[this.CONTEXT_UID],n=this.gl,i=t.buffers;if(t.disposeRunner.remove(this),r){for(var o=0;o<i.length;o++){var s=i[o]._glBuffers[this.CONTEXT_UID];s.refCount--,0!==s.refCount||e||this.disposeBuffer(i[o],e)}if(!e)for(var a in r)if("g"===a[0]){var u=r[a];this._activeVao===u&&this.unbind(),n.deleteVertexArray(u)}delete t.glVertexArrayObjects[this.CONTEXT_UID]}}},e.prototype.disposeAll=function(t){for(var e=Object.keys(this.managedGeometries),r=0;r<e.length;r++)this.disposeGeometry(this.managedGeometries[e[r]],t);for(e=Object.keys(this.managedBuffers),r=0;r<e.length;r++)this.disposeBuffer(this.managedBuffers[e[r]],t)},e.prototype.activateVao=function(t,e){var r=this.gl,n=this.CONTEXT_UID,i=t.buffers,o=t.attributes;t.indexBuffer&&r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,t.indexBuffer._glBuffers[n].buffer);var s=null;for(var a in o){var u=o[a],l=i[u.buffer]._glBuffers[n];if(e.attributeData[a]){s!==l&&(r.bindBuffer(r.ARRAY_BUFFER,l.buffer),s=l);var c=e.attributeData[a].location;if(r.enableVertexAttribArray(c),r.vertexAttribPointer(c,u.size,u.type||r.FLOAT,u.normalized,u.stride,u.start),u.instance){if(!this.hasInstance)throw new Error("geometry error, GPU Instancing is not supported on this device");r.vertexAttribDivisor(c,1)}}}},e.prototype.draw=function(t,e,r,n){var i=this.gl,o=this._activeGeometry;if(o.indexBuffer){var s=o.indexBuffer.data.BYTES_PER_ELEMENT,a=2===s?i.UNSIGNED_SHORT:i.UNSIGNED_INT;2===s||4===s&&this.canUseUInt32ElementIndex?o.instanced?i.drawElementsInstanced(t,e||o.indexBuffer.data.length,a,(r||0)*s,n||1):i.drawElements(t,e||o.indexBuffer.data.length,a,(r||0)*s):console.warn("unsupported index buffer type: uint32")}else o.instanced?i.drawArraysInstanced(t,r,e||o.getSize(),n||1):i.drawArrays(t,r,e||o.getSize());return this},e.prototype.unbind=function(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null},e}(ku),dl=function(){function t(t){void 0===t&&(t=null),this.type=gs.NONE,this.autoDetect=!0,this.maskObject=t||null,this.pooled=!1,this.isMaskData=!0,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._target=null}return t.prototype.reset=function(){this.pooled&&(this.maskObject=null,this.type=gs.NONE,this.autoDetect=!0),this._target=null},t.prototype.copyCountersOrReset=function(t){t?(this._stencilCounter=t._stencilCounter,this._scissorCounter=t._scissorCounter,this._scissorRect=t._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)},t}();function yl(t,e,r){var n=t.createShader(e);return t.shaderSource(n,r),t.compileShader(n),n}function gl(t,e,r,n){var i=yl(t,t.VERTEX_SHADER,e),o=yl(t,t.FRAGMENT_SHADER,r),s=t.createProgram();if(t.attachShader(s,i),t.attachShader(s,o),n)for(var a in n)t.bindAttribLocation(s,n[a],a);return t.linkProgram(s),t.getProgramParameter(s,t.LINK_STATUS)||(t.getShaderParameter(i,t.COMPILE_STATUS)||(console.warn(e),console.error(t.getShaderInfoLog(i))),t.getShaderParameter(o,t.COMPILE_STATUS)||(console.warn(r),console.error(t.getShaderInfoLog(o))),console.error("Pixi.js Error: Could not initialize shader."),console.error("gl.VALIDATE_STATUS",t.getProgramParameter(s,t.VALIDATE_STATUS)),console.error("gl.getError()",t.getError()),""!==t.getProgramInfoLog(s)&&console.warn("Pixi.js Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(s)),t.deleteProgram(s),s=null),t.deleteShader(i),t.deleteShader(o),s}function ml(t){for(var e=new Array(t),r=0;r<e.length;r++)e[r]=!1;return e}function bl(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"bool":return!1;case"bvec2":return ml(2*e);case"bvec3":return ml(3*e);case"bvec4":return ml(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}var vl,_l={},wl=_l;function xl(){if(wl===_l||wl&&wl.isContextLost()){var t=document.createElement("canvas"),e=void 0;Ls.PREFER_ENV>=es.WEBGL2&&(e=t.getContext("webgl2",{})),e||((e=t.getContext("webgl",{})||t.getContext("experimental-webgl",{}))?e.getExtension("WEBGL_draw_buffers"):e=null),wl=e}return wl}function Ol(t,e,r){if("precision"!==t.substring(0,9)){var n=e;return e===ys.HIGH&&r!==ys.HIGH&&(n=ys.MEDIUM),"precision "+n+" float;\n"+t}return r!==ys.HIGH&&"precision highp"===t.substring(0,15)?t.replace("precision highp","precision mediump"):t}var Sl={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function Pl(t){return Sl[t]}var Tl=null,El={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function Rl(t,e){if(!Tl){var r=Object.keys(El);Tl={};for(var n=0;n<r.length;++n){var i=r[n];Tl[t[i]]=El[i]}}return Tl[e]}var Al,Il=[{test:function(t){return"float"===t.type&&1===t.size},code:function(t){return'\n            if(uv["'+t+'"] !== ud["'+t+'"].value)\n            {\n                ud["'+t+'"].value = uv["'+t+'"]\n                gl.uniform1f(ud["'+t+'"].location, uv["'+t+'"])\n            }\n            '}},{test:function(t){return("sampler2D"===t.type||"samplerCube"===t.type||"sampler2DArray"===t.type)&&1===t.size&&!t.isArray},code:function(t){return't = syncData.textureCount++;\n\n            renderer.texture.bind(uv["'+t+'"], t);\n\n            if(ud["'+t+'"].value !== t)\n            {\n                ud["'+t+'"].value = t;\n                gl.uniform1i(ud["'+t+'"].location, t);\n; // eslint-disable-line max-len\n            }'}},{test:function(t,e){return"mat3"===t.type&&1===t.size&&void 0!==e.a},code:function(t){return'\n            gl.uniformMatrix3fv(ud["'+t+'"].location, false, uv["'+t+'"].toArray(true));\n            '}},{test:function(t,e){return"vec2"===t.type&&1===t.size&&void 0!==e.x},code:function(t){return'\n                cv = ud["'+t+'"].value;\n                v = uv["'+t+'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    gl.uniform2f(ud["'+t+'"].location, v.x, v.y);\n                }'}},{test:function(t){return"vec2"===t.type&&1===t.size},code:function(t){return'\n                cv = ud["'+t+'"].value;\n                v = uv["'+t+'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    gl.uniform2f(ud["'+t+'"].location, v[0], v[1]);\n                }\n            '}},{test:function(t,e){return"vec4"===t.type&&1===t.size&&void 0!==e.width},code:function(t){return'\n                cv = ud["'+t+'"].value;\n                v = uv["'+t+'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    cv[2] = v.width;\n                    cv[3] = v.height;\n                    gl.uniform4f(ud["'+t+'"].location, v.x, v.y, v.width, v.height)\n                }'}},{test:function(t){return"vec4"===t.type&&1===t.size},code:function(t){return'\n                cv = ud["'+t+'"].value;\n                v = uv["'+t+'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    cv[2] = v[2];\n                    cv[3] = v[3];\n\n                    gl.uniform4f(ud["'+t+'"].location, v[0], v[1], v[2], v[3])\n                }'}}],jl={float:"\n    if(cv !== v)\n    {\n        cv.v = v;\n        gl.uniform1f(location, v)\n    }",vec2:"\n    if(cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        gl.uniform2f(location, v[0], v[1])\n    }",vec3:"\n    if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3f(location, v[0], v[1], v[2])\n    }",vec4:"gl.uniform4f(location, v[0], v[1], v[2], v[3])",int:"gl.uniform1i(location, v)",ivec2:"gl.uniform2i(location, v[0], v[1])",ivec3:"gl.uniform3i(location, v[0], v[1], v[2])",ivec4:"gl.uniform4i(location, v[0], v[1], v[2], v[3])",bool:"gl.uniform1i(location, v)",bvec2:"gl.uniform2i(location, v[0], v[1])",bvec3:"gl.uniform3i(location, v[0], v[1], v[2])",bvec4:"gl.uniform4i(location, v[0], v[1], v[2], v[3])",mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"gl.uniform1i(location, v)",samplerCube:"gl.uniform1i(location, v)",sampler2DArray:"gl.uniform1i(location, v)"},Cl={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"},kl=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n");function Ml(t){for(var e="",r=0;r<t;++r)r>0&&(e+="\nelse "),r<t-1&&(e+="if(test == "+r+".0){}");return e}function Ll(t,e){if(0===t)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");for(var r=e.createShader(e.FRAGMENT_SHADER);;){var n=kl.replace(/%forloop%/gi,Ml(t));if(e.shaderSource(r,n),e.compileShader(r),e.getShaderParameter(r,e.COMPILE_STATUS))break;t=t/2|0}return t}var Dl=0,Bl={},Fl=function(){function t(e,r,n){void 0===n&&(n="pixi-shader"),this.id=Dl++,this.vertexSrc=e||t.defaultVertexSrc,this.fragmentSrc=r||t.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),"#version"!==this.vertexSrc.substring(0,8)&&(n=n.replace(/\s+/g,"-"),Bl[n]?(Bl[n]++,n+="-"+Bl[n]):Bl[n]=1,this.vertexSrc="#define SHADER_NAME "+n+"\n"+this.vertexSrc,this.fragmentSrc="#define SHADER_NAME "+n+"\n"+this.fragmentSrc,this.vertexSrc=Ol(this.vertexSrc,Ls.PRECISION_VERTEX,ys.HIGH),this.fragmentSrc=Ol(this.fragmentSrc,Ls.PRECISION_FRAGMENT,function(){if(!vl){vl=ys.MEDIUM;var t=xl();if(t&&t.getShaderPrecisionFormat){var e=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT);vl=e.precision?ys.HIGH:ys.MEDIUM}}return vl}())),this.extractData(this.vertexSrc,this.fragmentSrc),this.glPrograms={},this.syncUniforms=null}return t.prototype.extractData=function(t,e){var r=xl();if(r){var n=gl(r,t,e);this.attributeData=this.getAttributeData(n,r),this.uniformData=this.getUniformData(n,r),r.deleteProgram(n)}else this.uniformData={},this.attributeData={}},t.prototype.getAttributeData=function(t,e){for(var r={},n=[],i=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),o=0;o<i;o++){var s=e.getActiveAttrib(t,o),a=Rl(e,s.type),u={type:a,name:s.name,size:Pl(a),location:0};r[s.name]=u,n.push(u)}for(n.sort((function(t,e){return t.name>e.name?1:-1})),o=0;o<n.length;o++)n[o].location=o;return r},t.prototype.getUniformData=function(t,e){for(var r={},n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),i=0;i<n;i++){var o=e.getActiveUniform(t,i),s=o.name.replace(/\[.*?\]$/,""),a=o.name.match(/\[.*?\]$/),u=Rl(e,o.type);r[s]={type:u,size:o.size,isArray:a,value:bl(u,o.size)}}return r},Object.defineProperty(t,"defaultVertexSrc",{get:function(){return"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n}\n"},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultFragmentSrc",{get:function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor *= texture2D(uSampler, vTextureCoord);\n}"},enumerable:!1,configurable:!0}),t.from=function(e,r,n){var i=e+r,o=da[i];return o||(da[i]=o=new t(e,r,n)),o},t}(),Nl=function(){function t(t,e){for(var r in this.program=t,this.uniformGroup=e?e instanceof el?e:new el(e):new el({}),t.uniformData)this.uniformGroup.uniforms[r]instanceof Array&&(this.uniformGroup.uniforms[r]=new Float32Array(this.uniformGroup.uniforms[r]))}return t.prototype.checkUniformExists=function(t,e){if(e.uniforms[t])return!0;for(var r in e.uniforms){var n=e.uniforms[r];if(n.group&&this.checkUniformExists(t,n))return!0}return!1},t.prototype.destroy=function(){this.uniformGroup=null},Object.defineProperty(t.prototype,"uniforms",{get:function(){return this.uniformGroup.uniforms},enumerable:!1,configurable:!0}),t.from=function(e,r,n){return new t(Fl.from(e,r),n)},t}(),Ul=function(){function t(){this.data=0,this.blendMode=is.NORMAL,this.polygonOffset=0,this.blend=!0}return Object.defineProperty(t.prototype,"blend",{get:function(){return!!(1&this.data)},set:function(t){!!(1&this.data)!==t&&(this.data^=1)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"offsets",{get:function(){return!!(2&this.data)},set:function(t){!!(2&this.data)!==t&&(this.data^=2)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"culling",{get:function(){return!!(4&this.data)},set:function(t){!!(4&this.data)!==t&&(this.data^=4)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"depthTest",{get:function(){return!!(8&this.data)},set:function(t){!!(8&this.data)!==t&&(this.data^=8)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clockwiseFrontFace",{get:function(){return!!(16&this.data)},set:function(t){!!(16&this.data)!==t&&(this.data^=16)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blendMode",{get:function(){return this._blendMode},set:function(t){this.blend=t!==is.NONE,this._blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"polygonOffset",{get:function(){return this._polygonOffset},set:function(t){this.offsets=!!t,this._polygonOffset=t},enumerable:!1,configurable:!0}),t.for2d=function(){var e=new t;return e.depthTest=!1,e.blend=!0,e},t}(),Wl=function(t){function e(r,n,i){var o=this,s=Fl.from(r||e.defaultVertexSrc,n||e.defaultFragmentSrc);return(o=t.call(this,s,i)||this).padding=0,o.resolution=Ls.FILTER_RESOLUTION,o.enabled=!0,o.autoFit=!0,o.legacy=!!o.program.attributeData.aTextureCoord,o.state=new Ul,o}return bu(e,t),e.prototype.apply=function(t,e,r,n,i){t.applyFilter(this,e,r,n)},Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(t){this.state.blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultVertexSrc",{get:function(){return"attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n"},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultFragmentSrc",{get:function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n}\n"},enumerable:!1,configurable:!0}),e}(Nl),zl=new Ba,Hl=function(){function t(t,e){this._texture=t,this.mapCoord=new Ba,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=void 0===e?.5:e,this.isSimple=!1}return Object.defineProperty(t.prototype,"texture",{get:function(){return this._texture},set:function(t){this._texture=t,this._textureID=-1},enumerable:!1,configurable:!0}),t.prototype.multiplyUvs=function(t,e){void 0===e&&(e=t);for(var r=this.mapCoord,n=0;n<t.length;n+=2){var i=t[n],o=t[n+1];e[n]=i*r.a+o*r.c+r.tx,e[n+1]=i*r.b+o*r.d+r.ty}return e},t.prototype.update=function(t){var e=this._texture;if(!e||!e.valid)return!1;if(!t&&this._textureID===e._updateID)return!1;this._textureID=e._updateID,this._updateID++;var r=e._uvs;this.mapCoord.set(r.x1-r.x0,r.y1-r.y0,r.x3-r.x0,r.y3-r.y0,r.x0,r.y0);var n=e.orig,i=e.trim;i&&(zl.set(n.width/i.width,0,0,n.height/i.height,-i.x/i.width,-i.y/i.height),this.mapCoord.append(zl));var o=e.baseTexture,s=this.uClampFrame,a=this.clampMargin/o.resolution,u=this.clampOffset;return s[0]=(e._frame.x+a+u)/o.width,s[1]=(e._frame.y+a+u)/o.height,s[2]=(e._frame.x+e._frame.width-a+u)/o.width,s[3]=(e._frame.y+e._frame.height-a+u)/o.height,this.uClampOffset[0]=u/o.realWidth,this.uClampOffset[1]=u/o.realHeight,this.isSimple=e._frame.width===o.width&&e._frame.height===o.height&&0===e.rotate,!0},t}(),Xl=function(t){function e(e){var r=this,n=new Ba;return r=t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n","varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform float npmAlpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);\n\n    original *= (alphaMul * masky.r * alpha * clip);\n\n    gl_FragColor = original;\n}\n")||this,e.renderable=!1,r.maskSprite=e,r.maskMatrix=n,r}return bu(e,t),e.prototype.apply=function(t,e,r,n){var i=this.maskSprite,o=i._texture;o.valid&&(o.uvMatrix||(o.uvMatrix=new Hl(o,0)),o.uvMatrix.update(),this.uniforms.npmAlpha=o.baseTexture.alphaMode?0:1,this.uniforms.mask=o,this.uniforms.otherMatrix=t.calculateSpriteMatrix(this.maskMatrix,i).prepend(o.uvMatrix.mapCoord),this.uniforms.alpha=i.worldAlpha,this.uniforms.maskClamp=o.uvMatrix.uClampFrame,t.applyFilter(this,e,r,n))},e}(Wl),Gl=function(t){function e(e){var r=t.call(this,e)||this;return r.enableScissor=!1,r.alphaMaskPool=[],r.maskDataPool=[],r.maskStack=[],r.alphaMaskIndex=0,r}return bu(e,t),e.prototype.setMaskStack=function(t){this.maskStack=t,this.renderer.scissor.setMaskStack(t),this.renderer.stencil.setMaskStack(t)},e.prototype.push=function(t,e){var r=e;if(!r.isMaskData){var n=this.maskDataPool.pop()||new dl;n.pooled=!0,n.maskObject=e,r=n}switch(r.autoDetect&&this.detect(r),r.copyCountersOrReset(this.maskStack[this.maskStack.length-1]),r._target=t,r.type){case gs.SCISSOR:this.maskStack.push(r),this.renderer.scissor.push(r);break;case gs.STENCIL:this.maskStack.push(r),this.renderer.stencil.push(r);break;case gs.SPRITE:r.copyCountersOrReset(null),this.pushSpriteMask(r),this.maskStack.push(r)}},e.prototype.pop=function(t){var e=this.maskStack.pop();if(e&&e._target===t){switch(e.type){case gs.SCISSOR:this.renderer.scissor.pop();break;case gs.STENCIL:this.renderer.stencil.pop(e.maskObject);break;case gs.SPRITE:this.popSpriteMask()}e.reset(),e.pooled&&this.maskDataPool.push(e)}},e.prototype.detect=function(t){var e=t.maskObject;if(e.isSprite)t.type=gs.SPRITE;else if(t.type=gs.STENCIL,this.enableScissor&&e.isFastRect&&e.isFastRect()){var r=e.worldTransform,n=Math.atan2(r.b,r.a),i=Math.atan2(r.d,r.c);n=Math.round(n*(180/Math.PI)*100),i=((i=Math.round(i*(180/Math.PI)*100)-n)%18e3+18e3)%18e3,0==(n=(n%9e3+9e3)%9e3)&&9e3===i&&(t.type=gs.SCISSOR)}},e.prototype.pushSpriteMask=function(t){var e=t.maskObject,r=t._target,n=this.alphaMaskPool[this.alphaMaskIndex];n||(n=this.alphaMaskPool[this.alphaMaskIndex]=[new Xl(e)]),n[0].resolution=this.renderer.resolution,n[0].maskSprite=e;var i=r.filterArea;r.filterArea=e.getBounds(!0),this.renderer.filter.push(r,n),r.filterArea=i,this.alphaMaskIndex++},e.prototype.popSpriteMask=function(){this.renderer.filter.pop(),this.alphaMaskIndex--},e}(ku),Yl=function(t){function e(e){var r=t.call(this,e)||this;return r.maskStack=[],r.glConst=0,r}return bu(e,t),e.prototype.getStackLength=function(){return this.maskStack.length},e.prototype.setMaskStack=function(t){var e=this.renderer.gl,r=this.getStackLength();this.maskStack=t;var n=this.getStackLength();n!==r&&(0===n?e.disable(this.glConst):(e.enable(this.glConst),this._useCurrent()))},e.prototype._useCurrent=function(){},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.maskStack=null},e}(ku),Vl=function(t){function e(e){var r=t.call(this,e)||this;return r.glConst=WebGLRenderingContext.SCISSOR_TEST,r}return bu(e,t),e.prototype.getStackLength=function(){var t=this.maskStack[this.maskStack.length-1];return t?t._scissorCounter:0},e.prototype.push=function(t){var e=t.maskObject;e.renderable=!0;var r=t._scissorRect,n=e.getBounds(!0),i=this.renderer.gl;e.renderable=!1,r?n.fit(r):i.enable(i.SCISSOR_TEST),t._scissorCounter++,t._scissorRect=n,this._useCurrent()},e.prototype.pop=function(){var t=this.renderer.gl;this.getStackLength()>0?this._useCurrent():t.disable(t.SCISSOR_TEST)},e.prototype._useCurrent=function(){var t=this.maskStack[this.maskStack.length-1]._scissorRect,e=this.renderer.renderTexture.current,r=this.renderer.projection,n=r.transform,i=r.sourceFrame,o=r.destinationFrame,s=e?e.resolution:this.renderer.resolution,a=(t.x-i.x)*s+o.x,u=(t.y-i.y)*s+o.y,l=t.width*s,c=t.height*s;n&&(a+=n.tx*s,u+=n.ty*s),e||(u=this.renderer.height-c-u),this.renderer.gl.scissor(a,u,l,c)},e}(Yl),ql=function(t){function e(e){var r=t.call(this,e)||this;return r.glConst=WebGLRenderingContext.STENCIL_TEST,r}return bu(e,t),e.prototype.getStackLength=function(){var t=this.maskStack[this.maskStack.length-1];return t?t._stencilCounter:0},e.prototype.push=function(t){var e=t.maskObject,r=this.renderer.gl,n=t._stencilCounter;0===n&&(this.renderer.framebuffer.forceStencil(),r.enable(r.STENCIL_TEST)),t._stencilCounter++,r.colorMask(!1,!1,!1,!1),r.stencilFunc(r.EQUAL,n,this._getBitwiseMask()),r.stencilOp(r.KEEP,r.KEEP,r.INCR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,this._useCurrent()},e.prototype.pop=function(t){var e=this.renderer.gl;0===this.getStackLength()?(e.disable(e.STENCIL_TEST),e.clear(e.STENCIL_BUFFER_BIT),e.clearStencil(0)):(e.colorMask(!1,!1,!1,!1),e.stencilOp(e.KEEP,e.KEEP,e.DECR),t.renderable=!0,t.render(this.renderer),this.renderer.batch.flush(),t.renderable=!1,this._useCurrent())},e.prototype._useCurrent=function(){var t=this.renderer.gl;t.colorMask(!0,!0,!0,!0),t.stencilFunc(t.EQUAL,this.getStackLength(),this._getBitwiseMask()),t.stencilOp(t.KEEP,t.KEEP,t.KEEP)},e.prototype._getBitwiseMask=function(){return(1<<this.getStackLength())-1},e}(Yl),Kl=function(t){function e(e){var r=t.call(this,e)||this;return r.destinationFrame=null,r.sourceFrame=null,r.defaultFrame=null,r.projectionMatrix=new Ba,r.transform=null,r}return bu(e,t),e.prototype.update=function(t,e,r,n){this.destinationFrame=t||this.destinationFrame||this.defaultFrame,this.sourceFrame=e||this.sourceFrame||t,this.calculateProjection(this.destinationFrame,this.sourceFrame,r,n),this.transform&&this.projectionMatrix.append(this.transform);var i=this.renderer;i.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,i.globalUniforms.update(),i.shader.shader&&i.shader.syncUniformGroup(i.shader.shader.uniforms.globals)},e.prototype.calculateProjection=function(t,e,r,n){var i=this.projectionMatrix,o=n?-1:1;i.identity(),i.a=1/e.width*2,i.d=o*(1/e.height*2),i.tx=-1-e.x*i.a,i.ty=-o-e.y*i.d},e.prototype.setTransform=function(t){},e}(ku),Zl=new Ia,Jl=new Ia,$l=new Ia,Ql=function(t){function e(e){var r=t.call(this,e)||this;return r.clearColor=e._backgroundColorRgba,r.defaultMaskStack=[],r.current=null,r.sourceFrame=new Ia,r.destinationFrame=new Ia,r}return bu(e,t),e.prototype.bind=function(t,e,r){void 0===t&&(t=null);var n,i,o,s=this.renderer;this.current=t,t?(o=(n=t.baseTexture).resolution,e||(Zl.width=t.frame.width,Zl.height=t.frame.height,e=Zl),r||(Jl.x=t.frame.x,Jl.y=t.frame.y,Jl.width=e.width,Jl.height=e.height,r=Jl),i=n.framebuffer):(o=s.resolution,e||(Zl.width=s.screen.width,Zl.height=s.screen.height,e=Zl),r||((r=Zl).width=e.width,r.height=e.height)),$l.x=r.x*o,$l.y=r.y*o,$l.width=r.width*o,$l.height=r.height*o,this.renderer.framebuffer.bind(i,$l),this.renderer.projection.update(r,e,o,!i),t?this.renderer.mask.setMaskStack(n.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(e),this.destinationFrame.copyFrom(r)},e.prototype.clear=function(t,e){t=this.current?t||this.current.baseTexture.clearColor:t||this.clearColor,this.renderer.framebuffer.clear(t[0],t[1],t[2],t[3],e)},e.prototype.resize=function(){this.bind(null)},e.prototype.reset=function(){this.bind(null)},e}(ku),tc=function(){},ec=function(){function t(t,e){this.program=t,this.uniformData=e,this.uniformGroups={}}return t.prototype.destroy=function(){this.uniformData=null,this.uniformGroups=null,this.program=null},t}(),rc=0,nc={textureCount:0},ic=function(t){function e(e){var r=t.call(this,e)||this;return r.destroyed=!1,r.systemCheck(),r.gl=null,r.shader=null,r.program=null,r.cache={},r.id=rc++,r}return bu(e,t),e.prototype.systemCheck=function(){if(!function(){if("boolean"==typeof Al)return Al;try{var t=new Function("param1","param2","param3","return param1[param2] === param3;");Al=!0===t({a:"b"},"a","b")}catch(t){Al=!1}return Al}())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")},e.prototype.contextChange=function(t){this.gl=t,this.reset()},e.prototype.bind=function(t,e){t.uniforms.globals=this.renderer.globalUniforms;var r=t.program,n=r.glPrograms[this.renderer.CONTEXT_UID]||this.generateShader(t);return this.shader=t,this.program!==r&&(this.program=r,this.gl.useProgram(n.program)),e||(nc.textureCount=0,this.syncUniformGroup(t.uniformGroup,nc)),n},e.prototype.setUniforms=function(t){var e=this.shader.program,r=e.glPrograms[this.renderer.CONTEXT_UID];e.syncUniforms(r.uniformData,t,this.renderer)},e.prototype.syncUniformGroup=function(t,e){var r=this.getglProgram();t.static&&t.dirtyId===r.uniformGroups[t.id]||(r.uniformGroups[t.id]=t.dirtyId,this.syncUniforms(t,r,e))},e.prototype.syncUniforms=function(t,e,r){(t.syncUniforms[this.shader.program.id]||this.createSyncGroups(t))(e.uniformData,t.uniforms,this.renderer,r)},e.prototype.createSyncGroups=function(t){var e=this.getSignature(t,this.shader.program.uniformData);return this.cache[e]||(this.cache[e]=function(t,e){var r=["\n        var v = null;\n        var cv = null\n        var t = 0;\n        var gl = renderer.gl\n    "];for(var n in t.uniforms){var i=e[n];if(i){for(var o=t.uniforms[n],s=!1,a=0;a<Il.length;a++)if(Il[a].test(i,o)){r.push(Il[a].code(n,o)),s=!0;break}if(!s){var u=(1===i.size?jl:Cl)[i.type].replace("location",'ud["'+n+'"].location');r.push('\n            cv = ud["'+n+'"].value;\n            v = uv["'+n+'"];\n            '+u+";")}}else t.uniforms[n].group&&r.push('\n                    renderer.shader.syncUniformGroup(uv["'+n+'"], syncData);\n                ')}return new Function("ud","uv","renderer","syncData",r.join("\n"))}(t,this.shader.program.uniformData)),t.syncUniforms[this.shader.program.id]=this.cache[e],t.syncUniforms[this.shader.program.id]},e.prototype.getSignature=function(t,e){var r=t.uniforms,n=[];for(var i in r)n.push(i),e[i]&&n.push(e[i].type);return n.join("-")},e.prototype.getglProgram=function(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null},e.prototype.generateShader=function(t){var e=this.gl,r=t.program,n={};for(var i in r.attributeData)n[i]=r.attributeData[i].location;var o=gl(e,r.vertexSrc,r.fragmentSrc,n),s={};for(var i in r.uniformData){var a=r.uniformData[i];s[i]={location:e.getUniformLocation(o,i),value:bl(a.type,a.size)}}var u=new ec(o,s);return r.glPrograms[this.renderer.CONTEXT_UID]=u,u},e.prototype.reset=function(){this.program=null,this.shader=null},e.prototype.destroy=function(){this.destroyed=!0},e}(ku),oc=function(t){function e(e){var r=t.call(this,e)||this;return r.gl=null,r.stateId=0,r.polygonOffset=0,r.blendMode=is.NONE,r._blendEq=!1,r.map=[],r.map[0]=r.setBlend,r.map[1]=r.setOffset,r.map[2]=r.setCullFace,r.map[3]=r.setDepthTest,r.map[4]=r.setFrontFace,r.checks=[],r.defaultState=new Ul,r.defaultState.blend=!0,r}return bu(e,t),e.prototype.contextChange=function(t){this.gl=t,this.blendModes=function(t,e){return void 0===e&&(e=[]),e[is.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[is.ADD]=[t.ONE,t.ONE],e[is.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[is.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[is.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[is.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[is.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[is.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[is.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[is.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[is.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[is.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[is.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[is.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[is.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[is.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[is.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[is.NONE]=[0,0],e[is.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[is.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],e[is.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[is.SRC_IN]=[t.DST_ALPHA,t.ZERO],e[is.SRC_OUT]=[t.ONE_MINUS_DST_ALPHA,t.ZERO],e[is.SRC_ATOP]=[t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[is.DST_OVER]=[t.ONE_MINUS_DST_ALPHA,t.ONE],e[is.DST_IN]=[t.ZERO,t.SRC_ALPHA],e[is.DST_OUT]=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],e[is.DST_ATOP]=[t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA],e[is.XOR]=[t.ONE_MINUS_DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[is.SUBTRACT]=[t.ONE,t.ONE,t.ONE,t.ONE,t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD],e}(t),this.set(this.defaultState),this.reset()},e.prototype.set=function(t){if(t=t||this.defaultState,this.stateId!==t.data){for(var e=this.stateId^t.data,r=0;e;)1&e&&this.map[r].call(this,!!(t.data&1<<r)),e>>=1,r++;this.stateId=t.data}for(r=0;r<this.checks.length;r++)this.checks[r](this,t)},e.prototype.forceState=function(t){t=t||this.defaultState;for(var e=0;e<this.map.length;e++)this.map[e].call(this,!!(t.data&1<<e));for(e=0;e<this.checks.length;e++)this.checks[e](this,t);this.stateId=t.data},e.prototype.setBlend=function(t){this.updateCheck(e.checkBlendMode,t),this.gl[t?"enable":"disable"](this.gl.BLEND)},e.prototype.setOffset=function(t){this.updateCheck(e.checkPolygonOffset,t),this.gl[t?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)},e.prototype.setDepthTest=function(t){this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST)},e.prototype.setCullFace=function(t){this.gl[t?"enable":"disable"](this.gl.CULL_FACE)},e.prototype.setFrontFace=function(t){this.gl.frontFace(this.gl[t?"CW":"CCW"])},e.prototype.setBlendMode=function(t){if(t!==this.blendMode){this.blendMode=t;var e=this.blendModes[t],r=this.gl;2===e.length?r.blendFunc(e[0],e[1]):r.blendFuncSeparate(e[0],e[1],e[2],e[3]),6===e.length?(this._blendEq=!0,r.blendEquationSeparate(e[4],e[5])):this._blendEq&&(this._blendEq=!1,r.blendEquationSeparate(r.FUNC_ADD,r.FUNC_ADD))}},e.prototype.setPolygonOffset=function(t,e){this.gl.polygonOffset(t,e)},e.prototype.reset=function(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)},e.prototype.updateCheck=function(t,e){var r=this.checks.indexOf(t);e&&-1===r?this.checks.push(t):e||-1===r||this.checks.splice(r,1)},e.checkBlendMode=function(t,e){t.setBlendMode(e.blendMode)},e.checkPolygonOffset=function(t,e){t.setPolygonOffset(1,e.polygonOffset)},e}(ku),sc=function(t){function e(e){var r=t.call(this,e)||this;return r.count=0,r.checkCount=0,r.maxIdle=Ls.GC_MAX_IDLE,r.checkCountMax=Ls.GC_MAX_CHECK_COUNT,r.mode=Ls.GC_MODE,r}return bu(e,t),e.prototype.postrender=function(){this.renderer.renderingToScreen&&(this.count++,this.mode!==ds.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))},e.prototype.run=function(){for(var t=this.renderer.texture,e=t.managedTextures,r=!1,n=0;n<e.length;n++){var i=e[n];!i.framebuffer&&this.count-i.touched>this.maxIdle&&(t.destroyTexture(i,!0),e[n]=null,r=!0)}if(r){var o=0;for(n=0;n<e.length;n++)null!==e[n]&&(e[o++]=e[n]);e.length=o}},e.prototype.unload=function(t){var e=this.renderer.texture,r=t._texture;r&&!r.framebuffer&&e.destroyTexture(r);for(var n=t.children.length-1;n>=0;n--)this.unload(t.children[n])},e}(ku),ac=function(t){this.texture=t,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=6408,this.internalFormat=5121},uc=function(t){function e(e){var r=t.call(this,e)||this;return r.boundTextures=[],r.currentLocation=-1,r.managedTextures=[],r._unknownBoundTextures=!1,r.unknownTexture=new xu,r}return bu(e,t),e.prototype.contextChange=function(){var t=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion;var e=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=e;for(var r=0;r<e;r++)this.boundTextures[r]=null;this.emptyTextures={};var n=new ac(t.createTexture());for(t.bindTexture(t.TEXTURE_2D,n.texture),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[t.TEXTURE_2D]=n,this.emptyTextures[t.TEXTURE_CUBE_MAP]=new ac(t.createTexture()),t.bindTexture(t.TEXTURE_CUBE_MAP,this.emptyTextures[t.TEXTURE_CUBE_MAP].texture),r=0;r<6;r++)t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+r,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,null);for(t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MIN_FILTER,t.LINEAR),r=0;r<this.boundTextures.length;r++)this.bind(null,r)},e.prototype.bind=function(t,e){void 0===e&&(e=0);var r=this.gl;if(t){if((t=t.castToBaseTexture()).parentTextureArray)return;if(t.valid){t.touched=this.renderer.textureGC.count;var n=t._glTextures[this.CONTEXT_UID]||this.initTexture(t);this.boundTextures[e]!==t&&(this.currentLocation!==e&&(this.currentLocation=e,r.activeTexture(r.TEXTURE0+e)),r.bindTexture(t.target,n.texture)),n.dirtyId!==t.dirtyId&&(this.currentLocation!==e&&(this.currentLocation=e,r.activeTexture(r.TEXTURE0+e)),this.updateTexture(t)),this.boundTextures[e]=t}}else this.currentLocation!==e&&(this.currentLocation=e,r.activeTexture(r.TEXTURE0+e)),r.bindTexture(r.TEXTURE_2D,this.emptyTextures[r.TEXTURE_2D].texture),this.boundTextures[e]=null},e.prototype.reset=function(){this._unknownBoundTextures=!0,this.currentLocation=-1;for(var t=0;t<this.boundTextures.length;t++)this.boundTextures[t]=this.unknownTexture},e.prototype.unbind=function(t){var e=this.gl,r=this.boundTextures;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var n=0;n<r.length;n++)r[n]===this.unknownTexture&&this.bind(null,n)}for(n=0;n<r.length;n++)r[n]===t&&(this.currentLocation!==n&&(e.activeTexture(e.TEXTURE0+n),this.currentLocation=n),e.bindTexture(t.target,this.emptyTextures[t.target].texture),r[n]=null)},e.prototype.initTexture=function(t){var e=new ac(this.gl.createTexture());return e.dirtyId=-1,t._glTextures[this.CONTEXT_UID]=e,this.managedTextures.push(t),t.on("dispose",this.destroyTexture,this),e},e.prototype.initTextureType=function(t,e){if(e.internalFormat=t.format,e.type=t.type,2===this.webGLVersion){var r=this.renderer.gl;t.type===r.FLOAT&&t.format===r.RGBA&&(e.internalFormat=r.RGBA32F),t.type===us.HALF_FLOAT&&(e.type=r.HALF_FLOAT),e.type===r.HALF_FLOAT&&t.format===r.RGBA&&(e.internalFormat=r.RGBA16F)}},e.prototype.updateTexture=function(t){var e=t._glTextures[this.CONTEXT_UID];if(e){var r=this.renderer;if(this.initTextureType(t,e),t.resource&&t.resource.upload(r,t,e));else{var n=t.realWidth,i=t.realHeight,o=r.gl;(e.width!==n||e.height!==i||e.dirtyId<0)&&(e.width=n,e.height=i,o.texImage2D(t.target,0,e.internalFormat,n,i,0,t.format,e.type,null))}t.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(t),e.dirtyId=t.dirtyId}},e.prototype.destroyTexture=function(t,e){var r=this.gl;if((t=t.castToBaseTexture())._glTextures[this.CONTEXT_UID]&&(this.unbind(t),r.deleteTexture(t._glTextures[this.CONTEXT_UID].texture),t.off("dispose",this.destroyTexture,this),delete t._glTextures[this.CONTEXT_UID],!e)){var n=this.managedTextures.indexOf(t);-1!==n&&ua(this.managedTextures,n,1)}},e.prototype.updateTextureStyle=function(t){var e=t._glTextures[this.CONTEXT_UID];e&&(t.mipmap!==hs.POW2&&2===this.webGLVersion||t.isPowerOfTwo?e.mipmap=t.mipmap>=1:e.mipmap=!1,2===this.webGLVersion||t.isPowerOfTwo?e.wrapMode=t.wrapMode:e.wrapMode=cs.CLAMP,t.resource&&t.resource.style(this.renderer,t,e)||this.setStyle(t,e),e.dirtyStyleId=t.dirtyStyleId)},e.prototype.setStyle=function(t,e){var r=this.gl;if(e.mipmap&&r.generateMipmap(t.target),r.texParameteri(t.target,r.TEXTURE_WRAP_S,e.wrapMode),r.texParameteri(t.target,r.TEXTURE_WRAP_T,e.wrapMode),e.mipmap){r.texParameteri(t.target,r.TEXTURE_MIN_FILTER,t.scaleMode===ls.LINEAR?r.LINEAR_MIPMAP_LINEAR:r.NEAREST_MIPMAP_NEAREST);var n=this.renderer.context.extensions.anisotropicFiltering;if(n&&t.anisotropicLevel>0&&t.scaleMode===ls.LINEAR){var i=Math.min(t.anisotropicLevel,r.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT));r.texParameterf(t.target,n.TEXTURE_MAX_ANISOTROPY_EXT,i)}}else r.texParameteri(t.target,r.TEXTURE_MIN_FILTER,t.scaleMode===ls.LINEAR?r.LINEAR:r.NEAREST);r.texParameteri(t.target,r.TEXTURE_MAG_FILTER,t.scaleMode===ls.LINEAR?r.LINEAR:r.NEAREST)},e}(ku),lc={FilterSystem:nl,BatchSystem:ol,ContextSystem:al,FramebufferSystem:cl,GeometrySystem:pl,MaskSystem:Gl,ScissorSystem:Vl,StencilSystem:ql,ProjectionSystem:Kl,RenderTextureSystem:Ql,ShaderSystem:ic,StateSystem:oc,TextureGCSystem:sc,TextureSystem:uc},cc=new Ba,hc=function(t){function e(e,r){void 0===e&&(e=rs.UNKNOWN);var n=t.call(this)||this;return(r=Object.assign({},Ls.RENDER_OPTIONS,r)).roundPixels&&(Ls.ROUND_PIXELS=r.roundPixels,pa("5.0.0","Renderer roundPixels option is deprecated, please use PIXI.settings.ROUND_PIXELS",2)),n.options=r,n.type=e,n.screen=new Ia(0,0,r.width,r.height),n.view=r.view||document.createElement("canvas"),n.resolution=r.resolution||Ls.RESOLUTION,n.transparent=r.transparent,n.autoDensity=r.autoDensity||r.autoResize||!1,n.preserveDrawingBuffer=r.preserveDrawingBuffer,n.clearBeforeRender=r.clearBeforeRender,n._backgroundColor=0,n._backgroundColorRgba=[0,0,0,0],n._backgroundColorString="#000000",n.backgroundColor=r.backgroundColor||n._backgroundColor,n._lastObjectRendered=null,n.plugins={},n}return bu(e,t),e.prototype.initPlugins=function(t){for(var e in t)this.plugins[e]=new t[e](this)},Object.defineProperty(e.prototype,"width",{get:function(){return this.view.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.view.height},enumerable:!1,configurable:!0}),e.prototype.resize=function(t,e){this.screen.width=t,this.screen.height=e,this.view.width=t*this.resolution,this.view.height=e*this.resolution,this.autoDensity&&(this.view.style.width=t+"px",this.view.style.height=e+"px"),this.emit("resize",t,e)},e.prototype.generateTexture=function(t,e,r,n){0===(n=n||t.getLocalBounds(null,!0)).width&&(n.width=1),0===n.height&&(n.height=1);var i=Wu.create({width:0|n.width,height:0|n.height,scaleMode:e,resolution:r});return cc.tx=-n.x,cc.ty=-n.y,this.render(t,i,!1,cc,!!t.parent),i},e.prototype.destroy=function(t){for(var e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null;t&&this.view.parentNode&&this.view.parentNode.removeChild(this.view);var r=this;r.plugins=null,r.type=rs.UNKNOWN,r.view=null,r.screen=null,r._tempDisplayObjectParent=null,r.options=null,this._backgroundColorRgba=null,this._backgroundColorString=null,this._lastObjectRendered=null},Object.defineProperty(e.prototype,"backgroundColor",{get:function(){return this._backgroundColor},set:function(t){this._backgroundColor=t,this._backgroundColorString=Vs(t),Ys(t,this._backgroundColorRgba)},enumerable:!1,configurable:!0}),e}(Bs()),fc=function(t){function e(r){var n=t.call(this,rs.WEBGL,r)||this;return r=n.options,n.gl=null,n.CONTEXT_UID=0,n.runners={destroy:new du("destroy"),contextChange:new du("contextChange"),reset:new du("reset"),update:new du("update"),postrender:new du("postrender"),prerender:new du("prerender"),resize:new du("resize")},n.globalUniforms=new el({projectionMatrix:new Ba},!0),n.addSystem(Gl,"mask").addSystem(al,"context").addSystem(oc,"state").addSystem(ic,"shader").addSystem(uc,"texture").addSystem(pl,"geometry").addSystem(cl,"framebuffer").addSystem(Vl,"scissor").addSystem(ql,"stencil").addSystem(Kl,"projection").addSystem(sc,"textureGC").addSystem(nl,"filter").addSystem(Ql,"renderTexture").addSystem(ol,"batch"),n.initPlugins(e.__plugins),r.context?n.context.initFromContext(r.context):n.context.initFromOptions({alpha:!!n.transparent,antialias:r.antialias,premultipliedAlpha:n.transparent&&"notMultiplied"!==n.transparent,stencil:!0,preserveDrawingBuffer:r.preserveDrawingBuffer,powerPreference:n.options.powerPreference}),n.renderingToScreen=!0,Xs(2===n.context.webGLVersion?"WebGL 2":"WebGL 1"),n.resize(n.options.width,n.options.height),n}return bu(e,t),e.create=function(t){if(Gs())return new e(t);throw new Error('WebGL unsupported in this browser, use "pixi.js-legacy" for fallback canvas2d support.')},e.prototype.addSystem=function(t,e){e||(e=t.name);var r=new t(this);if(this[e])throw new Error('Whoops! The name "'+e+'" is already in use');for(var n in this[e]=r,this.runners)this.runners[n].add(r);return this},e.prototype.render=function(t,e,r,n,i){if(this.renderingToScreen=!e,this.runners.prerender.emit(),this.emit("prerender"),this.projection.transform=n,!this.context.isLost){if(e||(this._lastObjectRendered=t),!i){var o=t.enableTempParent();t.updateTransform(),t.disableTempParent(o)}this.renderTexture.bind(e),this.batch.currentRenderer.start(),(void 0!==r?r:this.clearBeforeRender)&&this.renderTexture.clear(),t.render(this),this.batch.currentRenderer.flush(),e&&e.baseTexture.update(),this.runners.postrender.emit(),this.projection.transform=null,this.emit("postrender")}},e.prototype.resize=function(e,r){t.prototype.resize.call(this,e,r),this.runners.resize.emit(e,r)},e.prototype.reset=function(){return this.runners.reset.emit(),this},e.prototype.clear=function(){this.renderTexture.bind(),this.renderTexture.clear()},e.prototype.destroy=function(e){for(var r in this.runners.destroy.emit(),this.runners)this.runners[r].destroy();t.prototype.destroy.call(this,e),this.gl=null},e.registerPlugin=function(t,r){e.__plugins=e.__plugins||{},e.__plugins[t]=r},e}(hc);function pc(t){return fc.create(t)}var dc="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}",yc="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n",gc=function(){this.texArray=null,this.blend=0,this.type=os.TRIANGLES,this.start=0,this.size=0,this.data=null},mc=function(){function t(){this.elements=[],this.ids=[],this.count=0}return t.prototype.clear=function(){for(var t=0;t<this.count;t++)this.elements[t]=null;this.count=0},t}(),bc=function(){function t(t){this.rawBinaryData=new ArrayBuffer(t),this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}return Object.defineProperty(t.prototype,"int8View",{get:function(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uint8View",{get:function(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"int16View",{get:function(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uint16View",{get:function(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"int32View",{get:function(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View},enumerable:!1,configurable:!0}),t.prototype.view=function(t){return this[t+"View"]},t.prototype.destroy=function(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null},t.sizeOf=function(t){switch(t){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(t+" isn't a valid view type")}},t}(),vc=function(t){function e(e){var r=t.call(this,e)||this;return r.shaderGenerator=null,r.geometryClass=null,r.vertexSize=null,r.state=Ul.for2d(),r.size=4*Ls.SPRITE_BATCH_SIZE,r._vertexCount=0,r._indexCount=0,r._bufferedElements=[],r._bufferedTextures=[],r._bufferSize=0,r._shader=null,r._packedGeometries=[],r._packedGeometryPoolSize=2,r._flushId=0,r._aBuffers={},r._iBuffers={},r.MAX_TEXTURES=1,r.renderer.on("prerender",r.onPrerender,r),e.runners.contextChange.add(r),r._dcIndex=0,r._aIndex=0,r._iIndex=0,r._attributeBuffer=null,r._indexBuffer=null,r._tempBoundTextures=[],r}return bu(e,t),e.prototype.contextChange=function(){var t=this.renderer.gl;Ls.PREFER_ENV===es.WEBGL_LEGACY?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),Ls.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=Ll(this.MAX_TEXTURES,t)),this._shader=this.shaderGenerator.generateShader(this.MAX_TEXTURES);for(var e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]=new this.geometryClass;this.initFlushBuffers()},e.prototype.initFlushBuffers=function(){for(var t=e._drawCallPool,r=e._textureArrayPool,n=this.size/4,i=Math.floor(n/this.MAX_TEXTURES)+1;t.length<n;)t.push(new gc);for(;r.length<i;)r.push(new mc);for(var o=0;o<this.MAX_TEXTURES;o++)this._tempBoundTextures[o]=null},e.prototype.onPrerender=function(){this._flushId=0},e.prototype.render=function(t){t._texture.valid&&(this._vertexCount+t.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=t.vertexData.length/2,this._indexCount+=t.indices.length,this._bufferedTextures[this._bufferSize]=t._texture.baseTexture,this._bufferedElements[this._bufferSize++]=t)},e.prototype.buildTexturesAndDrawCalls=function(){var t=this._bufferedTextures,r=this.MAX_TEXTURES,n=e._textureArrayPool,i=this.renderer.batch,o=this._tempBoundTextures,s=this.renderer.textureGC.count,a=++xu._globalBatch,u=0,l=n[0],c=0;i.copyBoundTextures(o,r);for(var h=0;h<this._bufferSize;++h){var f=t[h];t[h]=null,f._batchEnabled!==a&&(l.count>=r&&(i.boundArray(l,o,a,r),this.buildDrawCalls(l,c,h),c=h,l=n[++u],++a),f._batchEnabled=a,f.touched=s,l.elements[l.count++]=f)}for(l.count>0&&(i.boundArray(l,o,a,r),this.buildDrawCalls(l,c,this._bufferSize),++u,++a),h=0;h<o.length;h++)o[h]=null;xu._globalBatch=a},e.prototype.buildDrawCalls=function(t,r,n){var i=this,o=i._bufferedElements,s=i._attributeBuffer,a=i._indexBuffer,u=i.vertexSize,l=e._drawCallPool,c=this._dcIndex,h=this._aIndex,f=this._iIndex,p=l[c];p.start=this._iIndex,p.texArray=t;for(var d=r;d<n;++d){var y=o[d],g=y._texture.baseTexture,m=Zs[g.alphaMode?1:0][y.blendMode];o[d]=null,r<d&&p.blend!==m&&(p.size=f-p.start,r=d,(p=l[++c]).texArray=t,p.start=f),this.packInterleavedGeometry(y,s,a,h,f),h+=y.vertexData.length/2*u,f+=y.indices.length,p.blend=m}r<n&&(p.size=f-p.start,++c),this._dcIndex=c,this._aIndex=h,this._iIndex=f},e.prototype.bindAndClearTexArray=function(t){for(var e=this.renderer.texture,r=0;r<t.count;r++)e.bind(t.elements[r],t.ids[r]),t.elements[r]=null;t.count=0},e.prototype.updateGeometry=function(){var t=this,e=t._packedGeometries,r=t._attributeBuffer,n=t._indexBuffer;Ls.CAN_UPLOAD_SAME_BUFFER?(e[this._flushId]._buffer.update(r.rawBinaryData),e[this._flushId]._indexBuffer.update(n),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,e[this._flushId]=new this.geometryClass),e[this._flushId]._buffer.update(r.rawBinaryData),e[this._flushId]._indexBuffer.update(n),this.renderer.geometry.bind(e[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)},e.prototype.drawBatches=function(){for(var t=this._dcIndex,r=this.renderer,n=r.gl,i=r.state,o=e._drawCallPool,s=null,a=0;a<t;a++){var u=o[a],l=u.texArray,c=u.type,h=u.size,f=u.start,p=u.blend;s!==l&&(s=l,this.bindAndClearTexArray(l)),this.state.blendMode=p,i.set(this.state),n.drawElements(c,h,n.UNSIGNED_SHORT,2*f)}},e.prototype.flush=function(){0!==this._vertexCount&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)},e.prototype.start=function(){this.renderer.state.set(this.state),this.renderer.shader.bind(this._shader),Ls.CAN_UPLOAD_SAME_BUFFER&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])},e.prototype.stop=function(){this.flush()},e.prototype.destroy=function(){for(var e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]&&this._packedGeometries[e].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),t.prototype.destroy.call(this)},e.prototype.getAttributeBuffer=function(t){var e=oa(Math.ceil(t/8)),r=aa(e),n=8*e;this._aBuffers.length<=r&&(this._iBuffers.length=r+1);var i=this._aBuffers[n];return i||(this._aBuffers[n]=i=new bc(n*this.vertexSize*4)),i},e.prototype.getIndexBuffer=function(t){var e=oa(Math.ceil(t/12)),r=aa(e),n=12*e;this._iBuffers.length<=r&&(this._iBuffers.length=r+1);var i=this._iBuffers[r];return i||(this._iBuffers[r]=i=new Uint16Array(n)),i},e.prototype.packInterleavedGeometry=function(t,e,r,n,i){for(var o=e.uint32View,s=e.float32View,a=n/this.vertexSize,u=t.uvs,l=t.indices,c=t.vertexData,h=t._texture.baseTexture._batchLocation,f=Math.min(t.worldAlpha,1),p=f<1&&t._texture.baseTexture.alphaMode?Qs(t._tintRGB,f):t._tintRGB+(255*f<<24),d=0;d<c.length;d+=2)s[n++]=c[d],s[n++]=c[d+1],s[n++]=u[d],s[n++]=u[d+1],o[n++]=p,s[n++]=h;for(d=0;d<l.length;d++)r[i++]=a+l[d]},e._drawCallPool=[],e._textureArrayPool=[],e}(il),_c=function(){function t(t,e){if(this.vertexSrc=t,this.fragTemplate=e,this.programCache={},this.defaultGroupCache={},e.indexOf("%count%")<0)throw new Error('Fragment template must contain "%count%".');if(e.indexOf("%forloop%")<0)throw new Error('Fragment template must contain "%forloop%".')}return t.prototype.generateShader=function(t){if(!this.programCache[t]){for(var e=new Int32Array(t),r=0;r<t;r++)e[r]=r;this.defaultGroupCache[t]=el.from({uSamplers:e},!0);var n=this.fragTemplate;n=(n=n.replace(/%count%/gi,""+t)).replace(/%forloop%/gi,this.generateSampleSrc(t)),this.programCache[t]=new Fl(this.vertexSrc,n)}var i={tint:new Float32Array([1,1,1,1]),translationMatrix:new Ba,default:this.defaultGroupCache[t]};return new Nl(this.programCache[t],i)},t.prototype.generateSampleSrc=function(t){var e="";e+="\n",e+="\n";for(var r=0;r<t;r++)r>0&&(e+="\nelse "),r<t-1&&(e+="if(vTextureId < "+r+".5)"),e+="\n{",e+="\n\tcolor = texture2D(uSamplers["+r+"], vTextureCoord);",e+="\n}";return(e+="\n")+"\n"},t}(),wc=function(t){function e(e){void 0===e&&(e=!1);var r=t.call(this)||this;return r._buffer=new Gu(null,e,!1),r._indexBuffer=new Gu(null,e,!0),r.addAttribute("aVertexPosition",r._buffer,2,!1,us.FLOAT).addAttribute("aTextureCoord",r._buffer,2,!1,us.FLOAT).addAttribute("aColor",r._buffer,4,!0,us.UNSIGNED_BYTE).addAttribute("aTextureId",r._buffer,1,!0,us.FLOAT).addIndex(r._indexBuffer),r}return bu(e,t),e}(Ju),xc="precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform vec4 tint;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor * tint;\n}\n",Oc="varying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\nuniform sampler2D uSamplers[%count%];\n\nvoid main(void){\n    vec4 color;\n    %forloop%\n    gl_FragColor = color * vColor;\n}\n",Sc=function(){function t(){}return t.create=function(t){var e=Object.assign({vertex:xc,fragment:Oc,geometryClass:wc,vertexSize:6},t),r=e.vertex,n=e.fragment,i=e.vertexSize,o=e.geometryClass;return function(t){function e(e){var s=t.call(this,e)||this;return s.shaderGenerator=new _c(r,n),s.geometryClass=o,s.vertexSize=i,s}return bu(e,t),e}(vc)},Object.defineProperty(t,"defaultVertexSrc",{get:function(){return xc},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultFragmentTemplate",{get:function(){return Oc},enumerable:!1,configurable:!0}),t}(),Pc=Sc.create(),Tc=function(){function t(e){var r=this;e=Object.assign({forceCanvas:!1},e),this.renderer=pc(e),this.stage=new Qa,t._plugins.forEach((function(t){t.init.call(r,e)}))}return t.registerPlugin=function(e){t._plugins.push(e)},t.prototype.render=function(){this.renderer.render(this.stage)},Object.defineProperty(t.prototype,"view",{get:function(){return this.renderer.view},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"screen",{get:function(){return this.renderer.screen},enumerable:!1,configurable:!0}),t.prototype.destroy=function(e,r){var n=this,i=t._plugins.slice(0);i.reverse(),i.forEach((function(t){t.destroy.call(n)})),this.stage.destroy(r),this.stage=null,this.renderer.destroy(e),this.renderer=null},t}();Tc._plugins=[];var Ec=function(){function t(){}return t.init=function(t){var e=this;Object.defineProperty(this,"resizeTo",{set:function(t){window.removeEventListener("resize",this.queueResize),this._resizeTo=t,t&&(window.addEventListener("resize",this.queueResize),this.resize())},get:function(){return this._resizeTo}}),this.queueResize=function(){e._resizeTo&&(e.cancelResize(),e._resizeId=requestAnimationFrame((function(){return e.resize()})))},this.cancelResize=function(){e._resizeId&&(cancelAnimationFrame(e._resizeId),e._resizeId=null)},this.resize=function(){if(e._resizeTo){var t,r;if(e.cancelResize(),e._resizeTo===window)t=window.innerWidth,r=window.innerHeight;else{var n=e._resizeTo;t=n.clientWidth,r=n.clientHeight}e.renderer.resize(t,r)}},this._resizeId=null,this._resizeTo=null,this.resizeTo=t.resizeTo||null},t.destroy=function(){this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null},t}();Tc.registerPlugin(Ec);var Rc=new Ia,Ac=function(){function t(t){this.renderer=t,t.extract=this}return t.prototype.image=function(t,e,r){var n=new Image;return n.src=this.base64(t,e,r),n},t.prototype.base64=function(t,e,r){return this.canvas(t).toDataURL(e,r)},t.prototype.canvas=function(e){var r,n,i,o=this.renderer,s=!1,a=!1;e&&(e instanceof Wu?i=e:(i=this.renderer.generateTexture(e),a=!0)),i?(r=i.baseTexture.resolution,n=i.frame,s=!1,o.renderTexture.bind(i)):(r=this.renderer.resolution,s=!0,(n=Rc).width=this.renderer.width,n.height=this.renderer.height,o.renderTexture.bind(null));var u=Math.floor(n.width*r+1e-4),l=Math.floor(n.height*r+1e-4),c=new va(u,l,1),h=new Uint8Array(4*u*l),f=o.gl;f.readPixels(n.x*r,n.y*r,u,l,f.RGBA,f.UNSIGNED_BYTE,h);var p=c.context.getImageData(0,0,u,l);if(t.arrayPostDivide(h,p.data),c.context.putImageData(p,0,0),s){var d=new va(c.width,c.height,1);d.context.scale(1,-1),d.context.drawImage(c.canvas,0,-l),c.destroy(),c=d}return a&&i.destroy(!0),c.canvas},t.prototype.pixels=function(e){var r,n,i,o=this.renderer,s=!1;e&&(e instanceof Wu?i=e:(i=this.renderer.generateTexture(e),s=!0)),i?(r=i.baseTexture.resolution,n=i.frame,o.renderTexture.bind(i)):(r=o.resolution,(n=Rc).width=o.width,n.height=o.height,o.renderTexture.bind(null));var a=n.width*r,u=n.height*r,l=new Uint8Array(4*a*u),c=o.gl;return c.readPixels(n.x*r,n.y*r,a,u,c.RGBA,c.UNSIGNED_BYTE,l),s&&i.destroy(!0),t.arrayPostDivide(l,l),l},t.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null},t.arrayPostDivide=function(t,e){for(var r=0;r<t.length;r+=4){var n=e[r+3]=t[r+3];0!==n?(e[r]=Math.round(Math.min(255*t[r]/n,255)),e[r+1]=Math.round(Math.min(255*t[r+1]/n,255)),e[r+2]=Math.round(Math.min(255*t[r+2]/n,255))):(e[r]=t[r],e[r+1]=t[r+1],e[r+2]=t[r+2])}},t}(),Ic=r(959),jc=r.n(Ic),Cc=r(595),kc=r.n(Cc);function Mc(){}function Lc(t,e,r,n){var i=0,o=t.length;!function s(a){a||i===o?r&&r(a):n?setTimeout((function(){e(t[i++],s)}),1):e(t[i++],s)}()}function Dc(t){return function(){if(null===t)throw new Error("Callback was already called.");var e=t;t=null,e.apply(this,arguments)}}var Bc={};function Fc(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Nc(t,e,r){return e&&Fc(t.prototype,e),r&&Fc(t,r),t}var Uc=!(!window.XDomainRequest||"withCredentials"in new XMLHttpRequest),Wc=null;function zc(){}var Hc=function(){function t(e,r,n){if("string"!=typeof e||"string"!=typeof r)throw new Error("Both name and url are required for constructing a resource.");n=n||{},this._flags=0,this._setFlag(t.STATUS_FLAGS.DATA_URL,0===r.indexOf("data:")),this.name=e,this.url=r,this.extension=this._getExtension(),this.data=null,this.crossOrigin=!0===n.crossOrigin?"anonymous":n.crossOrigin,this.timeout=n.timeout||0,this.loadType=n.loadType||this._determineLoadType(),this.xhrType=n.xhrType,this.metadata=n.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=t.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=zc,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new(kc()),this.onProgress=new(kc()),this.onComplete=new(kc()),this.onAfterMiddleware=new(kc())}t.setExtensionLoadType=function(e,r){Xc(t._loadTypeMap,e,r)},t.setExtensionXhrType=function(e,r){Xc(t._xhrTypeMap,e,r)};var e=t.prototype;return e.complete=function(){this._clearEvents(),this._finish()},e.abort=function(e){if(!this.error){if(this.error=new Error(e),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=t.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},e.load=function(e){var r=this;if(!this.isLoading)if(this.isComplete)e&&setTimeout((function(){return e(r)}),1);else switch(e&&this.onComplete.once(e),this._setFlag(t.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),!1!==this.crossOrigin&&"string"==typeof this.crossOrigin||(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case t.LOAD_TYPE.IMAGE:this.type=t.TYPE.IMAGE,this._loadElement("image");break;case t.LOAD_TYPE.AUDIO:this.type=t.TYPE.AUDIO,this._loadSourceElement("audio");break;case t.LOAD_TYPE.VIDEO:this.type=t.TYPE.VIDEO,this._loadSourceElement("video");break;case t.LOAD_TYPE.XHR:default:Uc&&this.crossOrigin?this._loadXdr():this._loadXhr()}},e._hasFlag=function(t){return 0!=(this._flags&t)},e._setFlag=function(t,e){this._flags=e?this._flags|t:this._flags&~t},e._clearEvents=function(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},e._finish=function(){if(this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(t.STATUS_FLAGS.COMPLETE,!0),this._setFlag(t.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},e._loadElement=function(t){this.metadata.loadElement?this.data=this.metadata.loadElement:"image"===t&&void 0!==window.Image?this.data=new Image:this.data=document.createElement(t),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},e._loadSourceElement=function(t){if(this.metadata.loadElement?this.data=this.metadata.loadElement:"audio"===t&&void 0!==window.Audio?this.data=new Audio:this.data=document.createElement(t),null!==this.data){if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var e=this.metadata.mimeType,r=0;r<this.url.length;++r)this.data.appendChild(this._createSource(t,this.url[r],Array.isArray(e)?e[r]:e));else{var n=this.metadata.mimeType;this.data.appendChild(this._createSource(t,this.url,Array.isArray(n)?n[0]:n))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))}else this.abort("Unsupported element: "+t)},e._loadXhr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var e=this.xhr=new XMLHttpRequest;e.open("GET",this.url,!0),e.timeout=this.timeout,this.xhrType===t.XHR_RESPONSE_TYPE.JSON||this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT?e.responseType=t.XHR_RESPONSE_TYPE.TEXT:e.responseType=this.xhrType,e.addEventListener("error",this._boundXhrOnError,!1),e.addEventListener("timeout",this._boundXhrOnTimeout,!1),e.addEventListener("abort",this._boundXhrOnAbort,!1),e.addEventListener("progress",this._boundOnProgress,!1),e.addEventListener("load",this._boundXhrOnLoad,!1),e.send()},e._loadXdr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XDomainRequest;t.timeout=this.timeout||5e3,t.onerror=this._boundXhrOnError,t.ontimeout=this._boundXhrOnTimeout,t.onprogress=this._boundOnProgress,t.onload=this._boundXhrOnLoad,t.open("GET",this.url,!0),setTimeout((function(){return t.send()}),1)},e._createSource=function(t,e,r){r||(r=t+"/"+this._getExtension(e));var n=document.createElement("source");return n.src=e,n.type=r,n},e._onError=function(t){this.abort("Failed to load element using: "+t.target.nodeName)},e._onProgress=function(t){t&&t.lengthComputable&&this.onProgress.dispatch(this,t.loaded/t.total)},e._onTimeout=function(){this.abort("Load timed out.")},e._xhrOnError=function(){var t=this.xhr;this.abort(Gc(t)+" Request failed. Status: "+t.status+', text: "'+t.statusText+'"')},e._xhrOnTimeout=function(){var t=this.xhr;this.abort(Gc(t)+" Request timed out.")},e._xhrOnAbort=function(){var t=this.xhr;this.abort(Gc(t)+" Request was aborted by the user.")},e._xhrOnLoad=function(){var e=this.xhr,r="",n=void 0===e.status?200:e.status;if(""!==e.responseType&&"text"!==e.responseType&&void 0!==e.responseType||(r=e.responseText),0===n&&(r.length>0||e.responseType===t.XHR_RESPONSE_TYPE.BUFFER)?n=200:1223===n&&(n=204),2==(n/100|0)){if(this.xhrType===t.XHR_RESPONSE_TYPE.TEXT)this.data=r,this.type=t.TYPE.TEXT;else if(this.xhrType===t.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(r),this.type=t.TYPE.JSON}catch(t){return void this.abort("Error trying to parse loaded json: "+t)}else if(this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT)try{if(window.DOMParser){var i=new DOMParser;this.data=i.parseFromString(r,"text/xml")}else{var o=document.createElement("div");o.innerHTML=r,this.data=o}this.type=t.TYPE.XML}catch(t){return void this.abort("Error trying to parse loaded xml: "+t)}else this.data=e.response||r;this.complete()}else this.abort("["+e.status+"] "+e.statusText+": "+e.responseURL)},e._determineCrossOrigin=function(t,e){if(0===t.indexOf("data:"))return"";if(window.origin!==window.location.origin)return"anonymous";e=e||window.location,Wc||(Wc=document.createElement("a")),Wc.href=t;var r=!(t=jc()(Wc.href,{strictMode:!0})).port&&""===e.port||t.port===e.port,n=t.protocol?t.protocol+":":"";return t.host===e.hostname&&r&&n===e.protocol?"":"anonymous"},e._determineXhrType=function(){return t._xhrTypeMap[this.extension]||t.XHR_RESPONSE_TYPE.TEXT},e._determineLoadType=function(){return t._loadTypeMap[this.extension]||t.LOAD_TYPE.XHR},e._getExtension=function(){var t=this.url,e="";if(this.isDataUrl){var r=t.indexOf("/");e=t.substring(r+1,t.indexOf(";",r))}else{var n=t.indexOf("?"),i=t.indexOf("#"),o=Math.min(n>-1?n:t.length,i>-1?i:t.length);e=(t=t.substring(0,o)).substring(t.lastIndexOf(".")+1)}return e.toLowerCase()},e._getMimeFromXhrType=function(e){switch(e){case t.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case t.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case t.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case t.XHR_RESPONSE_TYPE.JSON:return"application/json";case t.XHR_RESPONSE_TYPE.DEFAULT:case t.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},Nc(t,[{key:"isDataUrl",get:function(){return this._hasFlag(t.STATUS_FLAGS.DATA_URL)}},{key:"isComplete",get:function(){return this._hasFlag(t.STATUS_FLAGS.COMPLETE)}},{key:"isLoading",get:function(){return this._hasFlag(t.STATUS_FLAGS.LOADING)}}]),t}();function Xc(t,e,r){e&&0===e.indexOf(".")&&(e=e.substring(1)),e&&(t[e]=r)}function Gc(t){return t.toString().replace("object ","")}Hc.STATUS_FLAGS={NONE:0,DATA_URL:1,COMPLETE:2,LOADING:4},Hc.TYPE={UNKNOWN:0,JSON:1,XML:2,IMAGE:3,AUDIO:4,VIDEO:5,TEXT:6},Hc.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4},Hc.XHR_RESPONSE_TYPE={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"},Hc._loadTypeMap={gif:Hc.LOAD_TYPE.IMAGE,png:Hc.LOAD_TYPE.IMAGE,bmp:Hc.LOAD_TYPE.IMAGE,jpg:Hc.LOAD_TYPE.IMAGE,jpeg:Hc.LOAD_TYPE.IMAGE,tif:Hc.LOAD_TYPE.IMAGE,tiff:Hc.LOAD_TYPE.IMAGE,webp:Hc.LOAD_TYPE.IMAGE,tga:Hc.LOAD_TYPE.IMAGE,svg:Hc.LOAD_TYPE.IMAGE,"svg+xml":Hc.LOAD_TYPE.IMAGE,mp3:Hc.LOAD_TYPE.AUDIO,ogg:Hc.LOAD_TYPE.AUDIO,wav:Hc.LOAD_TYPE.AUDIO,mp4:Hc.LOAD_TYPE.VIDEO,webm:Hc.LOAD_TYPE.VIDEO},Hc._xhrTypeMap={xhtml:Hc.XHR_RESPONSE_TYPE.DOCUMENT,html:Hc.XHR_RESPONSE_TYPE.DOCUMENT,htm:Hc.XHR_RESPONSE_TYPE.DOCUMENT,xml:Hc.XHR_RESPONSE_TYPE.DOCUMENT,tmx:Hc.XHR_RESPONSE_TYPE.DOCUMENT,svg:Hc.XHR_RESPONSE_TYPE.DOCUMENT,tsx:Hc.XHR_RESPONSE_TYPE.DOCUMENT,gif:Hc.XHR_RESPONSE_TYPE.BLOB,png:Hc.XHR_RESPONSE_TYPE.BLOB,bmp:Hc.XHR_RESPONSE_TYPE.BLOB,jpg:Hc.XHR_RESPONSE_TYPE.BLOB,jpeg:Hc.XHR_RESPONSE_TYPE.BLOB,tif:Hc.XHR_RESPONSE_TYPE.BLOB,tiff:Hc.XHR_RESPONSE_TYPE.BLOB,webp:Hc.XHR_RESPONSE_TYPE.BLOB,tga:Hc.XHR_RESPONSE_TYPE.BLOB,json:Hc.XHR_RESPONSE_TYPE.JSON,text:Hc.XHR_RESPONSE_TYPE.TEXT,txt:Hc.XHR_RESPONSE_TYPE.TEXT,ttf:Hc.XHR_RESPONSE_TYPE.BUFFER,otf:Hc.XHR_RESPONSE_TYPE.BUFFER},Hc.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==";var Yc=window.URL||window.webkitURL,Vc={caching:function(t,e){var r=this;Bc[t.url]?(t.data=Bc[t.url],t.complete()):t.onComplete.once((function(){return Bc[r.url]=r.data})),e()},parsing:function(t,e){if(t.data){if(t.xhr&&t.xhrType===Hc.XHR_RESPONSE_TYPE.BLOB)if(window.Blob&&"string"!=typeof t.data){if(0===t.data.type.indexOf("image")){var r=Yc.createObjectURL(t.data);return t.blob=t.data,t.data=new Image,t.data.src=r,t.type=Hc.TYPE.IMAGE,void(t.data.onload=function(){Yc.revokeObjectURL(r),t.data.onload=null,e()})}}else{var n=t.xhr.getResponseHeader("content-type");if(n&&0===n.indexOf("image"))return t.data=new Image,t.data.src="data:"+n+";base64,"+function(t){for(var e="",r=0;r<t.length;){for(var n=[0,0,0],i=[0,0,0,0],o=0;o<n.length;++o)r<t.length?n[o]=255&t.charCodeAt(r++):n[o]=0;switch(i[0]=n[0]>>2,i[1]=(3&n[0])<<4|n[1]>>4,i[2]=(15&n[1])<<2|n[2]>>6,i[3]=63&n[2],r-(t.length-1)){case 2:i[3]=64,i[2]=64;break;case 1:i[3]=64}for(var s=0;s<i.length;++s)e+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(i[s])}return e}(t.xhr.responseText),t.type=Hc.TYPE.IMAGE,void(t.data.onload=function(){t.data.onload=null,e()})}e()}else e()}},qc=/(#[\w-]+)?$/,Kc=function(){function t(e,r){var n=this;void 0===e&&(e=""),void 0===r&&(r=10),this.baseUrl=e,this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(t,e){return n._loadResource(t,e)},this._queue=function(t,e){if(null==e)e=1;else if(0===e)throw new Error("Concurrency must not be zero");var r=0,n={_tasks:[],concurrency:e,saturated:Mc,unsaturated:Mc,buffer:e/4,empty:Mc,drain:Mc,error:Mc,started:!1,paused:!1,push:function(t,e){i(t,!1,e)},kill:function(){r=0,n.drain=Mc,n.started=!1,n._tasks=[]},unshift:function(t,e){i(t,!0,e)},process:function(){for(;!n.paused&&r<n.concurrency&&n._tasks.length;){var e=n._tasks.shift();0===n._tasks.length&&n.empty(),(r+=1)===n.concurrency&&n.saturated(),t(e.data,Dc(o(e)))}},length:function(){return n._tasks.length},running:function(){return r},idle:function(){return n._tasks.length+r===0},pause:function(){!0!==n.paused&&(n.paused=!0)},resume:function(){if(!1!==n.paused){n.paused=!1;for(var t=1;t<=n.concurrency;t++)n.process()}}};function i(t,e,r){if(null!=r&&"function"!=typeof r)throw new Error("task callback must be a function");if(n.started=!0,null==t&&n.idle())setTimeout((function(){return n.drain()}),1);else{var i={data:t,callback:"function"==typeof r?r:Mc};e?n._tasks.unshift(i):n._tasks.push(i),setTimeout((function(){return n.process()}),1)}}function o(t){return function(){r-=1,t.callback.apply(t,arguments),null!=arguments[0]&&n.error(arguments[0],t.data),r<=n.concurrency-n.buffer&&n.unsaturated(),n.idle()&&n.drain(),n.process()}}return n}(this._boundLoadResource,r),this._queue.pause(),this.resources={},this.onProgress=new(kc()),this.onError=new(kc()),this.onLoad=new(kc()),this.onStart=new(kc()),this.onComplete=new(kc());for(var i=0;i<t._defaultBeforeMiddleware.length;++i)this.pre(t._defaultBeforeMiddleware[i]);for(var o=0;o<t._defaultAfterMiddleware.length;++o)this.use(t._defaultAfterMiddleware[o])}var e=t.prototype;return e.add=function(t,e,r,n){if(Array.isArray(t)){for(var i=0;i<t.length;++i)this.add(t[i]);return this}if("object"==typeof t&&(n=e||t.callback||t.onComplete,r=t,e=t.url,t=t.name||t.key||t.url),"string"!=typeof e&&(n=r,r=e,e=t),"string"!=typeof e)throw new Error("No url passed to add resource to loader.");if("function"==typeof r&&(n=r,r=null),this.loading&&(!r||!r.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[t])throw new Error('Resource named "'+t+'" already exists.');if(e=this._prepareUrl(e),this.resources[t]=new Hc(t,e,r),"function"==typeof n&&this.resources[t].onAfterMiddleware.once(n),this.loading){for(var o=r.parentResource,s=[],a=0;a<o.children.length;++a)o.children[a].isComplete||s.push(o.children[a]);var u=o.progressChunk*(s.length+1)/(s.length+2);o.children.push(this.resources[t]),o.progressChunk=u;for(var l=0;l<s.length;++l)s[l].progressChunk=u;this.resources[t].progressChunk=u}return this._queue.push(this.resources[t]),this},e.pre=function(t){return this._beforeMiddleware.push(t),this},e.use=function(t){return this._afterMiddleware.push(t),this},e.reset=function(){for(var t in this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause(),this.resources){var e=this.resources[t];e._onLoadBinding&&e._onLoadBinding.detach(),e.isLoading&&e.abort()}return this.resources={},this},e.load=function(t){if("function"==typeof t&&this.onComplete.once(t),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var e=100/this._queue._tasks.length,r=0;r<this._queue._tasks.length;++r)this._queue._tasks[r].data.progressChunk=e;this._onStart(),this._queue.resume()}return this},e._prepareUrl=function(t){var e,r=jc()(t,{strictMode:!0});if(e=r.protocol||!r.path||0===t.indexOf("//")?t:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&"/"!==t.charAt(0)?this.baseUrl+"/"+t:this.baseUrl+t,this.defaultQueryString){var n=qc.exec(e)[0];-1!==(e=e.substr(0,e.length-n.length)).indexOf("?")?e+="&"+this.defaultQueryString:e+="?"+this.defaultQueryString,e+=n}return e},e._loadResource=function(t,e){var r=this;t._dequeue=e,Lc(this._beforeMiddleware,(function(e,n){e.call(r,t,(function(){n(t.isComplete?{}:null)}))}),(function(){t.isComplete?r._onLoad(t):(t._onLoadBinding=t.onComplete.once(r._onLoad,r),t.load())}),!0)},e._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},e._onComplete=function(){this.progress=100,this.loading=!1,this.onComplete.dispatch(this,this.resources)},e._onLoad=function(t){var e=this;t._onLoadBinding=null,this._resourcesParsing.push(t),t._dequeue(),Lc(this._afterMiddleware,(function(r,n){r.call(e,t,n)}),(function(){t.onAfterMiddleware.dispatch(t),e.progress=Math.min(100,e.progress+t.progressChunk),e.onProgress.dispatch(e,t),t.error?e.onError.dispatch(t.error,e,t):e.onLoad.dispatch(e,t),e._resourcesParsing.splice(e._resourcesParsing.indexOf(t),1),e._queue.idle()&&0===e._resourcesParsing.length&&e._onComplete()}),!0)},Nc(t,[{key:"concurrency",get:function(){return this._queue.concurrency},set:function(t){this._queue.concurrency=t}}]),t}();Kc._defaultBeforeMiddleware=[],Kc._defaultAfterMiddleware=[],Kc.pre=function(t){return Kc._defaultBeforeMiddleware.push(t),Kc},Kc.use=function(t){return Kc._defaultAfterMiddleware.push(t),Kc};var Zc=Hc,Jc=function(t,e){return(Jc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},$c=function(){function t(){}return t.use=function(t,e){t.data&&t.type===Hc.TYPE.IMAGE&&(t.texture=Nu.fromLoader(t.data,t.url,t.name)),e()},t}(),Qc=function(t){function e(r,n){for(var i=t.call(this,r,n)||this,o=0;o<e._plugins.length;++o){var s=e._plugins[o],a=s.pre,u=s.use;a&&i.pre(a),u&&i.use(u)}return i._protected=!1,i}return function(t,e){function r(){this.constructor=t}Jc(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}(e,t),e.prototype.destroy=function(){this._protected||this.reset()},Object.defineProperty(e,"shared",{get:function(){var t=e._shared;return t||((t=new e)._protected=!0,e._shared=t),t},enumerable:!1,configurable:!0}),e.registerPlugin=function(t){return e._plugins.push(t),t.add&&t.add(),e},e._plugins=[],e}(Kc);Qc.registerPlugin({use:Vc.parsing}),Qc.registerPlugin($c);var th=function(){function t(){}return t.init=function(t){t=Object.assign({sharedLoader:!1},t),this.loader=t.sharedLoader?Qc.shared:new Qc},t.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},t}(),eh=function(t,e){return(eh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function rh(t,e){function r(){this.constructor=t}eh(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var nh,ih,oh=function(t){function e(e,r,n,i){void 0===e&&(e=1500),void 0===n&&(n=16384),void 0===i&&(i=!1);var o=t.call(this)||this;return n>16384&&(n=16384),o._properties=[!1,!0,!1,!1,!1],o._maxSize=e,o._batchSize=n,o._buffers=null,o._bufferUpdateIDs=[],o._updateID=0,o.interactiveChildren=!1,o.blendMode=is.NORMAL,o.autoResize=i,o.roundPixels=!0,o.baseTexture=null,o.setProperties(r),o._tint=0,o.tintRgb=new Float32Array(4),o.tint=16777215,o}return rh(e,t),e.prototype.setProperties=function(t){t&&(this._properties[0]="vertices"in t||"scale"in t?!!t.vertices||!!t.scale:this._properties[0],this._properties[1]="position"in t?!!t.position:this._properties[1],this._properties[2]="rotation"in t?!!t.rotation:this._properties[2],this._properties[3]="uvs"in t?!!t.uvs:this._properties[3],this._properties[4]="tint"in t||"alpha"in t?!!t.tint||!!t.alpha:this._properties[4])},e.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(t){this._tint=t,Ys(t,this.tintRgb)},enumerable:!1,configurable:!0}),e.prototype.render=function(t){var e=this;this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable&&(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",(function(){return e.onChildrenChange(0)}))),t.batch.setObjectRenderer(t.plugins.particle),t.plugins.particle.render(this))},e.prototype.onChildrenChange=function(t){for(var e=Math.floor(t/this._batchSize);this._bufferUpdateIDs.length<e;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[e]=++this._updateID},e.prototype.dispose=function(){if(this._buffers){for(var t=0;t<this._buffers.length;++t)this._buffers[t].destroy();this._buffers=null}},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null},e}(Qa),sh=function(){function t(t,e,r){this.geometry=new Ju,this.indexBuffer=null,this.size=r,this.dynamicProperties=[],this.staticProperties=[];for(var n=0;n<t.length;++n){var i=t[n];i={attributeName:i.attributeName,size:i.size,uploadFunction:i.uploadFunction,type:i.type||us.FLOAT,offset:i.offset},e[n]?this.dynamicProperties.push(i):this.staticProperties.push(i)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}return t.prototype.initBuffers=function(){var t=this.geometry,e=0;this.indexBuffer=new Gu(ea(this.size),!0,!0),t.addIndex(this.indexBuffer),this.dynamicStride=0;for(var r=0;r<this.dynamicProperties.length;++r)(s=this.dynamicProperties[r]).offset=e,e+=s.size,this.dynamicStride+=s.size;var n=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(n),this.dynamicDataUint32=new Uint32Array(n),this.dynamicBuffer=new Gu(this.dynamicData,!1,!1);var i=0;for(this.staticStride=0,r=0;r<this.staticProperties.length;++r)(s=this.staticProperties[r]).offset=i,i+=s.size,this.staticStride+=s.size;var o=new ArrayBuffer(this.size*this.staticStride*4*4);for(this.staticData=new Float32Array(o),this.staticDataUint32=new Uint32Array(o),this.staticBuffer=new Gu(this.staticData,!0,!1),r=0;r<this.dynamicProperties.length;++r){var s=this.dynamicProperties[r];t.addAttribute(s.attributeName,this.dynamicBuffer,0,s.type===us.UNSIGNED_BYTE,s.type,4*this.dynamicStride,4*s.offset)}for(r=0;r<this.staticProperties.length;++r)s=this.staticProperties[r],t.addAttribute(s.attributeName,this.staticBuffer,0,s.type===us.UNSIGNED_BYTE,s.type,4*this.staticStride,4*s.offset)},t.prototype.uploadDynamic=function(t,e,r){for(var n=0;n<this.dynamicProperties.length;n++){var i=this.dynamicProperties[n];i.uploadFunction(t,e,r,i.type===us.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,i.offset)}this.dynamicBuffer._updateID++},t.prototype.uploadStatic=function(t,e,r){for(var n=0;n<this.staticProperties.length;n++){var i=this.staticProperties[n];i.uploadFunction(t,e,r,i.type===us.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,i.offset)}this.staticBuffer._updateID++},t.prototype.destroy=function(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()},t}(),ah=function(t){function e(e){var r=t.call(this,e)||this;return r.shader=null,r.properties=null,r.tempMatrix=new Ba,r.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:r.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:r.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:r.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:r.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:us.UNSIGNED_BYTE,uploadFunction:r.uploadTint,offset:0}],r.shader=Nl.from("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nattribute vec2 aPositionCoord;\nattribute float aRotation;\n\nuniform mat3 translationMatrix;\nuniform vec4 uColor;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void){\n    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);\n    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);\n\n    vec2 v = vec2(x, y);\n    v = v + aPositionCoord;\n\n    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vColor = aColor * uColor;\n}\n","varying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;\n    gl_FragColor = color;\n}",{}),r.state=Ul.for2d(),r}return rh(e,t),e.prototype.render=function(t){var e=t.children,r=t._maxSize,n=t._batchSize,i=this.renderer,o=e.length;if(0!==o){o>r&&!t.autoResize&&(o=r);var s=t._buffers;s||(s=t._buffers=this.generateBuffers(t));var a=e[0]._texture.baseTexture;this.state.blendMode=Js(t.blendMode,a.alphaMode),i.state.set(this.state);var u=i.gl,l=t.worldTransform.copyTo(this.tempMatrix);l.prepend(i.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=l.toArray(!0),this.shader.uniforms.uColor=$s(t.tintRgb,t.worldAlpha,this.shader.uniforms.uColor,a.alphaMode),this.shader.uniforms.uSampler=a,this.renderer.shader.bind(this.shader);for(var c=!1,h=0,f=0;h<o;h+=n,f+=1){var p=o-h;p>n&&(p=n),f>=s.length&&s.push(this._generateOneMoreBuffer(t));var d=s[f];d.uploadDynamic(e,h,p);var y=t._bufferUpdateIDs[f]||0;(c=c||d._updateID<y)&&(d._updateID=t._updateID,d.uploadStatic(e,h,p)),i.geometry.bind(d.geometry),u.drawElements(u.TRIANGLES,6*p,u.UNSIGNED_SHORT,0)}}},e.prototype.generateBuffers=function(t){for(var e=[],r=t._maxSize,n=t._batchSize,i=t._properties,o=0;o<r;o+=n)e.push(new sh(this.properties,i,n));return e},e.prototype._generateOneMoreBuffer=function(t){var e=t._batchSize,r=t._properties;return new sh(this.properties,r,e)},e.prototype.uploadVertices=function(t,e,r,n,i,o){for(var s=0,a=0,u=0,l=0,c=0;c<r;++c){var h=t[e+c],f=h._texture,p=h.scale.x,d=h.scale.y,y=f.trim,g=f.orig;y?(s=(a=y.x-h.anchor.x*g.width)+y.width,u=(l=y.y-h.anchor.y*g.height)+y.height):(s=g.width*(1-h.anchor.x),a=g.width*-h.anchor.x,u=g.height*(1-h.anchor.y),l=g.height*-h.anchor.y),n[o]=a*p,n[o+1]=l*d,n[o+i]=s*p,n[o+i+1]=l*d,n[o+2*i]=s*p,n[o+2*i+1]=u*d,n[o+3*i]=a*p,n[o+3*i+1]=u*d,o+=4*i}},e.prototype.uploadPosition=function(t,e,r,n,i,o){for(var s=0;s<r;s++){var a=t[e+s].position;n[o]=a.x,n[o+1]=a.y,n[o+i]=a.x,n[o+i+1]=a.y,n[o+2*i]=a.x,n[o+2*i+1]=a.y,n[o+3*i]=a.x,n[o+3*i+1]=a.y,o+=4*i}},e.prototype.uploadRotation=function(t,e,r,n,i,o){for(var s=0;s<r;s++){var a=t[e+s].rotation;n[o]=a,n[o+i]=a,n[o+2*i]=a,n[o+3*i]=a,o+=4*i}},e.prototype.uploadUvs=function(t,e,r,n,i,o){for(var s=0;s<r;++s){var a=t[e+s]._texture._uvs;a?(n[o]=a.x0,n[o+1]=a.y0,n[o+i]=a.x1,n[o+i+1]=a.y1,n[o+2*i]=a.x2,n[o+2*i+1]=a.y2,n[o+3*i]=a.x3,n[o+3*i+1]=a.y3,o+=4*i):(n[o]=0,n[o+1]=0,n[o+i]=0,n[o+i+1]=0,n[o+2*i]=0,n[o+2*i+1]=0,n[o+3*i]=0,n[o+3*i+1]=0,o+=4*i)}},e.prototype.uploadTint=function(t,e,r,n,i,o){for(var s=0;s<r;++s){var a=t[e+s],u=a._texture.baseTexture.alphaMode>0,l=a.alpha,c=l<1&&u?Qs(a._tintRGB,l):a._tintRGB+(255*l<<24);n[o]=c,n[o+i]=c,n[o+2*i]=c,n[o+3*i]=c,o+=4*i}},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null},e}(il);!function(t){t.MITER="miter",t.BEVEL="bevel",t.ROUND="round"}(nh||(nh={})),function(t){t.BUTT="butt",t.ROUND="round",t.SQUARE="square"}(ih||(ih={}));var uh={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount:function(t,e){if(void 0===e&&(e=20),!this.adaptive||!t||isNaN(t))return e;var r=Math.ceil(t/this.maxLength);return r<this.minSegments?r=this.minSegments:r>this.maxSegments&&(r=this.maxSegments),r}},lh=function(){function t(){this.color=16777215,this.alpha=1,this.texture=Nu.WHITE,this.matrix=null,this.visible=!1,this.reset()}return t.prototype.clone=function(){var e=new t;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e},t.prototype.reset=function(){this.color=16777215,this.alpha=1,this.texture=Nu.WHITE,this.matrix=null,this.visible=!1},t.prototype.destroy=function(){this.texture=null,this.matrix=null},t}(),ch=function(t,e){return(ch=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function hh(t,e){function r(){this.constructor=t}ch(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var fh={build:function(t){t.points=t.shape.points.slice()},triangulate:function(t,e){var r=t.points,n=t.holes,i=e.points,o=e.indices;if(r.length>=6){for(var s=[],a=0;a<n.length;a++){var u=n[a];s.push(r.length/2),r=r.concat(u.points)}var l=Ns()(r,s,2);if(!l)return;var c=i.length/2;for(a=0;a<l.length;a+=3)o.push(l[a]+c),o.push(l[a+1]+c),o.push(l[a+2]+c);for(a=0;a<r.length;a++)i.push(r[a])}}},ph={build:function(t){var e,r,n=t.shape,i=t.points,o=n.x,s=n.y;if(i.length=0,t.type===Ta.CIRC)e=n.radius,r=n.radius;else{var a=t.shape;e=a.width,r=a.height}if(0!==e&&0!==r){var u=Math.floor(30*Math.sqrt(n.radius))||Math.floor(15*Math.sqrt(e+r));u/=2.3;for(var l=2*Math.PI/u,c=0;c<u-.5;c++)i.push(o+Math.sin(-l*c)*e,s+Math.cos(-l*c)*r);i.push(i[0],i[1])}},triangulate:function(t,e){var r=t.points,n=e.points,i=e.indices,o=n.length/2,s=o,a=t.shape,u=t.matrix,l=a.x,c=a.y;n.push(t.matrix?u.a*l+u.c*c+u.tx:l,t.matrix?u.b*l+u.d*c+u.ty:c);for(var h=0;h<r.length;h+=2)n.push(r[h],r[h+1]),i.push(o++,s,o)}},dh={build:function(t){var e=t.shape,r=e.x,n=e.y,i=e.width,o=e.height,s=t.points;s.length=0,s.push(r,n,r+i,n,r+i,n+o,r,n+o)},triangulate:function(t,e){var r=t.points,n=e.points,i=n.length/2;n.push(r[0],r[1],r[2],r[3],r[6],r[7],r[4],r[5]),e.indices.push(i,i+1,i+2,i+1,i+2,i+3)}};function yh(t,e,r){return t+(e-t)*r}function gh(t,e,r,n,i,o,s){void 0===s&&(s=[]);for(var a=s,u=0,l=0,c=0,h=0,f=0,p=0,d=0,y=0;d<=20;++d)u=yh(t,r,y=d/20),l=yh(e,n,y),c=yh(r,i,y),h=yh(n,o,y),f=yh(u,c,y),p=yh(l,h,y),a.push(f,p);return a}var mh={build:function(t){var e=t.shape,r=t.points,n=e.x,i=e.y,o=e.width,s=e.height,a=Math.max(0,Math.min(e.radius,Math.min(o,s)/2));r.length=0,a?(gh(n,i+a,n,i,n+a,i,r),gh(n+o-a,i,n+o,i,n+o,i+a,r),gh(n+o,i+s-a,n+o,i+s,n+o-a,i+s,r),gh(n+a,i+s,n,i+s,n,i+s-a,r)):r.push(n,i,n+o,i,n+o,i+s,n,i+s)},triangulate:function(t,e){for(var r=t.points,n=e.points,i=e.indices,o=n.length/2,s=Ns()(r,null,2),a=0,u=s.length;a<u;a+=3)i.push(s[a]+o),i.push(s[a+1]+o),i.push(s[a+2]+o);for(a=0,u=r.length;a<u;a++)n.push(r[a],r[++a])}};function bh(t,e,r,n,i,o,s,a){var u,l;s?(u=n,l=-r):(u=-n,l=r);var c=t-r*i+u,h=e-n*i+l,f=t+r*o+u,p=e+n*o+l;return a.push(c,h),a.push(f,p),2}function vh(t,e,r,n,i,o,s,a){var u=r-t,l=n-e,c=Math.atan2(u,l),h=Math.atan2(i-t,o-e);a&&c<h?c+=2*Math.PI:!a&&c>h&&(h+=2*Math.PI);var f=c,p=h-c,d=Math.abs(p),y=Math.sqrt(u*u+l*l),g=1+(15*d*Math.sqrt(y)/Math.PI>>0),m=p/g;if(f+=m,a){s.push(t,e),s.push(r,n);for(var b=1,v=f;b<g;b++,v+=m)s.push(t,e),s.push(t+Math.sin(v)*y,e+Math.cos(v)*y);s.push(t,e),s.push(i,o)}else{for(s.push(r,n),s.push(t,e),b=1,v=f;b<g;b++,v+=m)s.push(t+Math.sin(v)*y,e+Math.cos(v)*y),s.push(t,e);s.push(i,o),s.push(t,e)}return 2*g}function _h(t,e){t.lineStyle.native?function(t,e){var r=0,n=t.shape,i=t.points||n.points,o=n.type!==Ta.POLY||n.closeStroke;if(0!==i.length){var s=e.points,a=e.indices,u=i.length/2,l=s.length/2,c=l;for(s.push(i[0],i[1]),r=1;r<u;r++)s.push(i[2*r],i[2*r+1]),a.push(c,c+1),c++;o&&a.push(c,l)}}(t,e):function(t,e){var r=t.shape,n=t.points||r.points.slice(),i=e.closePointEps;if(0!==n.length){var o=t.lineStyle,s=new La(n[0],n[1]),a=new La(n[n.length-2],n[n.length-1]),u=r.type!==Ta.POLY||r.closeStroke,l=Math.abs(s.x-a.x)<i&&Math.abs(s.y-a.y)<i;if(u){n=n.slice(),l&&(n.pop(),n.pop(),a.set(n[n.length-2],n[n.length-1]));var c=.5*(s.x+a.x),h=.5*(a.y+s.y);n.unshift(c,h),n.push(c,h)}var f=e.points,p=n.length/2,d=n.length,y=f.length/2,g=o.width/2,m=g*g,b=o.miterLimit*o.miterLimit,v=n[0],_=n[1],w=n[2],x=n[3],O=0,S=0,P=-(_-x),T=v-w,E=0,R=0,A=Math.sqrt(P*P+T*T);P/=A,T/=A,P*=g,T*=g;var I=o.alignment,j=2*(1-I),C=2*I;u||(o.cap===ih.ROUND?d+=vh(v-P*(j-C)*.5,_-T*(j-C)*.5,v-P*j,_-T*j,v+P*C,_+T*C,f,!0)+2:o.cap===ih.SQUARE&&(d+=bh(v,_,P,T,j,C,!0,f))),f.push(v-P*j,_-T*j),f.push(v+P*C,_+T*C);for(var k=1;k<p-1;++k){v=n[2*(k-1)],_=n[2*(k-1)+1],w=n[2*k],x=n[2*k+1],O=n[2*(k+1)],S=n[2*(k+1)+1],P=-(_-x),T=v-w,P/=A=Math.sqrt(P*P+T*T),T/=A,P*=g,T*=g,E=-(x-S),R=w-O,E/=A=Math.sqrt(E*E+R*R),R/=A,E*=g,R*=g;var M=w-v,L=_-x,D=w-O,B=S-x,F=L*D-B*M,N=F<0;if(Math.abs(F)<.1)f.push(w-P*j,x-T*j),f.push(w+P*C,x+T*C);else{var U=(-P+v)*(-T+x)-(-P+w)*(-T+_),W=(-E+O)*(-R+x)-(-E+w)*(-R+S),z=(M*W-D*U)/F,H=(B*U-L*W)/F,X=(z-w)*(z-w)+(H-x)*(H-x),G=w+(z-w)*j,Y=x+(H-x)*j,V=w-(z-w)*C,q=x-(H-x)*C,K=N?j:C;X<=Math.min(M*M+L*L,D*D+B*B)+K*K*m?o.join===nh.BEVEL||X/m>b?(N?(f.push(G,Y),f.push(w+P*C,x+T*C),f.push(G,Y),f.push(w+E*C,x+R*C)):(f.push(w-P*j,x-T*j),f.push(V,q),f.push(w-E*j,x-R*j),f.push(V,q)),d+=2):o.join===nh.ROUND?N?(f.push(G,Y),f.push(w+P*C,x+T*C),d+=vh(w,x,w+P*C,x+T*C,w+E*C,x+R*C,f,!0)+4,f.push(G,Y),f.push(w+E*C,x+R*C)):(f.push(w-P*j,x-T*j),f.push(V,q),d+=vh(w,x,w-P*j,x-T*j,w-E*j,x-R*j,f,!1)+4,f.push(w-E*j,x-R*j),f.push(V,q)):(f.push(G,Y),f.push(V,q)):(f.push(w-P*j,x-T*j),f.push(w+P*C,x+T*C),o.join===nh.BEVEL||X/m>b||(o.join===nh.ROUND?d+=N?vh(w,x,w+P*C,x+T*C,w+E*C,x+R*C,f,!0)+2:vh(w,x,w-P*j,x-T*j,w-E*j,x-R*j,f,!1)+2:(N?(f.push(V,q),f.push(V,q)):(f.push(G,Y),f.push(G,Y)),d+=2)),f.push(w-E*j,x-R*j),f.push(w+E*C,x+R*C),d+=2)}}v=n[2*(p-2)],_=n[2*(p-2)+1],w=n[2*(p-1)],P=-(_-(x=n[2*(p-1)+1])),T=v-w,P/=A=Math.sqrt(P*P+T*T),T/=A,P*=g,T*=g,f.push(w-P*j,x-T*j),f.push(w+P*C,x+T*C),u||(o.cap===ih.ROUND?d+=vh(w-P*(j-C)*.5,x-T*(j-C)*.5,w-P*j,x-T*j,w+P*C,x+T*C,f,!1)+2:o.cap===ih.SQUARE&&(d+=bh(w,x,P,T,j,C,!1,f)));var Z=e.indices,J=uh.epsilon*uh.epsilon;for(k=y;k<d+y-2;++k)v=f[2*k],_=f[2*k+1],w=f[2*(k+1)],x=f[2*(k+1)+1],O=f[2*(k+2)],S=f[2*(k+2)+1],Math.abs(v*(x-S)+w*(S-_)+O*(_-x))<J||Z.push(k,k+1,k+2)}}(t,e)}var wh,xh,Oh=function(t){function e(e,r,n,i,o,s){void 0===s&&(s=0),o=o||i/2;for(var a=-1*Math.PI/2+s,u=2*n,l=Ea/u,c=[],h=0;h<u;h++){var f=h%2?o:i,p=h*l+a;c.push(e+f*Math.cos(p),r+f*Math.sin(p))}return t.call(this,c)||this}return hh(e,t),e}(ka),Sh=function(){function t(){}return t.curveTo=function(t,e,r,n,i,o){var s=o[o.length-2],a=o[o.length-1]-e,u=s-t,l=n-e,c=r-t,h=Math.abs(a*c-u*l);if(h<1e-8||0===i)return o[o.length-2]===t&&o[o.length-1]===e||o.push(t,e),null;var f=a*a+u*u,p=l*l+c*c,d=a*l+u*c,y=i*Math.sqrt(f)/h,g=i*Math.sqrt(p)/h,m=y*d/f,b=g*d/p,v=y*c+g*u,_=y*l+g*a,w=u*(g+m),x=a*(g+m),O=c*(y+b),S=l*(y+b);return{cx:v+t,cy:_+e,radius:i,startAngle:Math.atan2(x-_,w-v),endAngle:Math.atan2(S-_,O-v),anticlockwise:u*l>c*a}},t.arc=function(t,e,r,n,i,o,s,a,u){for(var l=s-o,c=uh._segmentsCount(Math.abs(l)*i,40*Math.ceil(Math.abs(l)/Ea)),h=l/(2*c),f=2*h,p=Math.cos(h),d=Math.sin(h),y=c-1,g=y%1/y,m=0;m<=y;++m){var b=h+o+f*(m+g*m),v=Math.cos(b),_=-Math.sin(b);u.push((p*v+d*_)*i+r,(p*-_+d*v)*i+n)}},t}(),Ph=function(){function t(){}return t.curveLength=function(t,e,r,n,i,o,s,a){for(var u=0,l=0,c=0,h=0,f=0,p=0,d=0,y=0,g=0,m=0,b=0,v=t,_=e,w=1;w<=10;++w)m=v-(y=(d=(p=(f=1-(l=w/10))*f)*f)*t+3*p*l*r+3*f*(c=l*l)*i+(h=c*l)*s),b=_-(g=d*e+3*p*l*n+3*f*c*o+h*a),v=y,_=g,u+=Math.sqrt(m*m+b*b);return u},t.curveTo=function(e,r,n,i,o,s,a){var u=a[a.length-2],l=a[a.length-1];a.length-=2;var c=uh._segmentsCount(t.curveLength(u,l,e,r,n,i,o,s)),h=0,f=0,p=0,d=0,y=0;a.push(u,l);for(var g=1,m=0;g<=c;++g)p=(f=(h=1-(m=g/c))*h)*h,y=(d=m*m)*m,a.push(p*u+3*f*m*e+3*h*d*n+y*o,p*l+3*f*m*r+3*h*d*i+y*s)},t}(),Th=function(){function t(){}return t.curveLength=function(t,e,r,n,i,o){var s=t-2*r+i,a=e-2*n+o,u=2*r-2*t,l=2*n-2*e,c=4*(s*s+a*a),h=4*(s*u+a*l),f=u*u+l*l,p=2*Math.sqrt(c+h+f),d=Math.sqrt(c),y=2*c*d,g=2*Math.sqrt(f),m=h/d;return(y*p+d*h*(p-g)+(4*f*c-h*h)*Math.log((2*d+m+p)/(m+g)))/(4*y)},t.curveTo=function(e,r,n,i,o){for(var s=o[o.length-2],a=o[o.length-1],u=uh._segmentsCount(t.curveLength(s,a,e,r,n,i)),l=0,c=0,h=1;h<=u;++h){var f=h/u;l=s+(e-s)*f,c=a+(r-a)*f,o.push(l+(e+(n-e)*f-l)*f,c+(r+(i-r)*f-c)*f)}},t}(),Eh=function(){function t(){this.reset()}return t.prototype.begin=function(t,e,r){this.reset(),this.style=t,this.start=e,this.attribStart=r},t.prototype.end=function(t,e){this.attribSize=e-this.attribStart,this.size=t-this.start},t.prototype.reset=function(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0},t}(),Rh=((wh={})[Ta.POLY]=fh,wh[Ta.CIRC]=ph,wh[Ta.ELIP]=ph,wh[Ta.RECT]=dh,wh[Ta.RREC]=mh,wh),Ah=[],Ih=[],jh={buildPoly:fh,buildCircle:ph,buildRectangle:dh,buildRoundedRectangle:mh,FILL_COMMANDS:Rh,BATCH_POOL:Ah,DRAW_CALL_POOL:Ih,buildLine:_h,Star:Oh,ArcUtils:Sh,BezierUtils:Ph,QuadraticUtils:Th,BatchPart:Eh},Ch=function(){function t(t,e,r,n){void 0===e&&(e=null),void 0===r&&(r=null),void 0===n&&(n=null),this.shape=t,this.lineStyle=r,this.fillStyle=e,this.matrix=n,this.type=t.type,this.points=[],this.holes=[]}return t.prototype.clone=function(){return new t(this.shape,this.fillStyle,this.lineStyle,this.matrix)},t.prototype.destroy=function(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null},t}(),kh=new La,Mh=new Va,Lh=function(t){function e(){var e=t.call(this)||this;return e.uvsFloat32=null,e.indicesUint16=null,e.points=[],e.colors=[],e.uvs=[],e.indices=[],e.textureIds=[],e.graphicsData=[],e.dirty=0,e.batchDirty=-1,e.cacheDirty=-1,e.clearDirty=0,e.drawCalls=[],e.batches=[],e.shapeIndex=0,e._bounds=new Va,e.boundsDirty=-1,e.boundsPadding=0,e.batchable=!1,e.indicesUint16=null,e.uvsFloat32=null,e.closePointEps=1e-4,e}return hh(e,t),Object.defineProperty(e.prototype,"bounds",{get:function(){return this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds},enumerable:!1,configurable:!0}),e.prototype.invalidate=function(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(var t=0;t<this.drawCalls.length;t++)this.drawCalls[t].texArray.clear(),Ih.push(this.drawCalls[t]);for(this.drawCalls.length=0,t=0;t<this.batches.length;t++){var e=this.batches[t];e.reset(),Ah.push(e)}this.batches.length=0},e.prototype.clear=function(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this},e.prototype.drawShape=function(t,e,r,n){void 0===e&&(e=null),void 0===r&&(r=null),void 0===n&&(n=null);var i=new Ch(t,e,r,n);return this.graphicsData.push(i),this.dirty++,this},e.prototype.drawHole=function(t,e){if(void 0===e&&(e=null),!this.graphicsData.length)return null;var r=new Ch(t,null,null,e),n=this.graphicsData[this.graphicsData.length-1];return r.lineStyle=n.lineStyle,n.holes.push(r),this.dirty++,this},e.prototype.destroy=function(){t.prototype.destroy.call(this);for(var e=0;e<this.graphicsData.length;++e)this.graphicsData[e].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null},e.prototype.containsPoint=function(t){for(var e=this.graphicsData,r=0;r<e.length;++r){var n=e[r];if(n.fillStyle.visible&&n.shape&&(n.matrix?n.matrix.applyInverse(t,kh):kh.copyFrom(t),n.shape.contains(kh.x,kh.y))){var i=!1;if(n.holes)for(var o=0;o<n.holes.length;o++)if(n.holes[o].shape.contains(kh.x,kh.y)){i=!0;break}if(!i)return!0}}return!1},e.prototype.updateBatches=function(t){if(this.graphicsData.length){if(this.validateBatching()){this.cacheDirty=this.dirty;var e=this.uvs,r=this.graphicsData,n=null,i=null;this.batches.length>0&&(i=(n=this.batches[this.batches.length-1]).style);for(var o=this.shapeIndex;o<r.length;o++){this.shapeIndex++;var s=r[o],a=s.fillStyle,u=s.lineStyle;Rh[s.type].build(s),s.matrix&&this.transformPoints(s.points,s.matrix);for(var l=0;l<2;l++){var c=0===l?a:u;if(c.visible){var h=c.texture.baseTexture,f=this.indices.length,p=this.points.length/2;h.wrapMode=cs.REPEAT,0===l?this.processFill(s):this.processLine(s);var d=this.points.length/2-p;0!==d&&(n&&!this._compareStyles(i,c)&&(n.end(f,p),n=null),n||((n=Ah.pop()||new Eh).begin(c,f,p),this.batches.push(n),i=c),this.addUvs(this.points,e,c.texture,p,d,c.matrix))}}}var y=this.indices.length,g=this.points.length/2;if(n&&n.end(y,g),0!==this.batches.length){if(this.indicesUint16&&this.indices.length===this.indicesUint16.length)this.indicesUint16.set(this.indices);else{var m=g>65535&&t;this.indicesUint16=m?new Uint32Array(this.indices):new Uint16Array(this.indices)}this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}else this.batchable=!0}}else this.batchable=!0},e.prototype._compareStyles=function(t,e){return!(!t||!e)&&t.texture.baseTexture===e.texture.baseTexture&&t.color+t.alpha===e.color+e.alpha&&!!t.native==!!e.native},e.prototype.validateBatching=function(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(var t=0,e=this.graphicsData.length;t<e;t++){var r=this.graphicsData[t],n=r.fillStyle,i=r.lineStyle;if(n&&!n.texture.baseTexture.valid)return!1;if(i&&!i.texture.baseTexture.valid)return!1}return!0},e.prototype.packBatches=function(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);for(var t=this.batches,e=0,r=t.length;e<r;e++)for(var n=t[e],i=0;i<n.size;i++){var o=n.start+i;this.indicesUint16[o]=this.indicesUint16[o]-n.attribStart}},e.prototype.isBatchable=function(){if(this.points.length>131070)return!1;for(var t=this.batches,r=0;r<t.length;r++)if(t[r].style.native)return!1;return this.points.length<2*e.BATCHABLE_SIZE},e.prototype.buildDrawCalls=function(){for(var t=++xu._globalBatch,e=0;e<this.drawCalls.length;e++)this.drawCalls[e].texArray.clear(),Ih.push(this.drawCalls[e]);this.drawCalls.length=0;var r=this.colors,n=this.textureIds,i=Ih.pop();i||((i=new gc).texArray=new mc),i.texArray.count=0,i.start=0,i.size=0,i.type=os.TRIANGLES;var o=0,s=null,a=0,u=!1,l=os.TRIANGLES,c=0;for(this.drawCalls.push(i),e=0;e<this.batches.length;e++){var h=this.batches[e],f=h.style,p=f.texture.baseTexture;u!==!!f.native&&(l=(u=!!f.native)?os.LINES:os.TRIANGLES,s=null,o=8,t++),s!==p&&(s=p,p._batchEnabled!==t&&(8===o&&(t++,o=0,i.size>0&&((i=Ih.pop())||((i=new gc).texArray=new mc),this.drawCalls.push(i)),i.start=c,i.size=0,i.texArray.count=0,i.type=l),p.touched=1,p._batchEnabled=t,p._batchLocation=o,p.wrapMode=10497,i.texArray.elements[i.texArray.count++]=p,o++)),i.size+=h.size,c+=h.size,a=p._batchLocation,this.addColors(r,f.color,f.alpha,h.attribSize),this.addTextureIds(n,a,h.attribSize)}xu._globalBatch=t,this.packAttributes()},e.prototype.packAttributes=function(){for(var t=this.points,e=this.uvs,r=this.colors,n=this.textureIds,i=new ArrayBuffer(3*t.length*4),o=new Float32Array(i),s=new Uint32Array(i),a=0,u=0;u<t.length/2;u++)o[a++]=t[2*u],o[a++]=t[2*u+1],o[a++]=e[2*u],o[a++]=e[2*u+1],s[a++]=r[u],o[a++]=n[u];this._buffer.update(i),this._indexBuffer.update(this.indicesUint16)},e.prototype.processFill=function(t){t.holes.length?(this.processHoles(t.holes),fh.triangulate(t,this)):Rh[t.type].triangulate(t,this)},e.prototype.processLine=function(t){_h(t,this);for(var e=0;e<t.holes.length;e++)_h(t.holes[e],this)},e.prototype.processHoles=function(t){for(var e=0;e<t.length;e++){var r=t[e];Rh[r.type].build(r),r.matrix&&this.transformPoints(r.points,r.matrix)}},e.prototype.calculateBounds=function(){var t=this._bounds,e=Mh,r=Ba.IDENTITY;this._bounds.clear(),e.clear();for(var n=0;n<this.graphicsData.length;n++){var i=this.graphicsData[n],o=i.shape,s=i.type,a=i.lineStyle,u=i.matrix||Ba.IDENTITY,l=0;if(a&&a.visible){var c=a.alignment;l=a.width,s===Ta.POLY?l*=.5+Math.abs(.5-c):l*=Math.max(0,c)}if(r!==u&&(e.isEmpty()||(t.addBoundsMatrix(e,r),e.clear()),r=u),s===Ta.RECT||s===Ta.RREC){var h=o;e.addFramePad(h.x,h.y,h.x+h.width,h.y+h.height,l,l)}else if(s===Ta.CIRC){var f=o;e.addFramePad(f.x,f.y,f.x,f.y,f.radius+l,f.radius+l)}else if(s===Ta.ELIP){var p=o;e.addFramePad(p.x,p.y,p.x,p.y,p.width+l,p.height+l)}else{var d=o;t.addVerticesMatrix(r,d.points,0,d.points.length,l,l)}}e.isEmpty()||t.addBoundsMatrix(e,r),t.pad(this.boundsPadding,this.boundsPadding)},e.prototype.transformPoints=function(t,e){for(var r=0;r<t.length/2;r++){var n=t[2*r],i=t[2*r+1];t[2*r]=e.a*n+e.c*i+e.tx,t[2*r+1]=e.b*n+e.d*i+e.ty}},e.prototype.addColors=function(t,e,r,n){for(var i=Qs((e>>16)+(65280&e)+((255&e)<<16),r);n-- >0;)t.push(i)},e.prototype.addTextureIds=function(t,e,r){for(;r-- >0;)t.push(e)},e.prototype.addUvs=function(t,e,r,n,i,o){void 0===o&&(o=null);for(var s=0,a=e.length,u=r.frame;s<i;){var l=t[2*(n+s)],c=t[2*(n+s)+1];if(o){var h=o.a*l+o.c*c+o.tx;c=o.b*l+o.d*c+o.ty,l=h}s++,e.push(l/u.width,c/u.height)}var f=r.baseTexture;(u.width<f.width||u.height<f.height)&&this.adjustUvs(e,r,a,i)},e.prototype.adjustUvs=function(t,e,r,n){for(var i=e.baseTexture,o=1e-6,s=r+2*n,a=e.frame,u=a.width/i.width,l=a.height/i.height,c=a.x/a.width,h=a.y/a.height,f=Math.floor(t[r]+o),p=Math.floor(t[r+1]+o),d=r+2;d<s;d+=2)f=Math.min(f,Math.floor(t[d]+o)),p=Math.min(p,Math.floor(t[d+1]+o));for(c-=f,h-=p,d=r;d<s;d+=2)t[d]=(t[d]+c)*u,t[d+1]=(t[d+1]+h)*l},e.BATCHABLE_SIZE=100,e}(wc),Dh=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.width=0,e.alignment=.5,e.native=!1,e.cap=ih.BUTT,e.join=nh.MITER,e.miterLimit=10,e}return hh(e,t),e.prototype.clone=function(){var t=new e;return t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.matrix=this.matrix,t.visible=this.visible,t.width=this.width,t.alignment=this.alignment,t.native=this.native,t.cap=this.cap,t.join=this.join,t.miterLimit=this.miterLimit,t},e.prototype.reset=function(){t.prototype.reset.call(this),this.color=0,this.alignment=.5,this.width=0,this.native=!1},e}(lh),Bh=new Float32Array(3),Fh={},Nh=function(t){function e(e){void 0===e&&(e=null);var r=t.call(this)||this;return r._geometry=e||new Lh,r._geometry.refCount++,r.shader=null,r.state=Ul.for2d(),r._fillStyle=new lh,r._lineStyle=new Dh,r._matrix=null,r._holeMode=!1,r.currentPath=null,r.batches=[],r.batchTint=-1,r.batchDirty=-1,r.vertexData=null,r.pluginName="batch",r._transformID=-1,r.tint=16777215,r.blendMode=is.NORMAL,r}return hh(e,t),Object.defineProperty(e.prototype,"geometry",{get:function(){return this._geometry},enumerable:!1,configurable:!0}),e.prototype.clone=function(){return this.finishPoly(),new e(this._geometry)},Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(t){this.state.blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(t){this._tint=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fill",{get:function(){return this._fillStyle},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"line",{get:function(){return this._lineStyle},enumerable:!1,configurable:!0}),e.prototype.lineStyle=function(t){if(void 0===t&&(t=null),"number"==typeof t){var e=arguments;t={width:e[0]||0,color:e[1]||0,alpha:void 0!==e[2]?e[2]:1,alignment:void 0!==e[3]?e[3]:.5,native:!!e[4]}}return this.lineTextureStyle(t)},e.prototype.lineTextureStyle=function(t){if("number"==typeof t){pa("v5.2.0","Please use object-based options for Graphics#lineTextureStyle");var e=arguments,r=e[0],n=e[1],i=e[2],o=e[3],s=e[4],a=e[5],u=e[6];t={width:r,texture:n,color:i,alpha:o,matrix:s,alignment:a,native:u},Object.keys(t).forEach((function(e){return void 0===t[e]&&delete t[e]}))}t=Object.assign({width:0,texture:Nu.WHITE,color:t&&t.texture?16777215:0,alpha:1,matrix:null,alignment:.5,native:!1,cap:ih.BUTT,join:nh.MITER,miterLimit:10},t),this.currentPath&&this.startPoly();var l=t.width>0&&t.alpha>0;return l?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._lineStyle,{visible:l},t)):this._lineStyle.reset(),this},e.prototype.startPoly=function(){if(this.currentPath){var t=this.currentPath.points,e=this.currentPath.points.length;e>2&&(this.drawShape(this.currentPath),this.currentPath=new ka,this.currentPath.closeStroke=!1,this.currentPath.points.push(t[e-2],t[e-1]))}else this.currentPath=new ka,this.currentPath.closeStroke=!1},e.prototype.finishPoly=function(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)},e.prototype.moveTo=function(t,e){return this.startPoly(),this.currentPath.points[0]=t,this.currentPath.points[1]=e,this},e.prototype.lineTo=function(t,e){this.currentPath||this.moveTo(0,0);var r=this.currentPath.points,n=r[r.length-2],i=r[r.length-1];return n===t&&i===e||r.push(t,e),this},e.prototype._initCurve=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.currentPath?0===this.currentPath.points.length&&(this.currentPath.points=[t,e]):this.moveTo(t,e)},e.prototype.quadraticCurveTo=function(t,e,r,n){this._initCurve();var i=this.currentPath.points;return 0===i.length&&this.moveTo(0,0),Th.curveTo(t,e,r,n,i),this},e.prototype.bezierCurveTo=function(t,e,r,n,i,o){return this._initCurve(),Ph.curveTo(t,e,r,n,i,o,this.currentPath.points),this},e.prototype.arcTo=function(t,e,r,n,i){this._initCurve(t,e);var o=this.currentPath.points,s=Sh.curveTo(t,e,r,n,i,o);if(s){var a=s.cx,u=s.cy,l=s.radius,c=s.startAngle,h=s.endAngle,f=s.anticlockwise;this.arc(a,u,l,c,h,f)}return this},e.prototype.arc=function(t,e,r,n,i,o){if(void 0===o&&(o=!1),n===i)return this;if(!o&&i<=n?i+=Ea:o&&n<=i&&(n+=Ea),0==i-n)return this;var s=t+Math.cos(n)*r,a=e+Math.sin(n)*r,u=this._geometry.closePointEps,l=this.currentPath?this.currentPath.points:null;if(l){var c=Math.abs(l[l.length-2]-s),h=Math.abs(l[l.length-1]-a);c<u&&h<u||l.push(s,a)}else this.moveTo(s,a),l=this.currentPath.points;return Sh.arc(s,a,t,e,r,n,i,o,l),this},e.prototype.beginFill=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=1),this.beginTextureFill({texture:Nu.WHITE,color:t,alpha:e})},e.prototype.beginTextureFill=function(t){if(t instanceof Nu){pa("v5.2.0","Please use object-based options for Graphics#beginTextureFill");var e=arguments,r=e[0],n=e[1],i=e[2],o=e[3];t={texture:r,color:n,alpha:i,matrix:o},Object.keys(t).forEach((function(e){return void 0===t[e]&&delete t[e]}))}t=Object.assign({texture:Nu.WHITE,color:16777215,alpha:1,matrix:null},t),this.currentPath&&this.startPoly();var s=t.alpha>0;return s?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._fillStyle,{visible:s},t)):this._fillStyle.reset(),this},e.prototype.endFill=function(){return this.finishPoly(),this._fillStyle.reset(),this},e.prototype.drawRect=function(t,e,r,n){return this.drawShape(new Ia(t,e,r,n))},e.prototype.drawRoundedRect=function(t,e,r,n,i){return this.drawShape(new Ma(t,e,r,n,i))},e.prototype.drawCircle=function(t,e,r){return this.drawShape(new ja(t,e,r))},e.prototype.drawEllipse=function(t,e,r,n){return this.drawShape(new Ca(t,e,r,n))},e.prototype.drawPolygon=function(){for(var t,e=arguments,r=[],n=0;n<arguments.length;n++)r[n]=e[n];var i=!0,o=r[0];o.points?(i=o.closeStroke,t=o.points):t=Array.isArray(r[0])?r[0]:r;var s=new ka(t);return s.closeStroke=i,this.drawShape(s),this},e.prototype.drawShape=function(t){return this._holeMode?this._geometry.drawHole(t,this._matrix):this._geometry.drawShape(t,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this},e.prototype.drawStar=function(t,e,r,n,i,o){return void 0===o&&(o=0),this.drawPolygon(new Oh(t,e,r,n,i,o))},e.prototype.clear=function(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this},e.prototype.isFastRect=function(){var t=this._geometry.graphicsData;return 1===t.length&&t[0].shape.type===Ta.RECT&&!(t[0].lineStyle.visible&&t[0].lineStyle.width)},e.prototype._render=function(t){this.finishPoly();var e=this._geometry,r=t.context.supports.uint32Indices;e.updateBatches(r),e.batchable?(this.batchDirty!==e.batchDirty&&this._populateBatches(),this._renderBatched(t)):(t.batch.flush(),this._renderDirect(t))},e.prototype._populateBatches=function(){var t=this._geometry,e=this.blendMode,r=t.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=t.batchDirty,this.batches.length=r,this.vertexData=new Float32Array(t.points);for(var n=0;n<r;n++){var i=t.batches[n],o=i.style.color,s=new Float32Array(this.vertexData.buffer,4*i.attribStart*2,2*i.attribSize),a=new Float32Array(t.uvsFloat32.buffer,4*i.attribStart*2,2*i.attribSize),u={vertexData:s,blendMode:e,indices:new Uint16Array(t.indicesUint16.buffer,2*i.start,i.size),uvs:a,_batchRGB:Ys(o),_tintRGB:o,_texture:i.style.texture,alpha:i.style.alpha,worldAlpha:1};this.batches[n]=u}},e.prototype._renderBatched=function(t){if(this.batches.length){t.batch.setObjectRenderer(t.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(var e=0,r=this.batches.length;e<r;e++){var n=this.batches[e];n.worldAlpha=this.worldAlpha*n.alpha,t.plugins[this.pluginName].render(n)}}},e.prototype._renderDirect=function(t){var e=this._resolveDirectShader(t),r=this._geometry,n=this.tint,i=this.worldAlpha,o=e.uniforms,s=r.drawCalls;o.translationMatrix=this.transform.worldTransform,o.tint[0]=(n>>16&255)/255*i,o.tint[1]=(n>>8&255)/255*i,o.tint[2]=(255&n)/255*i,o.tint[3]=i,t.shader.bind(e),t.geometry.bind(r,e),t.state.set(this.state);for(var a=0,u=s.length;a<u;a++)this._renderDrawCallDirect(t,r.drawCalls[a])},e.prototype._renderDrawCallDirect=function(t,e){for(var r=e.texArray,n=e.type,i=e.size,o=e.start,s=r.count,a=0;a<s;a++)t.texture.bind(r.elements[a],a);t.geometry.draw(n,i,o)},e.prototype._resolveDirectShader=function(t){var e=this.shader,r=this.pluginName;if(!e){if(!Fh[r]){for(var n=t.plugins.batch.MAX_TEXTURES,i=new Int32Array(n),o=0;o<n;o++)i[o]=o;var s={tint:new Float32Array([1,1,1,1]),translationMatrix:new Ba,default:el.from({uSamplers:i},!0)},a=t.plugins[r]._shader.program;Fh[r]=new Nl(a,s)}e=Fh[r]}return e},e.prototype._calculateBounds=function(){this.finishPoly();var t=this._geometry;if(t.graphicsData.length){var e=t.bounds,r=e.minX,n=e.minY,i=e.maxX,o=e.maxY;this._bounds.addFrame(this.transform,r,n,i,o)}},e.prototype.containsPoint=function(t){return this.worldTransform.applyInverse(t,e._TEMP_POINT),this._geometry.containsPoint(e._TEMP_POINT)},e.prototype.calculateTints=function(){if(this.batchTint!==this.tint){this.batchTint=this.tint;for(var t=Ys(this.tint,Bh),e=0;e<this.batches.length;e++){var r=this.batches[e],n=r._batchRGB,i=(t[0]*n[0]*255<<16)+(t[1]*n[1]*255<<8)+(0|t[2]*n[2]*255);r._tintRGB=(i>>16)+(65280&i)+((255&i)<<16)}}},e.prototype.calculateVertices=function(){var t=this.transform._worldID;if(this._transformID!==t){this._transformID=t;for(var e=this.transform.worldTransform,r=e.a,n=e.b,i=e.c,o=e.d,s=e.tx,a=e.ty,u=this._geometry.points,l=this.vertexData,c=0,h=0;h<u.length;h+=2){var f=u[h],p=u[h+1];l[c++]=r*f+i*p+s,l[c++]=o*p+n*f+a}}},e.prototype.closePath=function(){var t=this.currentPath;return t&&(t.closeStroke=!0),this},e.prototype.setMatrix=function(t){return this._matrix=t,this},e.prototype.beginHole=function(){return this.finishPoly(),this._holeMode=!0,this},e.prototype.endHole=function(){return this.finishPoly(),this._holeMode=!1,this},e.prototype.destroy=function(e){this._geometry.refCount--,0===this._geometry.refCount&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,t.prototype.destroy.call(this,e)},e._TEMP_POINT=new La,e}(Qa),Uh=function(t,e){return(Uh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},Wh=new La,zh=new Uint16Array([0,1,2,0,2,3]),Hh=function(t){function e(e){var r=t.call(this)||this;return r._anchor=new Da(r._onAnchorUpdate,r,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),r._texture=null,r._width=0,r._height=0,r._tint=null,r._tintRGB=null,r.tint=16777215,r.blendMode=is.NORMAL,r._cachedTint=16777215,r.uvs=null,r.texture=e||Nu.EMPTY,r.vertexData=new Float32Array(8),r.vertexTrimmedData=null,r._transformID=-1,r._textureID=-1,r._transformTrimmedID=-1,r._textureTrimmedID=-1,r.indices=zh,r.pluginName="batch",r.isSprite=!0,r._roundPixels=Ls.ROUND_PIXELS,r}return function(t,e){function r(){this.constructor=t}Uh(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}(e,t),e.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=la(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=la(this.scale.y)*this._height/this._texture.orig.height)},e.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},e.prototype.calculateVertices=function(){var t=this._texture;if(this._transformID!==this.transform._worldID||this._textureID!==t._updateID){this._textureID!==t._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=t._updateID;var e=this.transform.worldTransform,r=e.a,n=e.b,i=e.c,o=e.d,s=e.tx,a=e.ty,u=this.vertexData,l=t.trim,c=t.orig,h=this._anchor,f=0,p=0,d=0,y=0;if(l?(f=(p=l.x-h._x*c.width)+l.width,d=(y=l.y-h._y*c.height)+l.height):(f=(p=-h._x*c.width)+c.width,d=(y=-h._y*c.height)+c.height),u[0]=r*p+i*y+s,u[1]=o*y+n*p+a,u[2]=r*f+i*y+s,u[3]=o*y+n*f+a,u[4]=r*f+i*d+s,u[5]=o*d+n*f+a,u[6]=r*p+i*d+s,u[7]=o*d+n*p+a,this._roundPixels)for(var g=Ls.RESOLUTION,m=0;m<u.length;++m)u[m]=Math.round((u[m]*g|0)/g)}},e.prototype.calculateTrimmedVertices=function(){if(this.vertexTrimmedData){if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return}else this.vertexTrimmedData=new Float32Array(8);this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var t=this._texture,e=this.vertexTrimmedData,r=t.orig,n=this._anchor,i=this.transform.worldTransform,o=i.a,s=i.b,a=i.c,u=i.d,l=i.tx,c=i.ty,h=-n._x*r.width,f=h+r.width,p=-n._y*r.height,d=p+r.height;e[0]=o*h+a*p+l,e[1]=u*p+s*h+c,e[2]=o*f+a*p+l,e[3]=u*p+s*f+c,e[4]=o*f+a*d+l,e[5]=u*d+s*f+c,e[6]=o*h+a*d+l,e[7]=u*d+s*h+c},e.prototype._render=function(t){this.calculateVertices(),t.batch.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this)},e.prototype._calculateBounds=function(){var t=this._texture.trim,e=this._texture.orig;!t||t.width===e.width&&t.height===e.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},e.prototype.getLocalBounds=function(e){return 0===this.children.length?(this._bounds.minX=this._texture.orig.width*-this._anchor._x,this._bounds.minY=this._texture.orig.height*-this._anchor._y,this._bounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._bounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new Ia),e=this._localBoundsRect),this._bounds.getRectangle(e)):t.prototype.getLocalBounds.call(this,e)},e.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,Wh);var e=this._texture.orig.width,r=this._texture.orig.height,n=-e*this.anchor.x,i=0;return Wh.x>=n&&Wh.x<n+e&&(i=-r*this.anchor.y,Wh.y>=i&&Wh.y<i+r)},e.prototype.destroy=function(e){if(t.prototype.destroy.call(this,e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,"boolean"==typeof e?e:e&&e.texture){var r="boolean"==typeof e?e:e&&e.baseTexture;this._texture.destroy(!!r)}this._texture=null},e.from=function(t,r){return new e(t instanceof Nu?t:Nu.from(t,r))},Object.defineProperty(e.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(t){this._roundPixels!==t&&(this._transformID=-1),this._roundPixels=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(t){var e=la(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(t){var e=la(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"anchor",{get:function(){return this._anchor},set:function(t){this._anchor.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(t){this._tint=t,this._tintRGB=(t>>16)+(65280&t)+((255&t)<<16)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"texture",{get:function(){return this._texture},set:function(t){this._texture!==t&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=t||Nu.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,t&&(t.baseTexture.valid?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))},enumerable:!1,configurable:!0}),e}(Qa),Xh=function(t,e){return(Xh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};!function(t){t[t.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",t[t.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL"}(xh||(xh={}));var Gh={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:xh.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},Yh=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],Vh=function(){function t(t){this.styleID=0,this.reset(),Zh(this,t,t)}return t.prototype.clone=function(){var e={};return Zh(e,this,Gh),new t(e)},t.prototype.reset=function(){Zh(this,Gh,Gh)},Object.defineProperty(t.prototype,"align",{get:function(){return this._align},set:function(t){this._align!==t&&(this._align=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"breakWords",{get:function(){return this._breakWords},set:function(t){this._breakWords!==t&&(this._breakWords=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadow",{get:function(){return this._dropShadow},set:function(t){this._dropShadow!==t&&(this._dropShadow=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowAlpha",{get:function(){return this._dropShadowAlpha},set:function(t){this._dropShadowAlpha!==t&&(this._dropShadowAlpha=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowAngle",{get:function(){return this._dropShadowAngle},set:function(t){this._dropShadowAngle!==t&&(this._dropShadowAngle=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowBlur",{get:function(){return this._dropShadowBlur},set:function(t){this._dropShadowBlur!==t&&(this._dropShadowBlur=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowColor",{get:function(){return this._dropShadowColor},set:function(t){var e=Kh(t);this._dropShadowColor!==e&&(this._dropShadowColor=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowDistance",{get:function(){return this._dropShadowDistance},set:function(t){this._dropShadowDistance!==t&&(this._dropShadowDistance=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fill",{get:function(){return this._fill},set:function(t){var e=Kh(t);this._fill!==e&&(this._fill=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fillGradientType",{get:function(){return this._fillGradientType},set:function(t){this._fillGradientType!==t&&(this._fillGradientType=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fillGradientStops",{get:function(){return this._fillGradientStops},set:function(t){(function(t,e){if(!Array.isArray(t)||!Array.isArray(e))return!1;if(t.length!==e.length)return!1;for(var r=0;r<t.length;++r)if(t[r]!==e[r])return!1;return!0})(this._fillGradientStops,t)||(this._fillGradientStops=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(t){this.fontFamily!==t&&(this._fontFamily=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontSize",{get:function(){return this._fontSize},set:function(t){this._fontSize!==t&&(this._fontSize=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(t){this._fontStyle!==t&&(this._fontStyle=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontVariant",{get:function(){return this._fontVariant},set:function(t){this._fontVariant!==t&&(this._fontVariant=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(t){this._fontWeight!==t&&(this._fontWeight=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(t){this._lineHeight!==t&&(this._lineHeight=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leading",{get:function(){return this._leading},set:function(t){this._leading!==t&&(this._leading=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lineJoin",{get:function(){return this._lineJoin},set:function(t){this._lineJoin!==t&&(this._lineJoin=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"miterLimit",{get:function(){return this._miterLimit},set:function(t){this._miterLimit!==t&&(this._miterLimit=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"padding",{get:function(){return this._padding},set:function(t){this._padding!==t&&(this._padding=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"stroke",{get:function(){return this._stroke},set:function(t){var e=Kh(t);this._stroke!==e&&(this._stroke=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"strokeThickness",{get:function(){return this._strokeThickness},set:function(t){this._strokeThickness!==t&&(this._strokeThickness=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textBaseline",{get:function(){return this._textBaseline},set:function(t){this._textBaseline!==t&&(this._textBaseline=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"trim",{get:function(){return this._trim},set:function(t){this._trim!==t&&(this._trim=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"whiteSpace",{get:function(){return this._whiteSpace},set:function(t){this._whiteSpace!==t&&(this._whiteSpace=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wordWrap",{get:function(){return this._wordWrap},set:function(t){this._wordWrap!==t&&(this._wordWrap=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wordWrapWidth",{get:function(){return this._wordWrapWidth},set:function(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.styleID++)},enumerable:!1,configurable:!0}),t.prototype.toFontString=function(){var t="number"==typeof this.fontSize?this.fontSize+"px":this.fontSize,e=this.fontFamily;Array.isArray(this.fontFamily)||(e=this.fontFamily.split(","));for(var r=e.length-1;r>=0;r--){var n=e[r].trim();!/([\"\'])[^\'\"]+\1/.test(n)&&Yh.indexOf(n)<0&&(n='"'+n+'"'),e[r]=n}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+t+" "+e.join(",")},t}();function qh(t){return"number"==typeof t?Vs(t):("string"==typeof t&&0===t.indexOf("0x")&&(t=t.replace("0x","#")),t)}function Kh(t){if(Array.isArray(t)){for(var e=0;e<t.length;++e)t[e]=qh(t[e]);return t}return qh(t)}function Zh(t,e,r){for(var n in r)Array.isArray(e[n])?t[n]=e[n].slice():t[n]=e[n]}var Jh=function(){function t(t,e,r,n,i,o,s,a,u){this.text=t,this.style=e,this.width=r,this.height=n,this.lines=i,this.lineWidths=o,this.lineHeight=s,this.maxLineWidth=a,this.fontProperties=u}return t.measureText=function(e,r,n,i){void 0===i&&(i=t._canvas),n=null==n?r.wordWrap:n;var o=r.toFontString(),s=t.measureFont(o);0===s.fontSize&&(s.fontSize=r.fontSize,s.ascent=r.fontSize);var a=i.getContext("2d");a.font=o;for(var u=(n?t.wordWrap(e,r,i):e).split(/(?:\r\n|\r|\n)/),l=new Array(u.length),c=0,h=0;h<u.length;h++){var f=a.measureText(u[h]).width+(u[h].length-1)*r.letterSpacing;l[h]=f,c=Math.max(c,f)}var p=c+r.strokeThickness;r.dropShadow&&(p+=r.dropShadowDistance);var d=r.lineHeight||s.fontSize+r.strokeThickness,y=Math.max(d,s.fontSize+r.strokeThickness)+(u.length-1)*(d+r.leading);return r.dropShadow&&(y+=r.dropShadowDistance),new t(e,r,p,y,u,l,d+r.leading,c,s)},t.wordWrap=function(e,r,n){void 0===n&&(n=t._canvas);for(var i=n.getContext("2d"),o=0,s="",a="",u=Object.create(null),l=r.letterSpacing,c=r.whiteSpace,h=t.collapseSpaces(c),f=t.collapseNewlines(c),p=!h,d=r.wordWrapWidth+l,y=t.tokenize(e),g=0;g<y.length;g++){var m=y[g];if(t.isNewline(m)){if(!f){a+=t.addLine(s),p=!h,s="",o=0;continue}m=" "}if(h){var b=t.isBreakingSpace(m),v=t.isBreakingSpace(s[s.length-1]);if(b&&v)continue}var _=t.getFromCache(m,l,u,i);if(_>d)if(""!==s&&(a+=t.addLine(s),s="",o=0),t.canBreakWords(m,r.breakWords))for(var w=t.wordWrapSplit(m),x=0;x<w.length;x++){for(var O=w[x],S=1;w[x+S];){var P=w[x+S],T=O[O.length-1];if(t.canBreakChars(T,P,m,x,r.breakWords))break;O+=P,S++}x+=O.length-1;var E=t.getFromCache(O,l,u,i);E+o>d&&(a+=t.addLine(s),p=!1,s="",o=0),s+=O,o+=E}else{s.length>0&&(a+=t.addLine(s),s="",o=0);var R=g===y.length-1;a+=t.addLine(m,!R),p=!1,s="",o=0}else _+o>d&&(p=!1,a+=t.addLine(s),s="",o=0),(s.length>0||!t.isBreakingSpace(m)||p)&&(s+=m,o+=_)}return a+t.addLine(s,!1)},t.addLine=function(e,r){return void 0===r&&(r=!0),e=t.trimRight(e),r?e+"\n":e},t.getFromCache=function(t,e,r,n){var i=r[t];if("number"!=typeof i){var o=t.length*e;i=n.measureText(t).width+o,r[t]=i}return i},t.collapseSpaces=function(t){return"normal"===t||"pre-line"===t},t.collapseNewlines=function(t){return"normal"===t},t.trimRight=function(e){if("string"!=typeof e)return"";for(var r=e.length-1;r>=0;r--){var n=e[r];if(!t.isBreakingSpace(n))break;e=e.slice(0,-1)}return e},t.isNewline=function(e){return"string"==typeof e&&t._newlines.indexOf(e.charCodeAt(0))>=0},t.isBreakingSpace=function(e){return"string"==typeof e&&t._breakingSpaces.indexOf(e.charCodeAt(0))>=0},t.tokenize=function(e){var r=[],n="";if("string"!=typeof e)return r;for(var i=0;i<e.length;i++){var o=e[i];t.isBreakingSpace(o)||t.isNewline(o)?(""!==n&&(r.push(n),n=""),r.push(o)):n+=o}return""!==n&&r.push(n),r},t.canBreakWords=function(t,e){return e},t.canBreakChars=function(t,e,r,n,i){return!0},t.wordWrapSplit=function(t){return t.split("")},t.measureFont=function(e){if(t._fonts[e])return t._fonts[e];var r={ascent:0,descent:0,fontSize:0},n=t._canvas,i=t._context;i.font=e;var o=t.METRICS_STRING+t.BASELINE_SYMBOL,s=Math.ceil(i.measureText(o).width),a=Math.ceil(i.measureText(t.BASELINE_SYMBOL).width),u=2*a;a=a*t.BASELINE_MULTIPLIER|0,n.width=s,n.height=u,i.fillStyle="#f00",i.fillRect(0,0,s,u),i.font=e,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(o,0,a);var l=i.getImageData(0,0,s,u).data,c=l.length,h=4*s,f=0,p=0,d=!1;for(f=0;f<a;++f){for(var y=0;y<h;y+=4)if(255!==l[p+y]){d=!0;break}if(d)break;p+=h}for(r.ascent=a-f,p=c-h,d=!1,f=u;f>a;--f){for(y=0;y<h;y+=4)if(255!==l[p+y]){d=!0;break}if(d)break;p-=h}return r.descent=f-a,r.fontSize=r.ascent+r.descent,t._fonts[e]=r,r},t.clearMetrics=function(e){void 0===e&&(e=""),e?delete t._fonts[e]:t._fonts={}},t}(),$h=function(){try{var t=new OffscreenCanvas(0,0),e=t.getContext("2d");return e&&e.measureText?t:document.createElement("canvas")}catch(t){return document.createElement("canvas")}}();$h.width=$h.height=10,Jh._canvas=$h,Jh._context=$h.getContext("2d"),Jh._fonts={},Jh.METRICS_STRING="|q",Jh.BASELINE_SYMBOL="M",Jh.BASELINE_MULTIPLIER=1.4,Jh._newlines=[10,13],Jh._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];var Qh={texture:!0,children:!1,baseTexture:!0},tf=function(t){function e(e,r,n){var i=this,o=!1;n||(n=document.createElement("canvas"),o=!0),n.width=3,n.height=3;var s=Nu.from(n);return s.orig=new Ia,s.trim=new Ia,(i=t.call(this,s)||this)._ownCanvas=o,i.canvas=n,i.context=i.canvas.getContext("2d"),i._resolution=Ls.RESOLUTION,i._autoResolution=!0,i._text=null,i._style=null,i._styleListener=null,i._font="",i.text=e,i.style=r,i.localStyleID=-1,i}return function(t,e){function r(){this.constructor=t}Xh(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}(e,t),e.prototype.updateText=function(t){var e=this._style;if(this.localStyleID!==e.styleID&&(this.dirty=!0,this.localStyleID=e.styleID),this.dirty||!t){this._font=this._style.toFontString();var r,n,i=this.context,o=Jh.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),s=o.width,a=o.height,u=o.lines,l=o.lineHeight,c=o.lineWidths,h=o.maxLineWidth,f=o.fontProperties;this.canvas.width=Math.ceil((Math.max(1,s)+2*e.padding)*this._resolution),this.canvas.height=Math.ceil((Math.max(1,a)+2*e.padding)*this._resolution),i.scale(this._resolution,this._resolution),i.clearRect(0,0,this.canvas.width,this.canvas.height),i.font=this._font,i.lineWidth=e.strokeThickness,i.textBaseline=e.textBaseline,i.lineJoin=e.lineJoin,i.miterLimit=e.miterLimit;for(var p=e.dropShadow?2:1,d=0;d<p;++d){var y=e.dropShadow&&0===d,g=y?Math.ceil(Math.max(1,a)+2*e.padding):0,m=g*this._resolution;if(y){i.fillStyle="black",i.strokeStyle="black";var b=e.dropShadowColor,v=Ys("number"==typeof b?b:qs(b));i.shadowColor="rgba("+255*v[0]+","+255*v[1]+","+255*v[2]+","+e.dropShadowAlpha+")",i.shadowBlur=e.dropShadowBlur,i.shadowOffsetX=Math.cos(e.dropShadowAngle)*e.dropShadowDistance,i.shadowOffsetY=Math.sin(e.dropShadowAngle)*e.dropShadowDistance+m}else i.fillStyle=this._generateFillStyle(e,u,o),i.strokeStyle=e.stroke,i.shadowColor="black",i.shadowBlur=0,i.shadowOffsetX=0,i.shadowOffsetY=0;for(var _=0;_<u.length;_++)r=e.strokeThickness/2,n=e.strokeThickness/2+_*l+f.ascent,"right"===e.align?r+=h-c[_]:"center"===e.align&&(r+=(h-c[_])/2),e.stroke&&e.strokeThickness&&this.drawLetterSpacing(u[_],r+e.padding,n+e.padding-g,!0),e.fill&&this.drawLetterSpacing(u[_],r+e.padding,n+e.padding-g)}this.updateTexture()}},e.prototype.drawLetterSpacing=function(t,e,r,n){void 0===n&&(n=!1);var i=this._style.letterSpacing;if(0!==i)for(var o=e,s=Array.from?Array.from(t):t.split(""),a=this.context.measureText(t).width,u=0,l=0;l<s.length;++l){var c=s[l];n?this.context.strokeText(c,o,r):this.context.fillText(c,o,r),o+=a-(u=this.context.measureText(t.substring(l+1)).width)+i,a=u}else n?this.context.strokeText(t,e,r):this.context.fillText(t,e,r)},e.prototype.updateTexture=function(){var t=this.canvas;if(this._style.trim){var e=_a(t);e.data&&(t.width=e.width,t.height=e.height,this.context.putImageData(e.data,0,0))}var r=this._texture,n=this._style,i=n.trim?0:n.padding,o=r.baseTexture;r.trim.width=r._frame.width=Math.ceil(t.width/this._resolution),r.trim.height=r._frame.height=Math.ceil(t.height/this._resolution),r.trim.x=-i,r.trim.y=-i,r.orig.width=r._frame.width-2*i,r.orig.height=r._frame.height-2*i,this._onTextureUpdate(),o.setRealSize(t.width,t.height,this._resolution),this._recursivePostUpdateTransform(),this.dirty=!1},e.prototype._render=function(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),t.prototype._render.call(this,e)},e.prototype.getLocalBounds=function(e){return this.updateText(!0),t.prototype.getLocalBounds.call(this,e)},e.prototype._calculateBounds=function(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)},e.prototype._generateFillStyle=function(t,e,r){var n,i=t.fill;if(!Array.isArray(i))return i;if(1===i.length)return i[0];var o=t.dropShadow?t.dropShadowDistance:0,s=t.padding||0,a=Math.ceil(this.canvas.width/this._resolution)-o-2*s,u=Math.ceil(this.canvas.height/this._resolution)-o-2*s,l=i.slice(),c=t.fillGradientStops.slice();if(!c.length)for(var h=l.length+1,f=1;f<h;++f)c.push(f/h);if(l.unshift(i[0]),c.unshift(0),l.push(i[i.length-1]),c.push(1),t.fillGradientType===xh.LINEAR_VERTICAL){n=this.context.createLinearGradient(a/2,s,a/2,u+s);var p=0,d=(r.fontProperties.fontSize+t.strokeThickness)/u;for(f=0;f<e.length;f++)for(var y=r.lineHeight*f,g=0;g<l.length;g++){var m=y/u+("number"==typeof c[g]?c[g]:g/l.length)*d,b=Math.max(p,m);b=Math.min(b,1),n.addColorStop(b,l[g]),p=b}}else{n=this.context.createLinearGradient(s,u/2,a+s,u/2);var v=l.length+1,_=1;for(f=0;f<l.length;f++){var w;w="number"==typeof c[f]?c[f]:_/v,n.addColorStop(w,l[f]),_++}}return n},e.prototype.destroy=function(e){"boolean"==typeof e&&(e={children:e}),e=Object.assign({},Qh,e),t.prototype.destroy.call(this,e),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null},Object.defineProperty(e.prototype,"width",{get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(t){this.updateText(!0);var e=la(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(t){this.updateText(!0);var e=la(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"style",{get:function(){return this._style},set:function(t){t=t||{},this._style=t instanceof Vh?t:new Vh(t),this.localStyleID=-1,this.dirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._text},set:function(t){t=String(null==t?"":t),this._text!==t&&(this._text=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resolution",{get:function(){return this._resolution},set:function(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)},enumerable:!1,configurable:!0}),e}(Hh);Ls.UPLOADS_PER_FRAME=4;var ef=function(t,e){return(ef=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},rf=function(){function t(t){this.maxItemsPerFrame=t,this.itemsLeft=0}return t.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},t.prototype.allowedToUpload=function(){return this.itemsLeft-- >0},t}();function nf(t,e){var r=!1;if(t&&t._textures&&t._textures.length)for(var n=0;n<t._textures.length;n++)if(t._textures[n]instanceof Nu){var i=t._textures[n].baseTexture;-1===e.indexOf(i)&&(e.push(i),r=!0)}return r}function of(t,e){if(t.baseTexture instanceof xu){var r=t.baseTexture;return-1===e.indexOf(r)&&e.push(r),!0}return!1}function sf(t,e){if(t._texture&&t._texture instanceof Nu){var r=t._texture.baseTexture;return-1===e.indexOf(r)&&e.push(r),!0}return!1}function af(t,e){return e instanceof tf&&(e.updateText(!0),!0)}function uf(t,e){if(e instanceof Vh){var r=e.toFontString();return Jh.measureFont(r),!0}return!1}function lf(t,e){if(t instanceof tf){-1===e.indexOf(t.style)&&e.push(t.style),-1===e.indexOf(t)&&e.push(t);var r=t._texture.baseTexture;return-1===e.indexOf(r)&&e.push(r),!0}return!1}function cf(t,e){return t instanceof Vh&&(-1===e.indexOf(t)&&e.push(t),!0)}var hf=function(){function t(t){var e=this;this.limiter=new rf(Ls.UPLOADS_PER_FRAME),this.renderer=t,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){e.queue&&e.prepareItems()},this.registerFindHook(lf),this.registerFindHook(cf),this.registerFindHook(nf),this.registerFindHook(of),this.registerFindHook(sf),this.registerUploadHook(af),this.registerUploadHook(uf)}return t.prototype.upload=function(t,e){"function"==typeof t&&(e=t,t=null),t&&this.add(t),this.queue.length?(e&&this.completes.push(e),this.ticking||(this.ticking=!0,iu.system.addOnce(this.tick,this,eu.UTILITY))):e&&e()},t.prototype.tick=function(){setTimeout(this.delayedTick,0)},t.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var t=this.queue[0],e=!1;if(t&&!t._destroyed)for(var r=0,n=this.uploadHooks.length;r<n;r++)if(this.uploadHooks[r](this.uploadHookHelper,t)){this.queue.shift(),e=!0;break}e||this.queue.shift()}if(this.queue.length)iu.system.addOnce(this.tick,this,eu.UTILITY);else{this.ticking=!1;var i=this.completes.slice(0);for(this.completes.length=0,r=0,n=i.length;r<n;r++)i[r]()}},t.prototype.registerFindHook=function(t){return t&&this.addHooks.push(t),this},t.prototype.registerUploadHook=function(t){return t&&this.uploadHooks.push(t),this},t.prototype.add=function(t){for(var e=0,r=this.addHooks.length;e<r&&!this.addHooks[e](t,this.queue);e++);if(t instanceof Qa)for(e=t.children.length-1;e>=0;e--)this.add(t.children[e]);return this},t.prototype.destroy=function(){this.ticking&&iu.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},t}();function ff(t,e){return e instanceof xu&&(e._glTextures[t.CONTEXT_UID]||t.texture.bind(e),!0)}function pf(t,e){if(!(e instanceof Nh))return!1;var r=e.geometry;e.finishPoly(),r.updateBatches();for(var n=r.batches,i=0;i<n.length;i++){var o=n[i].style.texture;o&&ff(t,o.baseTexture)}return r.batchable||t.geometry.bind(r,e._resolveDirectShader(t)),!0}function df(t,e){return t instanceof Nh&&(e.push(t),!0)}var yf=function(t){function e(e){var r=t.call(this,e)||this;return r.uploadHookHelper=r.renderer,r.registerFindHook(df),r.registerUploadHook(ff),r.registerUploadHook(pf),r}return function(t,e){function r(){this.constructor=t}ef(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}(e,t),e}(hf),gf=function(){function t(t){this.maxMilliseconds=t,this.frameStart=0}return t.prototype.beginFrame=function(){this.frameStart=Date.now()},t.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds},t}(),mf=function(){function t(t,e,r){void 0===r&&(r=null),this._texture=t instanceof Nu?t:null,this.baseTexture=t instanceof xu?t:this._texture.baseTexture,this.textures={},this.animations={},this.data=e;var n=this.baseTexture.resource;this.resolution=this._updateResolution(r||(n?n.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return t.prototype._updateResolution=function(t){void 0===t&&(t=null);var e=this.data.meta.scale,r=Pa(t,null);return null===r&&(r=void 0!==e?parseFloat(e):1),1!==r&&this.baseTexture.setResolution(r),r},t.prototype.parse=function(e){this._batchIndex=0,this._callback=e,this._frameKeys.length<=t.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()},t.prototype._processFrames=function(e){for(var r=e,n=t.BATCH_SIZE;r-e<n&&r<this._frameKeys.length;){var i=this._frameKeys[r],o=this._frames[i],s=o.frame;if(s){var a,u=null,l=!1!==o.trimmed&&o.sourceSize?o.sourceSize:o.frame,c=new Ia(0,0,Math.floor(l.w)/this.resolution,Math.floor(l.h)/this.resolution);a=o.rotated?new Ia(Math.floor(s.x)/this.resolution,Math.floor(s.y)/this.resolution,Math.floor(s.h)/this.resolution,Math.floor(s.w)/this.resolution):new Ia(Math.floor(s.x)/this.resolution,Math.floor(s.y)/this.resolution,Math.floor(s.w)/this.resolution,Math.floor(s.h)/this.resolution),!1!==o.trimmed&&o.spriteSourceSize&&(u=new Ia(Math.floor(o.spriteSourceSize.x)/this.resolution,Math.floor(o.spriteSourceSize.y)/this.resolution,Math.floor(s.w)/this.resolution,Math.floor(s.h)/this.resolution)),this.textures[i]=new Nu(this.baseTexture,a,c,u,o.rotated?2:0,o.anchor),Nu.addToCache(this.textures[i],i)}r++}},t.prototype._processAnimations=function(){var t=this.data.animations||{};for(var e in t){this.animations[e]=[];for(var r=0;r<t[e].length;r++){var n=t[e][r];this.animations[e].push(this.textures[n])}}},t.prototype._parseComplete=function(){var t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)},t.prototype._nextBatch=function(){var e=this;this._processFrames(this._batchIndex*t.BATCH_SIZE),this._batchIndex++,setTimeout((function(){e._batchIndex*t.BATCH_SIZE<e._frameKeys.length?e._nextBatch():(e._processAnimations(),e._parseComplete())}),0)},t.prototype.destroy=function(t){var e;for(var r in void 0===t&&(t=!1),this.textures)this.textures[r].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&(null===(e=this._texture)||void 0===e||e.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null},t.BATCH_SIZE=1e3,t}(),bf=function(){function t(){}return t.use=function(e,r){var n=this,i=e.name+"_image";if(e.data&&e.type===Zc.TYPE.JSON&&e.data.frames&&!n.resources[i]){var o={crossOrigin:e.crossOrigin,metadata:e.metadata.imageMetadata,parentResource:e},s=t.getResourcePath(e,n.baseUrl);n.add(i,s,o,(function(t){if(t.error)r(t.error);else{var n=new mf(t.texture,e.data,e.url);n.parse((function(){e.spritesheet=n,e.textures=n.textures,r()}))}}))}else r()},t.getResourcePath=function(t,e){return t.isDataUrl?t.data.meta.image:Us.resolve(t.url.replace(e,""),t.data.meta.image)},t}(),vf=function(t,e){return(vf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function _f(t,e){function r(){this.constructor=t}vf(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var wf=new La,xf=function(t){function e(e,r,n){void 0===r&&(r=100),void 0===n&&(n=100);var i=t.call(this,e)||this;return i.tileTransform=new Ya,i._width=r,i._height=n,i.uvMatrix=i.texture.uvMatrix||new Hl(e),i.pluginName="tilingSprite",i.uvRespectAnchor=!1,i}return _f(e,t),Object.defineProperty(e.prototype,"clampMargin",{get:function(){return this.uvMatrix.clampMargin},set:function(t){this.uvMatrix.clampMargin=t,this.uvMatrix.update(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tileScale",{get:function(){return this.tileTransform.scale},set:function(t){this.tileTransform.scale.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tilePosition",{get:function(){return this.tileTransform.position},set:function(t){this.tileTransform.position.copyFrom(t)},enumerable:!1,configurable:!0}),e.prototype._onTextureUpdate=function(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215},e.prototype._render=function(t){var e=this._texture;e&&e.valid&&(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),t.batch.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this))},e.prototype._calculateBounds=function(){var t=this._width*-this._anchor._x,e=this._height*-this._anchor._y,r=this._width*(1-this._anchor._x),n=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,t,e,r,n)},e.prototype.getLocalBounds=function(e){return 0===this.children.length?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new Ia),e=this._localBoundsRect),this._bounds.getRectangle(e)):t.prototype.getLocalBounds.call(this,e)},e.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,wf);var e=this._width,r=this._height,n=-e*this.anchor._x;if(wf.x>=n&&wf.x<n+e){var i=-r*this.anchor._y;if(wf.y>=i&&wf.y<i+r)return!0}return!1},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this.tileTransform=null,this.uvMatrix=null},e.from=function(t,r){return"number"==typeof r&&(pa("5.3.0","TilingSprite.from use options instead of width and height args"),r={width:r,height:arguments[2]}),new e(Nu.from(t,r),r.width,r.height)},Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(t){this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(t){this._height=t},enumerable:!1,configurable:!0}),e}(Hh),Of="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n",Sf=new Ba,Pf=function(t){function e(e){var r=t.call(this,e)||this,n={globals:r.renderer.globalUniforms};return r.shader=Nl.from(Of,"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 texSample = texture2D(uSampler, coord);\n    gl_FragColor = texSample * uColor;\n}\n",n),r.simpleShader=Nl.from(Of,"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 sample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = sample * uColor;\n}\n",n),r.quad=new Qu,r.state=Ul.for2d(),r}return _f(e,t),e.prototype.render=function(t){var e=this.renderer,r=this.quad,n=r.vertices;n[0]=n[6]=t._width*-t.anchor.x,n[1]=n[3]=t._height*-t.anchor.y,n[2]=n[4]=t._width*(1-t.anchor.x),n[5]=n[7]=t._height*(1-t.anchor.y),t.uvRespectAnchor&&((n=r.uvs)[0]=n[6]=-t.anchor.x,n[1]=n[3]=-t.anchor.y,n[2]=n[4]=1-t.anchor.x,n[5]=n[7]=1-t.anchor.y),r.invalidate();var i=t._texture,o=i.baseTexture,s=t.tileTransform.localTransform,a=t.uvMatrix,u=o.isPowerOfTwo&&i.frame.width===o.width&&i.frame.height===o.height;u&&(o._glTextures[e.CONTEXT_UID]?u=o.wrapMode!==cs.CLAMP:o.wrapMode===cs.CLAMP&&(o.wrapMode=cs.REPEAT));var l=u?this.simpleShader:this.shader,c=i.width,h=i.height,f=t._width,p=t._height;Sf.set(s.a*c/f,s.b*c/p,s.c*h/f,s.d*h/p,s.tx/f,s.ty/p),Sf.invert(),u?Sf.prepend(a.mapCoord):(l.uniforms.uMapCoord=a.mapCoord.toArray(!0),l.uniforms.uClampFrame=a.uClampFrame,l.uniforms.uClampOffset=a.uClampOffset),l.uniforms.uTransform=Sf.toArray(!0),l.uniforms.uColor=ta(t.tint,t.worldAlpha,l.uniforms.uColor,o.alphaMode),l.uniforms.translationMatrix=t.transform.worldTransform.toArray(!0),l.uniforms.uSampler=i,e.shader.bind(l),e.geometry.bind(r),this.state.blendMode=Js(t.blendMode,o.alphaMode),e.state.set(this.state),e.geometry.draw(this.renderer.gl.TRIANGLES,6,0)},e}(il),Tf=function(t,e){return(Tf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function Ef(t,e){function r(){this.constructor=t}Tf(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var Rf=function(){function t(t,e){this.uvBuffer=t,this.uvMatrix=e,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}return t.prototype.update=function(t){if(t||this._bufferUpdateId!==this.uvBuffer._updateID||this._textureUpdateId!==this.uvMatrix._updateID){this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;var e=this.uvBuffer.data;this.data&&this.data.length===e.length||(this.data=new Float32Array(e.length)),this.uvMatrix.multiplyUvs(e,this.data),this._updateID++}},t}(),Af=new La,If=new ka,jf=function(t){function e(e,r,n,i){void 0===i&&(i=os.TRIANGLES);var o=t.call(this)||this;return o.geometry=e,e.refCount++,o.shader=r,o.state=n||Ul.for2d(),o.drawMode=i,o.start=0,o.size=0,o.uvs=null,o.indices=null,o.vertexData=new Float32Array(1),o.vertexDirty=0,o._transformID=-1,o._roundPixels=Ls.ROUND_PIXELS,o.batchUvs=null,o}return Ef(e,t),Object.defineProperty(e.prototype,"uvBuffer",{get:function(){return this.geometry.buffers[1]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"verticesBuffer",{get:function(){return this.geometry.buffers[0]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"material",{get:function(){return this.shader},set:function(t){this.shader=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(t){this.state.blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(t){this._roundPixels!==t&&(this._transformID=-1),this._roundPixels=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this.shader.tint},set:function(t){this.shader.tint=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"texture",{get:function(){return this.shader.texture},set:function(t){this.shader.texture=t},enumerable:!1,configurable:!0}),e.prototype._render=function(t){var r=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===os.TRIANGLES&&r.length<2*e.BATCHABLE_SIZE?this._renderToBatch(t):this._renderDefault(t)},e.prototype._renderDefault=function(t){var e=this.shader;e.alpha=this.worldAlpha,e.update&&e.update(),t.batch.flush(),e.program.uniformData.translationMatrix&&(e.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0)),t.shader.bind(e),t.state.set(this.state),t.geometry.bind(this.geometry,e),t.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)},e.prototype._renderToBatch=function(t){var e=this.geometry;this.shader.uvMatrix&&(this.shader.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=e.indexBuffer.data,this._tintRGB=this.shader._tintRGB,this._texture=this.shader.texture;var r=this.material.pluginName;t.batch.setObjectRenderer(t.plugins[r]),t.plugins[r].render(this)},e.prototype.calculateVertices=function(){var t=this.geometry,e=t.buffers[0].data;if(t.vertexDirtyId!==this.vertexDirty||this._transformID!==this.transform._worldID){this._transformID=this.transform._worldID,this.vertexData.length!==e.length&&(this.vertexData=new Float32Array(e.length));for(var r=this.transform.worldTransform,n=r.a,i=r.b,o=r.c,s=r.d,a=r.tx,u=r.ty,l=this.vertexData,c=0;c<l.length/2;c++){var h=e[2*c],f=e[2*c+1];l[2*c]=n*h+o*f+a,l[2*c+1]=i*h+s*f+u}if(this._roundPixels){var p=Ls.RESOLUTION;for(c=0;c<l.length;++c)l[c]=Math.round((l[c]*p|0)/p)}this.vertexDirty=t.vertexDirtyId}},e.prototype.calculateUvs=function(){var t=this.geometry.buffers[1];this.shader.uvMatrix.isSimple?this.uvs=t.data:(this.batchUvs||(this.batchUvs=new Rf(t,this.shader.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)},e.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)},e.prototype.containsPoint=function(t){if(!this.getBounds().contains(t.x,t.y))return!1;this.worldTransform.applyInverse(t,Af);for(var e=this.geometry.getBuffer("aVertexPosition").data,r=If.points,n=this.geometry.getIndex().data,i=n.length,o=4===this.drawMode?3:1,s=0;s+2<i;s+=o){var a=2*n[s],u=2*n[s+1],l=2*n[s+2];if(r[0]=e[a],r[1]=e[a+1],r[2]=e[u],r[3]=e[u+1],r[4]=e[l],r[5]=e[l+1],If.contains(Af.x,Af.y))return!0}return!1},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this.geometry.refCount--,0===this.geometry.refCount&&this.geometry.dispose(),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null},e.BATCHABLE_SIZE=100,e}(Qa),Cf=function(t){function e(e,r){var n=this,i={uSampler:e,alpha:1,uTextureMatrix:Ba.IDENTITY,uColor:new Float32Array([1,1,1,1])};return(r=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},r)).uniforms&&Object.assign(i,r.uniforms),(n=t.call(this,r.program||Fl.from("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTextureMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n"),i)||this)._colorDirty=!1,n.uvMatrix=new Hl(e),n.batchable=void 0===r.program,n.pluginName=r.pluginName,n.tint=r.tint,n.alpha=r.alpha,n}return Ef(e,t),Object.defineProperty(e.prototype,"texture",{get:function(){return this.uniforms.uSampler},set:function(t){this.uniforms.uSampler!==t&&(this.uniforms.uSampler=t,this.uvMatrix.texture=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this._alpha},set:function(t){t!==this._alpha&&(this._alpha=t,this._colorDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(t){t!==this._tint&&(this._tint=t,this._tintRGB=(t>>16)+(65280&t)+((255&t)<<16),this._colorDirty=!0)},enumerable:!1,configurable:!0}),e.prototype.update=function(){if(this._colorDirty){this._colorDirty=!1;var t=this.texture.baseTexture;ta(this._tint,this._alpha,this.uniforms.uColor,t.alphaMode)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)},e}(Nl),kf=function(t){function e(e,r,n){var i=t.call(this)||this,o=new Gu(e),s=new Gu(r,!0),a=new Gu(n,!0,!0);return i.addAttribute("aVertexPosition",o,2,!1,us.FLOAT).addAttribute("aTextureCoord",s,2,!1,us.FLOAT).addIndex(a),i._updateId=-1,i}return Ef(e,t),Object.defineProperty(e.prototype,"vertexDirtyId",{get:function(){return this.buffers[0]._updateID},enumerable:!1,configurable:!0}),e}(Ju),Mf=function(t,e){return(Mf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},Lf=function(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[]},Df=function(){function t(){}return t.test=function(t){return"string"==typeof t&&0===t.indexOf("info face=")},t.parse=function(t){var e=t.match(/^[a-z]+\s+.+$/gm),r={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[]};for(var n in e){var i=e[n].match(/^[a-z]+/gm)[0],o=e[n].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),s={};for(var a in o){var u=o[a].split("="),l=u[0],c=u[1].replace(/"/gm,""),h=parseFloat(c),f=isNaN(h)?c:h;s[l]=f}r[i].push(s)}var p=new Lf;return r.info.forEach((function(t){return p.info.push({face:t.face,size:parseInt(t.size,10)})})),r.common.forEach((function(t){return p.common.push({lineHeight:parseInt(t.lineHeight,10)})})),r.page.forEach((function(t){return p.page.push({id:parseInt(t.id,10),file:t.file})})),r.char.forEach((function(t){return p.char.push({id:parseInt(t.id,10),page:parseInt(t.page,10),x:parseInt(t.x,10),y:parseInt(t.y,10),width:parseInt(t.width,10),height:parseInt(t.height,10),xoffset:parseInt(t.xoffset,10),yoffset:parseInt(t.yoffset,10),xadvance:parseInt(t.xadvance,10)})})),r.kerning.forEach((function(t){return p.kerning.push({first:parseInt(t.first,10),second:parseInt(t.second,10),amount:parseInt(t.amount,10)})})),p},t}(),Bf=function(){function t(){}return t.test=function(t){return t instanceof XMLDocument&&t.getElementsByTagName("page").length&&null!==t.getElementsByTagName("info")[0].getAttribute("face")},t.parse=function(t){for(var e=new Lf,r=t.getElementsByTagName("info"),n=t.getElementsByTagName("common"),i=t.getElementsByTagName("page"),o=t.getElementsByTagName("char"),s=t.getElementsByTagName("kerning"),a=0;a<r.length;a++)e.info.push({face:r[a].getAttribute("face"),size:parseInt(r[a].getAttribute("size"),10)});for(a=0;a<n.length;a++)e.common.push({lineHeight:parseInt(n[a].getAttribute("lineHeight"),10)});for(a=0;a<i.length;a++)e.page.push({id:parseInt(i[a].getAttribute("id"),10)||0,file:i[a].getAttribute("file")});for(a=0;a<o.length;a++){var u=o[a];e.char.push({id:parseInt(u.getAttribute("id"),10),page:parseInt(u.getAttribute("page"),10)||0,x:parseInt(u.getAttribute("x"),10),y:parseInt(u.getAttribute("y"),10),width:parseInt(u.getAttribute("width"),10),height:parseInt(u.getAttribute("height"),10),xoffset:parseInt(u.getAttribute("xoffset"),10),yoffset:parseInt(u.getAttribute("yoffset"),10),xadvance:parseInt(u.getAttribute("xadvance"),10)})}for(a=0;a<s.length;a++)e.kerning.push({first:parseInt(s[a].getAttribute("first"),10),second:parseInt(s[a].getAttribute("second"),10),amount:parseInt(s[a].getAttribute("amount"),10)});return e},t}(),Ff=function(){function t(){}return t.test=function(t){if("string"==typeof t&&t.indexOf("<font>")>-1){var e=(new self.DOMParser).parseFromString(t,"text/xml");return Bf.test(e)}return!1},t.parse=function(t){var e=(new window.DOMParser).parseFromString(t,"text/xml");return Bf.parse(e)},t}(),Nf=[Df,Bf,Ff];function Uf(t){for(var e=0;e<Nf.length;e++)if(Nf[e].test(t))return Nf[e];return null}function Wf(t,e,r,n,i,o){var s,a=r.fill;if(!Array.isArray(a))return a;if(1===a.length)return a[0];var u=r.dropShadow?r.dropShadowDistance:0,l=r.padding||0,c=Math.ceil(t.width/n)-u-2*l,h=Math.ceil(t.height/n)-u-2*l,f=a.slice(),p=r.fillGradientStops.slice();if(!p.length)for(var d=f.length+1,y=1;y<d;++y)p.push(y/d);if(f.unshift(a[0]),p.unshift(0),f.push(a[a.length-1]),p.push(1),r.fillGradientType===xh.LINEAR_VERTICAL){s=e.createLinearGradient(c/2,l,c/2,h+l);var g=0,m=(o.fontProperties.fontSize+r.strokeThickness)/h;for(y=0;y<i.length;y++)for(var b=o.lineHeight*y,v=0;v<f.length;v++){var _=b/h+("number"==typeof p[v]?p[v]:v/f.length)*m,w=Math.max(g,_);w=Math.min(w,1),s.addColorStop(w,f[v]),g=w}}else{s=e.createLinearGradient(l,h/2,c+l,h/2);var x=f.length+1,O=1;for(y=0;y<f.length;y++){var S;S="number"==typeof p[y]?p[y]:O/x,s.addColorStop(S,f[y]),O++}}return s}function zf(t,e,r,n,i,o,s){var a=r.text,u=r.fontProperties;e.translate(n,i),e.scale(o,o);var l=s.strokeThickness/2,c=-s.strokeThickness/2;e.font=s.toFontString(),e.lineWidth=s.strokeThickness,e.textBaseline=s.textBaseline,e.lineJoin=s.lineJoin,e.miterLimit=s.miterLimit,e.fillStyle=Wf(t,e,s,o,[a],r),e.strokeStyle=s.stroke,e.font=s.toFontString(),e.lineWidth=s.strokeThickness,e.textBaseline=s.textBaseline,e.lineJoin=s.lineJoin,e.miterLimit=s.miterLimit,e.fillStyle=Wf(t,e,s,o,[a],r),e.strokeStyle=s.stroke;var h=s.dropShadowColor,f=Ys("number"==typeof h?h:qs(h));s.dropShadow?(e.shadowColor="rgba("+255*f[0]+","+255*f[1]+","+255*f[2]+","+s.dropShadowAlpha+")",e.shadowBlur=s.dropShadowBlur,e.shadowOffsetX=Math.cos(s.dropShadowAngle)*s.dropShadowDistance,e.shadowOffsetY=Math.sin(s.dropShadowAngle)*s.dropShadowDistance):(e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0),s.stroke&&s.strokeThickness&&e.strokeText(a,l,c+r.lineHeight-u.descent),s.fill&&e.fillText(a,l,c+r.lineHeight-u.descent),e.setTransform(1,0,0,1,0,0),e.fillStyle="rgba(0, 0, 0, 0)"}var Hf=function(){function t(t,e){var r=t.info[0],n=t.common[0],i=Pa(t.page[0].file),o={};this.font=r.face,this.size=r.size,this.lineHeight=n.lineHeight/i,this.chars={},this.pageTextures=o;for(var s=0;s<t.page.length;s++){var a=t.page[s],u=a.id,l=a.file;o[u]=e instanceof Array?e[s]:e[l]}for(s=0;s<t.char.length;s++){var c=t.char[s],h=(u=c.id,c.page),f=t.char[s],p=f.x,d=f.y,y=f.width,g=f.height,m=f.xoffset,b=f.yoffset,v=f.xadvance;d/=i,y/=i,g/=i,m/=i,b/=i,v/=i;var _=new Ia((p/=i)+o[h].frame.x/i,d+o[h].frame.y/i,y,g);this.chars[u]={xOffset:m,yOffset:b,xAdvance:v,kerning:{},texture:new Nu(o[h].baseTexture,_),page:h}}for(s=0;s<t.kerning.length;s++){var w=t.kerning[s],x=w.first,O=w.second,S=w.amount;x/=i,O/=i,S/=i,this.chars[O]&&(this.chars[O].kerning[x]=S)}}return t.prototype.destroy=function(){for(var t in this.chars)this.chars[t].texture.destroy(),this.chars[t].texture=null;for(var t in this.pageTextures)this.pageTextures[t].destroy(!0),this.pageTextures[t]=null;this.chars=null,this.pageTextures=null},t.install=function(e,r){var n;if(e instanceof Lf)n=e;else{var i=Uf(e);if(!i)throw new Error("Unrecognized data format for font.");n=i.parse(e)}r instanceof Nu&&(r=[r]);var o=new t(n,r);return t.available[o.font]=o,o},t.uninstall=function(e){var r=t.available[e];if(!r)throw new Error("No font found named '"+e+"'");r.destroy(),delete t.available[e]},t.from=function(e,r,n){if(!e)throw new Error("[BitmapFont] Property `name` is required.");var i=Object.assign({},t.defaultOptions,n),o=i.chars,s=i.padding,a=i.resolution,u=i.textureWidth,l=i.textureHeight,c=function(t){"string"==typeof t&&(t=[t]);for(var e=[],r=0,n=t.length;r<n;r++){var i=t[r];if(Array.isArray(i)){if(2!==i.length)throw new Error("[BitmapFont]: Invalid character range length, expecting 2 got "+i.length+".");var o=i[0].charCodeAt(0),s=i[1].charCodeAt(0);if(s<o)throw new Error("[BitmapFont]: Invalid character range.");for(var a=o,u=s;a<=u;a++)e.push(String.fromCharCode(a))}else e.push.apply(e,i.split(""))}if(0===e.length)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}(o),h=r instanceof Vh?r:new Vh(r),f=u,p=new Lf;p.info[0]={face:h.fontFamily,size:h.fontSize},p.common[0]={lineHeight:h.fontSize};for(var d,y,g,m=0,b=0,v=0,_=[],w=0;w<c.length;w++){d||((d=document.createElement("canvas")).width=u,d.height=l,y=d.getContext("2d"),g=new xu(d,{resolution:a}),_.push(new Nu(g)),p.page.push({id:_.length-1,file:""}));var x=Jh.measureText(c[w],h,!1,d),O=x.width,S=Math.ceil(x.height),P=Math.ceil(("italic"===h.fontStyle?2:1)*O);if(b>=l-S*a){if(0===b)throw new Error("[BitmapFont] textureHeight "+l+"px is too small for "+h.fontSize+"px fonts");--w,d=null,y=null,g=null,b=0,m=0,v=0}else if(v=Math.max(S+x.fontProperties.descent,v),P*a+m>=f)--w,b+=v*a,b=Math.ceil(b),m=0,v=0;else{zf(d,y,x,m,b,a,h);var T=x.text.charCodeAt(0);p.char.push({id:T,page:_.length-1,x:m/a,y:b/a,width:P,height:S,xoffset:0,yoffset:0,xadvance:Math.ceil(O-(h.dropShadow?h.dropShadowDistance:0)-(h.stroke?h.strokeThickness:0))}),m+=(P+2*s)*a,m=Math.ceil(m)}}var E=new t(p,_);return void 0!==t.available[e]&&t.uninstall(e),t.available[e]=E,E},t.ALPHA=[["a","z"],["A","Z"]," "],t.NUMERIC=[["0","9"]],t.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],t.ASCII=[[" ","~"]],t.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:t.ALPHANUMERIC},t.available={},t}(),Xf=[],Gf=[],Yf=function(t){function e(r,n){void 0===n&&(n={});var i=t.call(this)||this;i._tint=16777215,n.font&&(pa("5.3.0","PIXI.BitmapText constructor style.font property is deprecated."),i._upgradeStyle(n));var o=Object.assign({},e.styleDefaults,n),s=o.align,a=o.tint,u=o.maxWidth,l=o.letterSpacing,c=o.fontName,h=o.fontSize;if(!Hf.available[c])throw new Error('Missing BitmapFont "'+c+'"');return i._activePagesMeshData=[],i._textWidth=0,i._textHeight=0,i._align=s,i._tint=a,i._fontName=c,i._fontSize=h||Hf.available[c].size,i._text=r,i._maxWidth=u,i._maxLineHeight=0,i._letterSpacing=l,i._anchor=new Da((function(){i.dirty=!0}),i,0,0),i._roundPixels=Ls.ROUND_PIXELS,i.dirty=!0,i._textureCache={},i}return function(t,e){function r(){this.constructor=t}Mf(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}(e,t),e.prototype.updateText=function(){for(var t,e=Hf.available[this._fontName],r=this._fontSize/e.size,n=new La,i=[],o=[],s=this._text.replace(/(?:\r\n|\r)/g,"\n")||" ",a=s.length,u=this._maxWidth*e.size/this._fontSize,l=null,c=0,h=0,f=0,p=-1,d=0,y=0,g=0,m=0;m<a;m++){var b=s.charCodeAt(m),v=s.charAt(m);if(/(?:\s)/.test(v)&&(p=m,d=c),"\r"!==v&&"\n"!==v){var _=e.chars[b];if(_){l&&_.kerning[l]&&(n.x+=_.kerning[l]);var w=Gf.pop()||{texture:Nu.EMPTY,line:0,charCode:0,position:new La};w.texture=_.texture,w.line=f,w.charCode=b,w.position.x=n.x+_.xOffset+this._letterSpacing/2,w.position.y=n.y+_.yOffset,i.push(w),n.x+=_.xAdvance+this._letterSpacing,c=n.x,g=Math.max(g,_.yOffset+_.texture.height),l=b,-1!==p&&u>0&&n.x>u&&(ua(i,1+p-++y,1+m-p),m=p,p=-1,o.push(d),h=Math.max(h,d),f++,n.x=0,n.y+=e.lineHeight,l=null)}}else o.push(c),h=Math.max(h,c),++f,++y,n.x=0,n.y+=e.lineHeight,l=null}var x=s.charAt(s.length-1);"\r"!==x&&"\n"!==x&&(/(?:\s)/.test(x)&&(c=d),o.push(c),h=Math.max(h,c));var O=[];for(m=0;m<=f;m++){var S=0;"right"===this._align?S=h-o[m]:"center"===this._align&&(S=(h-o[m])/2),O.push(S)}var P=i.length,T={},E=[],R=this._activePagesMeshData;for(m=0;m<R.length;m++)Xf.push(R[m]);for(m=0;m<P;m++){var A=(F=i[m].texture).baseTexture.uid;if(!T[A]){if(!(G=Xf.pop())){var I=new kf,j=new Cf(Nu.EMPTY);G={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:new jf(I,j),vertices:null,uvs:null,indices:null}}G.index=0,G.indexCount=0,G.vertexCount=0,G.uvsCount=0,G.total=0;var C=this._textureCache;C[A]=C[A]||new Nu(F.baseTexture),G.mesh.texture=C[A],G.mesh.tint=this._tint,E.push(G),T[A]=G}T[A].total++}for(m=0;m<R.length;m++)-1===E.indexOf(R[m])&&this.removeChild(R[m].mesh);for(m=0;m<E.length;m++)E[m].mesh.parent!==this&&this.addChild(E[m].mesh);for(var m in this._activePagesMeshData=E,T){var k=(G=T[m]).total;if(!((null===(t=G.indices)||void 0===t?void 0:t.length)>6*k)||G.vertices.length<2*jf.BATCHABLE_SIZE)G.vertices=new Float32Array(8*k),G.uvs=new Float32Array(8*k),G.indices=new Uint16Array(6*k);else for(var M=G.total,L=G.vertices,D=4*M*2;D<L.length;D++)L[D]=0;G.mesh.size=6*k}for(m=0;m<P;m++){var B=(v=i[m]).position.x+O[v.line];this._roundPixels&&(B=Math.round(B));var F,N=B*r,U=v.position.y*r,W=T[(F=v.texture).baseTexture.uid],z=F.frame,H=F._uvs,X=W.index++;W.indices[6*X+0]=0+4*X,W.indices[6*X+1]=1+4*X,W.indices[6*X+2]=2+4*X,W.indices[6*X+3]=0+4*X,W.indices[6*X+4]=2+4*X,W.indices[6*X+5]=3+4*X,W.vertices[8*X+0]=N,W.vertices[8*X+1]=U,W.vertices[8*X+2]=N+z.width*r,W.vertices[8*X+3]=U,W.vertices[8*X+4]=N+z.width*r,W.vertices[8*X+5]=U+z.height*r,W.vertices[8*X+6]=N,W.vertices[8*X+7]=U+z.height*r,W.uvs[8*X+0]=H.x0,W.uvs[8*X+1]=H.y0,W.uvs[8*X+2]=H.x1,W.uvs[8*X+3]=H.y1,W.uvs[8*X+4]=H.x2,W.uvs[8*X+5]=H.y2,W.uvs[8*X+6]=H.x3,W.uvs[8*X+7]=H.y3}for(var m in this._textWidth=h*r,this._textHeight=(n.y+e.lineHeight)*r,T){var G=T[m];if(0!==this.anchor.x||0!==this.anchor.y)for(var Y=0,V=this._textWidth*this.anchor.x,q=this._textHeight*this.anchor.y,K=0;K<G.total;K++)G.vertices[Y++]-=V,G.vertices[Y++]-=q,G.vertices[Y++]-=V,G.vertices[Y++]-=q,G.vertices[Y++]-=V,G.vertices[Y++]-=q,G.vertices[Y++]-=V,G.vertices[Y++]-=q;this._maxLineHeight=g*r;var Z=G.mesh.geometry.getBuffer("aVertexPosition"),J=G.mesh.geometry.getBuffer("aTextureCoord"),$=G.mesh.geometry.getIndex();Z.data=G.vertices,J.data=G.uvs,$.data=G.indices,Z.update(),J.update(),$.update()}for(m=0;m<i.length;m++)Gf.push(i[m])},e.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},e.prototype.getLocalBounds=function(){return this.validate(),t.prototype.getLocalBounds.call(this)},e.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(t){if(this._tint!==t){this._tint=t;for(var e=0;e<this._activePagesMeshData.length;e++)this._activePagesMeshData[e].mesh.tint=t}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"align",{get:function(){return this._align},set:function(t){this._align!==t&&(this._align=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontName",{get:function(){return this._fontName},set:function(t){if(!Hf.available[t])throw new Error('Missing BitmapFont "'+t+'"');this._fontName!==t&&(this._fontName=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontSize",{get:function(){return this._fontSize},set:function(t){this._fontSize!==t&&(this._fontSize=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"anchor",{get:function(){return this._anchor},set:function(t){"number"==typeof t?this._anchor.set(t):this._anchor.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._text},set:function(t){t=String(null==t?"":t),this._text!==t&&(this._text=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxWidth",{get:function(){return this._maxWidth},set:function(t){this._maxWidth!==t&&(this._maxWidth=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxLineHeight",{get:function(){return this.validate(),this._maxLineHeight},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textWidth",{get:function(){return this.validate(),this._textWidth},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(t){t!==this._roundPixels&&(this._roundPixels=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textHeight",{get:function(){return this.validate(),this._textHeight},enumerable:!1,configurable:!0}),e.prototype._upgradeStyle=function(t){if("string"==typeof t.font){var e=t.font.split(" ");t.fontName=1===e.length?e[0]:e.slice(1).join(" "),e.length>=2&&(t.fontSize=parseInt(e[0],10))}else t.fontName=t.font.name,t.fontSize="number"==typeof t.font.size?t.font.size:parseInt(t.font.size,10)},e.prototype.destroy=function(e){var r=this._textureCache;for(var n in r)r[n].destroy(),delete r[n];this._textureCache=null,t.prototype.destroy.call(this,e)},e.registerFont=function(t,e){return pa("5.3.0","PIXI.BitmapText.registerFont is deprecated, use PIXI.BitmapFont.install"),Hf.install(t,e)},Object.defineProperty(e,"fonts",{get:function(){return pa("5.3.0","PIXI.BitmapText.fonts is deprecated, use PIXI.BitmapFont.available"),Hf.available},enumerable:!1,configurable:!0}),e.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0},e}(Qa),Vf=function(){function t(){}return t.add=function(){Zc.setExtensionXhrType("fnt",Zc.XHR_RESPONSE_TYPE.TEXT)},t.use=function(e,r){var n=Uf(e.data);if(n)for(var i=t.getBaseUrl(this,e),o=n.parse(e.data),s={},a=function(t){s[t.metadata.pageFile]=t.texture,Object.keys(s).length===o.page.length&&(e.bitmapFont=Hf.install(o,s),r())},u=0;u<o.page.length;++u){var l=o.page[u].file,c=i+l,h=!1;for(var f in this.resources){var p=this.resources[f];if(p.url===c){p.metadata.pageFile=l,p.texture?a(p):p.onAfterMiddleware.add(a),h=!0;break}}if(!h){var d={crossOrigin:e.crossOrigin,loadType:Zc.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:l},e.metadata.imageMetadata),parentResource:e};this.add(c,d,a)}}else r()},t.getBaseUrl=function(e,r){var n=r.isDataUrl?"":t.dirname(r.url);return r.isDataUrl&&("."===n&&(n=""),e.baseUrl&&n&&"/"===e.baseUrl.charAt(e.baseUrl.length-1)&&(n+="/")),(n=n.replace(e.baseUrl,""))&&"/"!==n.charAt(n.length-1)&&(n+="/"),n},t.dirname=function(t){var e=t.replace(/\\/g,"/").replace(/\/$/,"").replace(/\/[^\/]*$/,"");return e===t?".":""===e?"/":e},t}(),qf=function(t,e){return(qf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},Kf=function(t){function e(e){void 0===e&&(e=1);var r=t.call(this,dc,"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n",{uAlpha:1})||this;return r.alpha=e,r}return function(t,e){function r(){this.constructor=t}qf(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}(e,t),Object.defineProperty(e.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(t){this.uniforms.uAlpha=t},enumerable:!1,configurable:!0}),e}(Wl),Zf=function(t,e){return(Zf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function Jf(t,e){function r(){this.constructor=t}Zf(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var $f,Qf,tp,ep,rp,np,ip,op,sp,ap,up,lp,cp,hp,fp,pp,dp,yp={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},gp=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join("\n");!function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"}($f||($f={})),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"}(Qf||(Qf={})),function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"}(tp||(tp={})),function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"}(ep||(ep={})),function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"}(rp||(rp={})),function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"}(np||(np={})),function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"}(ip||(ip={})),function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.FLOAT=5126]="FLOAT",t[t.HALF_FLOAT=36193]="HALF_FLOAT"}(op||(op={})),function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"}(sp||(sp={})),function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"}(ap||(ap={})),function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON"}(up||(up={})),function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA"}(lp||(lp={})),function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"}(cp||(cp={})),function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"}(hp||(hp={})),function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"}(fp||(fp={})),function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE"}(pp||(pp={})),function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"}(dp||(dp={}));var mp=function(t){function e(e,r,n,i,o){void 0===r&&(r=8),void 0===n&&(n=4),void 0===i&&(i=Ls.FILTER_RESOLUTION),void 0===o&&(o=5);var s=this,a=function(t,e){var r,n=Math.ceil(t/2),i="\n    attribute vec2 aVertexPosition;\n\n    uniform mat3 projectionMatrix;\n\n    uniform float strength;\n\n    varying vec2 vBlurTexCoords[%size%];\n\n    uniform vec4 inputSize;\n    uniform vec4 outputFrame;\n\n    vec4 filterVertexPosition( void )\n    {\n        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n    }\n\n    vec2 filterTextureCoord( void )\n    {\n        return aVertexPosition * (outputFrame.zw * inputSize.zw);\n    }\n\n    void main(void)\n    {\n        gl_Position = filterVertexPosition();\n\n        vec2 textureCoord = filterTextureCoord();\n        %blur%\n    }",o="";r=e?"vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(var s=0;s<t;s++){var a=r.replace("%index%",s.toString());o+=a=a.replace("%sampleIndex%",s-(n-1)+".0"),o+="\n"}return(i=i.replace("%blur%",o)).replace("%size%",t.toString())}(o,e),u=function(t){for(var e,r=yp[t],n=r.length,i=gp,o="",s=0;s<t;s++){var a="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;".replace("%index%",s.toString());e=s,s>=n&&(e=t-s-1),o+=a=a.replace("%value%",r[e].toString()),o+="\n"}return(i=i.replace("%blur%",o)).replace("%size%",t.toString())}(o);return(s=t.call(this,a,u)||this).horizontal=e,s.resolution=i,s._quality=0,s.quality=n,s.blur=r,s}return Jf(e,t),e.prototype.apply=function(t,e,r,n){if(r?this.horizontal?this.uniforms.strength=1/r.width*(r.width/e.width):this.uniforms.strength=1/r.height*(r.height/e.height):this.horizontal?this.uniforms.strength=1/t.renderer.width*(t.renderer.width/e.width):this.uniforms.strength=1/t.renderer.height*(t.renderer.height/e.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)t.applyFilter(this,e,r,n);else{var i=t.getFilterTexture(),o=t.renderer,s=e,a=i;this.state.blend=!1,t.applyFilter(this,s,a,cp.CLEAR);for(var u=1;u<this.passes-1;u++){t.bindAndClear(s,cp.BLIT),this.uniforms.uSampler=a;var l=a;a=s,s=l,o.shader.bind(this),o.geometry.draw(5)}this.state.blend=!0,t.applyFilter(this,a,r,n),t.returnFilterTexture(i)}},Object.defineProperty(e.prototype,"blur",{get:function(){return this.strength},set:function(t){this.padding=1+2*Math.abs(t),this.strength=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this._quality},set:function(t){this._quality=t,this.passes=t},enumerable:!1,configurable:!0}),e}(Wl),bp=function(t){function e(e,r,n,i){void 0===e&&(e=8),void 0===r&&(r=4),void 0===n&&(n=Ls.FILTER_RESOLUTION),void 0===i&&(i=5);var o=t.call(this)||this;return o.blurXFilter=new mp(!0,e,r,n,i),o.blurYFilter=new mp(!1,e,r,n,i),o.resolution=n,o.quality=r,o.blur=e,o.repeatEdgePixels=!1,o}return Jf(e,t),e.prototype.apply=function(t,e,r,n){var i=Math.abs(this.blurXFilter.strength),o=Math.abs(this.blurYFilter.strength);if(i&&o){var s=t.getFilterTexture();this.blurXFilter.apply(t,e,s,cp.CLEAR),this.blurYFilter.apply(t,s,r,n),t.returnFilterTexture(s)}else o?this.blurYFilter.apply(t,e,r,n):this.blurXFilter.apply(t,e,r,n)},e.prototype.updatePadding=function(){this._repeatEdgePixels?this.padding=0:this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))},Object.defineProperty(e.prototype,"blur",{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=this.blurYFilter.blur=t,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this.blurXFilter.quality},set:function(t){this.blurXFilter.quality=this.blurYFilter.quality=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blurX",{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=t,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blurY",{get:function(){return this.blurYFilter.blur},set:function(t){this.blurYFilter.blur=t,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.blurYFilter.blendMode},set:function(t){this.blurYFilter.blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"repeatEdgePixels",{get:function(){return this._repeatEdgePixels},set:function(t){this._repeatEdgePixels=t,this.updatePadding()},enumerable:!1,configurable:!0}),e}(Wl),vp=function(t,e){return(vp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},_p=function(t){function e(){var e=this,r={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};return(e=t.call(this,yc,"varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n",r)||this).alpha=1,e}return function(t,e){function r(){this.constructor=t}vp(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}(e,t),e.prototype._loadMatrix=function(t,e){void 0===e&&(e=!1);var r=t;e&&(this._multiply(r,this.uniforms.m,t),r=this._colorMatrix(r)),this.uniforms.m=r},e.prototype._multiply=function(t,e,r){return t[0]=e[0]*r[0]+e[1]*r[5]+e[2]*r[10]+e[3]*r[15],t[1]=e[0]*r[1]+e[1]*r[6]+e[2]*r[11]+e[3]*r[16],t[2]=e[0]*r[2]+e[1]*r[7]+e[2]*r[12]+e[3]*r[17],t[3]=e[0]*r[3]+e[1]*r[8]+e[2]*r[13]+e[3]*r[18],t[4]=e[0]*r[4]+e[1]*r[9]+e[2]*r[14]+e[3]*r[19]+e[4],t[5]=e[5]*r[0]+e[6]*r[5]+e[7]*r[10]+e[8]*r[15],t[6]=e[5]*r[1]+e[6]*r[6]+e[7]*r[11]+e[8]*r[16],t[7]=e[5]*r[2]+e[6]*r[7]+e[7]*r[12]+e[8]*r[17],t[8]=e[5]*r[3]+e[6]*r[8]+e[7]*r[13]+e[8]*r[18],t[9]=e[5]*r[4]+e[6]*r[9]+e[7]*r[14]+e[8]*r[19]+e[9],t[10]=e[10]*r[0]+e[11]*r[5]+e[12]*r[10]+e[13]*r[15],t[11]=e[10]*r[1]+e[11]*r[6]+e[12]*r[11]+e[13]*r[16],t[12]=e[10]*r[2]+e[11]*r[7]+e[12]*r[12]+e[13]*r[17],t[13]=e[10]*r[3]+e[11]*r[8]+e[12]*r[13]+e[13]*r[18],t[14]=e[10]*r[4]+e[11]*r[9]+e[12]*r[14]+e[13]*r[19]+e[14],t[15]=e[15]*r[0]+e[16]*r[5]+e[17]*r[10]+e[18]*r[15],t[16]=e[15]*r[1]+e[16]*r[6]+e[17]*r[11]+e[18]*r[16],t[17]=e[15]*r[2]+e[16]*r[7]+e[17]*r[12]+e[18]*r[17],t[18]=e[15]*r[3]+e[16]*r[8]+e[17]*r[13]+e[18]*r[18],t[19]=e[15]*r[4]+e[16]*r[9]+e[17]*r[14]+e[18]*r[19]+e[19],t},e.prototype._colorMatrix=function(t){var e=new Float32Array(t);return e[4]/=255,e[9]/=255,e[14]/=255,e[19]/=255,e},e.prototype.brightness=function(t,e){var r=[t,0,0,0,0,0,t,0,0,0,0,0,t,0,0,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.greyscale=function(t,e){var r=[t,t,t,0,0,t,t,t,0,0,t,t,t,0,0,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.blackAndWhite=function(t){this._loadMatrix([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],t)},e.prototype.hue=function(t,e){t=(t||0)/180*Math.PI;var r=Math.cos(t),n=Math.sin(t),i=1/3,o=(0,Math.sqrt)(i),s=[r+(1-r)*i,i*(1-r)-o*n,i*(1-r)+o*n,0,0,i*(1-r)+o*n,r+i*(1-r),i*(1-r)-o*n,0,0,i*(1-r)-o*n,i*(1-r)+o*n,r+i*(1-r),0,0,0,0,0,1,0];this._loadMatrix(s,e)},e.prototype.contrast=function(t,e){var r=(t||0)+1,n=-.5*(r-1),i=[r,0,0,0,n,0,r,0,0,n,0,0,r,0,n,0,0,0,1,0];this._loadMatrix(i,e)},e.prototype.saturate=function(t,e){void 0===t&&(t=0);var r=2*t/3+1,n=-.5*(r-1),i=[r,n,n,0,0,n,r,n,0,0,n,n,r,0,0,0,0,0,1,0];this._loadMatrix(i,e)},e.prototype.desaturate=function(){this.saturate(-1)},e.prototype.negative=function(t){this._loadMatrix([-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],t)},e.prototype.sepia=function(t){this._loadMatrix([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],t)},e.prototype.technicolor=function(t){this._loadMatrix([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],t)},e.prototype.polaroid=function(t){this._loadMatrix([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],t)},e.prototype.toBGR=function(t){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],t)},e.prototype.kodachrome=function(t){this._loadMatrix([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],t)},e.prototype.browni=function(t){this._loadMatrix([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],t)},e.prototype.vintage=function(t){this._loadMatrix([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],t)},e.prototype.colorTone=function(t,e,r,n,i){var o=((r=r||16770432)>>16&255)/255,s=(r>>8&255)/255,a=(255&r)/255,u=((n=n||3375104)>>16&255)/255,l=(n>>8&255)/255,c=(255&n)/255,h=[.3,.59,.11,0,0,o,s,a,t=t||.2,0,u,l,c,e=e||.15,0,o-u,s-l,a-c,0,0];this._loadMatrix(h,i)},e.prototype.night=function(t,e){var r=[-2*(t=t||.1),-t,0,0,0,-t,0,t,0,0,0,t,2*t,0,0,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.predator=function(t,e){var r=[11.224130630493164*t,-4.794486999511719*t,-2.8746118545532227*t,0*t,.40342438220977783*t,-3.6330697536468506*t,9.193157196044922*t,-2.951810836791992*t,0*t,-1.316135048866272*t,-3.2184197902679443*t,-4.2375030517578125*t,7.476448059082031*t,0*t,.8044459223747253*t,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.lsd=function(t){this._loadMatrix([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],t)},e.prototype.reset=function(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)},Object.defineProperty(e.prototype,"matrix",{get:function(){return this.uniforms.m},set:function(t){this.uniforms.m=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(t){this.uniforms.uAlpha=t},enumerable:!1,configurable:!0}),e}(Wl);_p.prototype.grayscale=_p.prototype.greyscale;var wp=function(t,e){return(wp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},xp=function(t){function e(e,r){var n=this,i=new Ba;return e.renderable=!1,(n=t.call(this,"attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n\tgl_Position = filterVertexPosition();\n\tvTextureCoord = filterTextureCoord();\n\tvFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;\n}\n","varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\nuniform mat2 rotation;\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform highp vec4 inputSize;\nuniform vec4 inputClamp;\n\nvoid main(void)\n{\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n  map -= 0.5;\n  map.xy = scale * inputSize.zw * (rotation * map.xy);\n\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));\n}\n",{mapSampler:e._texture,filterMatrix:i,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])})||this).maskSprite=e,n.maskMatrix=i,null==r&&(r=20),n.scale=new La(r,r),n}return function(t,e){function r(){this.constructor=t}wp(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}(e,t),e.prototype.apply=function(t,e,r,n){this.uniforms.filterMatrix=t.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;var i=this.maskSprite.worldTransform,o=Math.sqrt(i.a*i.a+i.b*i.b),s=Math.sqrt(i.c*i.c+i.d*i.d);0!==o&&0!==s&&(this.uniforms.rotation[0]=i.a/o,this.uniforms.rotation[1]=i.b/o,this.uniforms.rotation[2]=i.c/s,this.uniforms.rotation[3]=i.d/s),t.applyFilter(this,e,r,n)},Object.defineProperty(e.prototype,"map",{get:function(){return this.uniforms.mapSampler},set:function(t){this.uniforms.mapSampler=t},enumerable:!1,configurable:!0}),e}(Wl),Op=function(t,e){return(Op=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},Sp=function(t){function e(){return t.call(this,"\nattribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\n\nuniform vec4 inputPixel;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvoid texcoords(vec2 fragCoord, vec2 inverseVP,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = filterVertexPosition();\n\n   vFragCoord = aVertexPosition * outputFrame.zw;\n\n   texcoords(vFragCoord, inputPixel.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}\n",'varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\nuniform sampler2D uSampler;\nuniform highp vec4 inputPixel;\n\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n\n --\n\n From:\n https://github.com/mitsuhiko/webgl-meincraft\n\n Copyright (c) 2011 by Armin Ronacher.\n\n Some rights reserved.\n\n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n\n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n\n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n\n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n\n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n\n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n\n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n\n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n\n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n\n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec4 color;\n\n      color = fxaa(uSampler, vFragCoord, inputPixel.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n')||this}return function(t,e){function r(){this.constructor=t}Op(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}(e,t),e}(Wl),Pp=function(t,e){return(Pp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},Tp=function(t){function e(e,r){void 0===e&&(e=.5),void 0===r&&(r=Math.random());var n=t.call(this,yc,"precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n",{uNoise:0,uSeed:0})||this;return n.noise=e,n.seed=r,n}return function(t,e){function r(){this.constructor=t}Pp(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}(e,t),Object.defineProperty(e.prototype,"noise",{get:function(){return this.uniforms.uNoise},set:function(t){this.uniforms.uNoise=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"seed",{get:function(){return this.uniforms.uSeed},set:function(t){this.uniforms.uSeed=t},enumerable:!1,configurable:!0}),e}(Wl),Ep=new Ba;Za.prototype._cacheAsBitmap=!1,Za.prototype._cacheData=null;var Rp=function(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null};Object.defineProperties(Za.prototype,{cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(t){var e;this._cacheAsBitmap!==t&&(this._cacheAsBitmap=t,t?(this._cacheData||(this._cacheData=new Rp),(e=this._cacheData).originalRender=this.render,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):((e=this._cacheData).sprite&&this._destroyCachedDisplayObject(),this.render=e.originalRender,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea))}}}),Za.prototype._renderCached=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(t),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(t))},Za.prototype._initCachedDisplayObject=function(t){if(!this._cacheData||!this._cacheData.sprite){var e=this.alpha;this.alpha=1,t.batch.flush();var r=this.getLocalBounds(null,!0).clone();if(this.filters){var n=this.filters[0].padding;r.pad(n)}r.ceil(Ls.RESOLUTION);var i=t.renderTexture.current,o=t.renderTexture.sourceFrame.clone(),s=t.projection.transform,a=Wu.create({width:r.width,height:r.height}),u="cacheAsBitmap_"+ha();this._cacheData.textureCacheId=u,xu.addToCache(a.baseTexture,u),Nu.addToCache(a,u);var l=this.transform.localTransform.copyTo(Ep).invert().translate(-r.x,-r.y);this.render=this._cacheData.originalRender,t.render(this,a,!0,l,!1),t.projection.transform=s,t.renderTexture.bind(i,o),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null;var c=new Hh(a);c.transform.worldTransform=this.transform.worldTransform,c.anchor.x=-r.x/r.width,c.anchor.y=-r.y/r.height,c.alpha=e,c._bounds=this._bounds,this._cacheData.sprite=c,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=c.containsPoint.bind(c)}},Za.prototype._renderCachedCanvas=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(t),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(t))},Za.prototype._initCachedDisplayObjectCanvas=function(t){if(!this._cacheData||!this._cacheData.sprite){var e=this.getLocalBounds(null,!0),r=this.alpha;this.alpha=1;var n=t.context,i=t._projTransform;e.ceil(Ls.RESOLUTION);var o=Wu.create({width:e.width,height:e.height}),s="cacheAsBitmap_"+ha();this._cacheData.textureCacheId=s,xu.addToCache(o.baseTexture,s),Nu.addToCache(o,s);var a=Ep;this.transform.localTransform.copyTo(a),a.invert(),a.tx-=e.x,a.ty-=e.y,this.renderCanvas=this._cacheData.originalRenderCanvas,t.render(this,o,!0,a,!1),t.context=n,t._projTransform=i,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null;var u=new Hh(o);u.transform.worldTransform=this.transform.worldTransform,u.anchor.x=-e.x/e.width,u.anchor.y=-e.y/e.height,u.alpha=r,u._bounds=this._bounds,this._cacheData.sprite=u,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=u.containsPoint.bind(u)}},Za.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID},Za.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)},Za.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,xu.removeFromCache(this._cacheData.textureCacheId),Nu.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null},Za.prototype._cacheAsBitmapDestroy=function(t){this.cacheAsBitmap=!1,this.destroy(t)},Za.prototype.name=null,Qa.prototype.getChildByName=function(t,e){for(var r=0,n=this.children.length;r<n;r++)if(this.children[r].name===t)return this.children[r];if(e)for(r=0,n=this.children.length;r<n;r++)if(this.children[r].getChildByName){var i=this.children[r].getChildByName(t,!0);if(i)return i}return null},Za.prototype.getGlobalPosition=function(t,e){return void 0===t&&(t=new La),void 0===e&&(e=!1),this.parent?this.parent.toGlobal(this.position,t,e):(t.x=this.position.x,t.y=this.position.y),t};var Ap=function(t,e){return(Ap=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function Ip(t,e){function r(){this.constructor=t}Ap(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var jp=function(t){function e(e,r,n,i){void 0===e&&(e=100),void 0===r&&(r=100),void 0===n&&(n=10),void 0===i&&(i=10);var o=t.call(this)||this;return o.segWidth=n,o.segHeight=i,o.width=e,o.height=r,o.build(),o}return Ip(e,t),e.prototype.build=function(){for(var t=this.segWidth*this.segHeight,e=[],r=[],n=[],i=this.segWidth-1,o=this.segHeight-1,s=this.width/i,a=this.height/o,u=0;u<t;u++){var l=u%this.segWidth,c=u/this.segWidth|0;e.push(l*s,c*a),r.push(l/i,c/o)}var h=i*o;for(u=0;u<h;u++){var f=u%i,p=u/i|0,d=p*this.segWidth+f,y=p*this.segWidth+f+1,g=(p+1)*this.segWidth+f,m=(p+1)*this.segWidth+f+1;n.push(d,y,g,y,m,g)}this.buffers[0].data=new Float32Array(e),this.buffers[1].data=new Float32Array(r),this.indexBuffer.data=new Uint16Array(n),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()},e}(kf),Cp=function(t){function e(e,r,n){void 0===e&&(e=200),void 0===n&&(n=0);var i=t.call(this,new Float32Array(4*r.length),new Float32Array(4*r.length),new Uint16Array(6*(r.length-1)))||this;return i.points=r,i._width=e,i.textureScale=n,i.build(),i}return Ip(e,t),Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),e.prototype.build=function(){var t=this.points;if(t){var e=this.getBuffer("aVertexPosition"),r=this.getBuffer("aTextureCoord"),n=this.getIndex();if(!(t.length<1)){e.data.length/4!==t.length&&(e.data=new Float32Array(4*t.length),r.data=new Float32Array(4*t.length),n.data=new Uint16Array(6*(t.length-1)));var i=r.data,o=n.data;i[0]=0,i[1]=0,i[2]=0,i[3]=1;for(var s=0,a=t[0],u=this._width*this.textureScale,l=t.length,c=0;c<l;c++){var h=4*c;if(this.textureScale>0){var f=a.x-t[c].x,p=a.y-t[c].y,d=Math.sqrt(f*f+p*p);a=t[c],s+=d/u}else s=c/(l-1);i[h]=s,i[h+1]=0,i[h+2]=s,i[h+3]=1}var y=0;for(c=0;c<l-1;c++)h=2*c,o[y++]=h,o[y++]=h+1,o[y++]=h+2,o[y++]=h+2,o[y++]=h+1,o[y++]=h+3;r.update(),n.update(),this.updateVertices()}}},e.prototype.updateVertices=function(){var t=this.points;if(!(t.length<1)){for(var e,r=t[0],n=0,i=0,o=this.buffers[0].data,s=t.length,a=0;a<s;a++){var u=t[a],l=4*a;i=-((e=a<t.length-1?t[a+1]:u).x-r.x),n=e.y-r.y;var c=Math.sqrt(n*n+i*i),h=this.textureScale>0?this.textureScale*this._width/2:this._width/2;n/=c,i/=c,n*=h,i*=h,o[l]=u.x+n,o[l+1]=u.y+i,o[l+2]=u.x-n,o[l+3]=u.y-i,r=u}this.buffers[0].update()}},e.prototype.update=function(){this.textureScale>0?this.build():this.updateVertices()},e}(kf),kp=function(t){function e(e,r,n){void 0===n&&(n=0);var i=this,o=new Cp(e.height,r,n),s=new Cf(e);return n>0&&(e.baseTexture.wrapMode=cs.REPEAT),(i=t.call(this,o,s)||this).autoUpdate=!0,i}return Ip(e,t),e.prototype._render=function(e){var r=this.geometry;(this.autoUpdate||r._width!==this.shader.texture.height)&&(r._width=this.shader.texture.height,r.update()),t.prototype._render.call(this,e)},e}(jf),Mp=function(t){function e(e,r,n){var i=this,o=new jp(e.width,e.height,r,n),s=new Cf(Nu.WHITE);return(i=t.call(this,o,s)||this).texture=e,i}return Ip(e,t),e.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID;var t=this.geometry;t.width=this.shader.texture.width,t.height=this.shader.texture.height,t.build()},Object.defineProperty(e.prototype,"texture",{get:function(){return this.shader.texture},set:function(t){this.shader.texture!==t&&(this.shader.texture=t,this._textureID=-1,t.baseTexture.valid?this.textureUpdated():t.once("update",this.textureUpdated,this))},enumerable:!1,configurable:!0}),e.prototype._render=function(e){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),t.prototype._render.call(this,e)},e.prototype.destroy=function(e){this.shader.texture.off("update",this.textureUpdated,this),t.prototype.destroy.call(this,e)},e}(jf),Lp=function(t){function e(e,r,n,i,o){void 0===e&&(e=Nu.EMPTY);var s=this,a=new kf(r,n,i);a.getBuffer("aVertexPosition").static=!1;var u=new Cf(e);return(s=t.call(this,a,u,null,o)||this).autoUpdate=!0,s}return Ip(e,t),Object.defineProperty(e.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(t){this.geometry.getBuffer("aVertexPosition").data=t},enumerable:!1,configurable:!0}),e.prototype._render=function(e){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),t.prototype._render.call(this,e)},e}(jf),Dp=function(t){function e(e,r,n,i,o){void 0===r&&(r=10),void 0===n&&(n=10),void 0===i&&(i=10),void 0===o&&(o=10);var s=t.call(this,Nu.WHITE,4,4)||this;return s._origWidth=e.orig.width,s._origHeight=e.orig.height,s._width=s._origWidth,s._height=s._origHeight,s._leftWidth=r,s._rightWidth=i,s._topHeight=n,s._bottomHeight=o,s.texture=e,s}return Ip(e,t),e.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID,this._refresh()},Object.defineProperty(e.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(t){this.geometry.getBuffer("aVertexPosition").data=t},enumerable:!1,configurable:!0}),e.prototype.updateHorizontalVertices=function(){var t=this.vertices,e=this._getMinScale();t[9]=t[11]=t[13]=t[15]=this._topHeight*e,t[17]=t[19]=t[21]=t[23]=this._height-this._bottomHeight*e,t[25]=t[27]=t[29]=t[31]=this._height},e.prototype.updateVerticalVertices=function(){var t=this.vertices,e=this._getMinScale();t[2]=t[10]=t[18]=t[26]=this._leftWidth*e,t[4]=t[12]=t[20]=t[28]=this._width-this._rightWidth*e,t[6]=t[14]=t[22]=t[30]=this._width},e.prototype._getMinScale=function(){var t=this._leftWidth+this._rightWidth,e=this._width>t?1:this._width/t,r=this._topHeight+this._bottomHeight,n=this._height>r?1:this._height/r;return Math.min(e,n)},Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(t){this._width=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(t){this._height=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"leftWidth",{get:function(){return this._leftWidth},set:function(t){this._leftWidth=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rightWidth",{get:function(){return this._rightWidth},set:function(t){this._rightWidth=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"topHeight",{get:function(){return this._topHeight},set:function(t){this._topHeight=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bottomHeight",{get:function(){return this._bottomHeight},set:function(t){this._bottomHeight=t,this._refresh()},enumerable:!1,configurable:!0}),e.prototype._refresh=function(){var t=this.texture,e=this.geometry.buffers[1].data;this._origWidth=t.orig.width,this._origHeight=t.orig.height;var r=1/this._origWidth,n=1/this._origHeight;e[0]=e[8]=e[16]=e[24]=0,e[1]=e[3]=e[5]=e[7]=0,e[6]=e[14]=e[22]=e[30]=1,e[25]=e[27]=e[29]=e[31]=1,e[2]=e[10]=e[18]=e[26]=r*this._leftWidth,e[4]=e[12]=e[20]=e[28]=1-r*this._rightWidth,e[9]=e[11]=e[13]=e[15]=n*this._topHeight,e[17]=e[19]=e[21]=e[23]=1-n*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()},e}(Mp),Bp=function(t,e){return(Bp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},Fp=function(t){function e(e,r){void 0===r&&(r=!0);var n=t.call(this,e[0]instanceof Nu?e[0]:e[0].texture)||this;return n._textures=null,n._durations=null,n._autoUpdate=r,n._isConnectedToTicker=!1,n.animationSpeed=1,n.loop=!0,n.updateAnchor=!1,n.onComplete=null,n.onFrameChange=null,n.onLoop=null,n._currentTime=0,n._playing=!1,n._previousFrame=null,n.textures=e,n}return function(t,e){function r(){this.constructor=t}Bp(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}(e,t),e.prototype.stop=function(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(iu.shared.remove(this.update,this),this._isConnectedToTicker=!1))},e.prototype.play=function(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(iu.shared.add(this.update,this,eu.HIGH),this._isConnectedToTicker=!0))},e.prototype.gotoAndStop=function(t){this.stop();var e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture()},e.prototype.gotoAndPlay=function(t){var e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture(),this.play()},e.prototype.update=function(t){if(this._playing){var e=this.animationSpeed*t,r=this.currentFrame;if(null!==this._durations){var n=this._currentTime%1*this._durations[this.currentFrame];for(n+=e/60*1e3;n<0;)this._currentTime--,n+=this._durations[this.currentFrame];var i=Math.sign(this.animationSpeed*t);for(this._currentTime=Math.floor(this._currentTime);n>=this._durations[this.currentFrame];)n-=this._durations[this.currentFrame]*i,this._currentTime+=i;this._currentTime+=n/this._durations[this.currentFrame]}else this._currentTime+=e;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):r!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<r||this.animationSpeed<0&&this.currentFrame>r)&&this.onLoop(),this.updateTexture())}},e.prototype.updateTexture=function(){var t=this.currentFrame;this._previousFrame!==t&&(this._previousFrame=t,this._texture=this._textures[t],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))},e.prototype.destroy=function(e){this.stop(),t.prototype.destroy.call(this,e),this.onComplete=null,this.onFrameChange=null,this.onLoop=null},e.fromFrames=function(t){for(var r=[],n=0;n<t.length;++n)r.push(Nu.from(t[n]));return new e(r)},e.fromImages=function(t){for(var r=[],n=0;n<t.length;++n)r.push(Nu.from(t[n]));return new e(r)},Object.defineProperty(e.prototype,"totalFrames",{get:function(){return this._textures.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textures",{get:function(){return this._textures},set:function(t){if(t[0]instanceof Nu)this._textures=t,this._durations=null;else{this._textures=[],this._durations=[];for(var e=0;e<t.length;e++)this._textures.push(t[e].texture),this._durations.push(t[e].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentFrame",{get:function(){var t=Math.floor(this._currentTime)%this._textures.length;return t<0&&(t+=this._textures.length),t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"playing",{get:function(){return this._playing},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isConnectedToTicker?(iu.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(iu.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),e}(Hh),Np=function(t,e){return(Np=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function Up(t,e){function r(){this.constructor=t}Np(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var Wp="5.0.0";function zp(){var t=this;Object.defineProperties(t,{SVG_SIZE:{get:function(){return pa(Wp,"PIXI.utils.SVG_SIZE property has moved to PIXI.resources.SVGResource.SVG_SIZE"),t.SVGResource.SVG_SIZE}},TransformStatic:{get:function(){return pa(Wp,"PIXI.TransformStatic class has been removed, use PIXI.Transform"),t.Transform}},TransformBase:{get:function(){return pa(Wp,"PIXI.TransformBase class has been removed, use PIXI.Transform"),t.Transform}},TRANSFORM_MODE:{get:function(){return pa(Wp,"PIXI.TRANSFORM_MODE property has been removed"),{STATIC:0,DYNAMIC:1}}},WebGLRenderer:{get:function(){return pa(Wp,"PIXI.WebGLRenderer class has moved to PIXI.Renderer"),t.Renderer}},CanvasRenderTarget:{get:function(){return pa(Wp,"PIXI.CanvasRenderTarget class has moved to PIXI.utils.CanvasRenderTarget"),t.utils.CanvasRenderTarget}},loader:{get:function(){return pa(Wp,"PIXI.loader instance has moved to PIXI.Loader.shared"),t.Loader.shared}},FilterManager:{get:function(){return pa(Wp,"PIXI.FilterManager class has moved to PIXI.systems.FilterSystem"),t.systems.FilterSystem}},CanvasTinter:{get:function(){return pa("5.2.0","PIXI.CanvasTinter namespace has moved to PIXI.canvasUtils"),t.canvasUtils}},GroupD8:{get:function(){return pa("5.2.0","PIXI.GroupD8 namespace has moved to PIXI.groupD8"),t.groupD8}}}),t.accessibility={},Object.defineProperties(t.accessibility,{AccessibilityManager:{get:function(){return pa("5.3.0","PIXI.accessibility.AccessibilityManager moved to PIXI.AccessibilityManager"),t.AccessibilityManager}}}),t.interaction={},Object.defineProperties(t.interaction,{InteractionManager:{get:function(){return pa("5.3.0","PIXI.interaction.InteractionManager moved to PIXI.InteractionManager"),t.InteractionManager}},InteractionData:{get:function(){return pa("5.3.0","PIXI.interaction.InteractionData moved to PIXI.InteractionData"),t.InteractionData}},InteractionEvent:{get:function(){return pa("5.3.0","PIXI.interaction.InteractionEvent moved to PIXI.InteractionEvent"),t.InteractionEvent}}}),t.prepare={},Object.defineProperties(t.prepare,{BasePrepare:{get:function(){return pa("5.2.1","PIXI.prepare.BasePrepare moved to PIXI.BasePrepare"),t.BasePrepare}},Prepare:{get:function(){return pa("5.2.1","PIXI.prepare.Prepare moved to PIXI.Prepare"),t.Prepare}},CanvasPrepare:{get:function(){return pa("5.2.1","PIXI.prepare.CanvasPrepare moved to PIXI.CanvasPrepare"),t.CanvasPrepare}}}),t.extract={},Object.defineProperties(t.extract,{Extract:{get:function(){return pa("5.2.1","PIXI.extract.Extract moved to PIXI.Extract"),t.Extract}},CanvasExtract:{get:function(){return pa("5.2.1","PIXI.extract.CanvasExtract moved to PIXI.CanvasExtract"),t.CanvasExtract}}}),t.extras={},Object.defineProperties(t.extras,{TilingSprite:{get:function(){return pa(Wp,"PIXI.extras.TilingSprite class has moved to PIXI.TilingSprite"),t.TilingSprite}},TilingSpriteRenderer:{get:function(){return pa(Wp,"PIXI.extras.TilingSpriteRenderer class has moved to PIXI.TilingSpriteRenderer"),t.TilingSpriteRenderer}},AnimatedSprite:{get:function(){return pa(Wp,"PIXI.extras.AnimatedSprite class has moved to PIXI.AnimatedSprite"),t.AnimatedSprite}},BitmapText:{get:function(){return pa(Wp,"PIXI.extras.BitmapText class has moved to PIXI.BitmapText"),t.BitmapText}}}),t.TilingSprite.fromFrame=function(e,r,n){return pa("5.3.0","TilingSprite.fromFrame is deprecated, use TilingSprite.from"),t.TilingSprite.from(e,{width:r,height:n})},t.TilingSprite.fromImage=function(e,r,n,i){return void 0===i&&(i={}),pa("5.3.0","TilingSprite.fromImage is deprecated, use TilingSprite.from"),i&&"object"!=typeof i&&(i={scaleMode:arguments[4],resourceOptions:{crossorigin:arguments[3]}}),i.width=r,i.height=n,t.TilingSprite.from(e,i)},Object.defineProperties(t.utils,{getSvgSize:{get:function(){return pa(Wp,"PIXI.utils.getSvgSize function has moved to PIXI.resources.SVGResource.getSize"),t.resources.SVGResource.getSize}}}),t.mesh={},Object.defineProperties(t.mesh,{Mesh:{get:function(){return pa(Wp,"PIXI.mesh.Mesh class has moved to PIXI.SimpleMesh"),t.SimpleMesh}},NineSlicePlane:{get:function(){return pa(Wp,"PIXI.mesh.NineSlicePlane class has moved to PIXI.NineSlicePlane"),t.NineSlicePlane}},Plane:{get:function(){return pa(Wp,"PIXI.mesh.Plane class has moved to PIXI.SimplePlane"),t.SimplePlane}},Rope:{get:function(){return pa(Wp,"PIXI.mesh.Rope class has moved to PIXI.SimpleRope"),t.SimpleRope}},RawMesh:{get:function(){return pa(Wp,"PIXI.mesh.RawMesh class has moved to PIXI.Mesh"),t.Mesh}},CanvasMeshRenderer:{get:function(){return pa(Wp,"PIXI.mesh.CanvasMeshRenderer class has moved to PIXI.CanvasMeshRenderer"),t.CanvasMeshRenderer}},MeshRenderer:{get:function(){return pa(Wp,"PIXI.mesh.MeshRenderer class has moved to PIXI.MeshRenderer"),t.MeshRenderer}}}),t.particles={},Object.defineProperties(t.particles,{ParticleContainer:{get:function(){return pa(Wp,"PIXI.particles.ParticleContainer class has moved to PIXI.ParticleContainer"),t.ParticleContainer}},ParticleRenderer:{get:function(){return pa(Wp,"PIXI.particles.ParticleRenderer class has moved to PIXI.ParticleRenderer"),t.ParticleRenderer}}}),t.ticker={},Object.defineProperties(t.ticker,{Ticker:{get:function(){return pa(Wp,"PIXI.ticker.Ticker class has moved to PIXI.Ticker"),t.Ticker}},shared:{get:function(){return pa(Wp,"PIXI.ticker.shared instance has moved to PIXI.Ticker.shared"),t.Ticker.shared}}}),t.loaders={},Object.defineProperties(t.loaders,{Loader:{get:function(){return pa(Wp,"PIXI.loaders.Loader class has moved to PIXI.Loader"),t.Loader}},Resource:{get:function(){return pa(Wp,"PIXI.loaders.Resource class has moved to PIXI.LoaderResource"),t.LoaderResource}},bitmapFontParser:{get:function(){return pa(Wp,"PIXI.loaders.bitmapFontParser function has moved to PIXI.BitmapFontLoader.use"),t.BitmapFontLoader.use}},parseBitmapFontData:{get:function(){pa(Wp,"PIXI.loaders.parseBitmapFontData function has removed")}},spritesheetParser:{get:function(){return pa(Wp,"PIXI.loaders.spritesheetParser function has moved to PIXI.SpritesheetLoader.use"),t.SpritesheetLoader.use}},getResourcePath:{get:function(){return pa(Wp,"PIXI.loaders.getResourcePath property has moved to PIXI.SpritesheetLoader.getResourcePath"),t.SpritesheetLoader.getResourcePath}}}),t.Loader.addPixiMiddleware=function(e){return pa(Wp,"PIXI.loaders.Loader.addPixiMiddleware function is deprecated, use PIXI.loaders.Loader.registerPlugin"),t.loaders.Loader.registerPlugin({use:e()})};var e=function(t){return"on"+t.charAt(0).toUpperCase()+t.slice(1)};Object.assign(t.Loader.prototype,{on:function(t){var r=e(t);pa(Wp,"PIXI.Loader#on is completely deprecated, use PIXI.Loader#"+r+".add")},once:function(t){var r=e(t);pa(Wp,"PIXI.Loader#once is completely deprecated, use PIXI.Loader#"+r+".once")},off:function(t){var r=e(t);pa(Wp,"PIXI.Loader#off is completely deprecated, use PIXI.Loader#"+r+".detach")}}),Object.defineProperty(t.extract,"WebGLExtract",{get:function(){return pa(Wp,"PIXI.extract.WebGLExtract method has moved to PIXI.Extract"),t.Extract}}),Object.defineProperty(t.prepare,"WebGLPrepare",{get:function(){return pa(Wp,"PIXI.prepare.WebGLPrepare class has moved to PIXI.Prepare"),t.Prepare}}),t.Container.prototype._renderWebGL=function(t){pa(Wp,"PIXI.Container._renderWebGL method has moved to PIXI.Container._render"),this._render(t)},t.Container.prototype.renderWebGL=function(t){pa(Wp,"PIXI.Container.renderWebGL method has moved to PIXI.Container.render"),this.render(t)},t.DisplayObject.prototype.renderWebGL=function(t){pa(Wp,"PIXI.DisplayObject.renderWebGL method has moved to PIXI.DisplayObject.render"),this.render(t)},t.Container.prototype.renderAdvancedWebGL=function(t){pa(Wp,"PIXI.Container.renderAdvancedWebGL method has moved to PIXI.Container.renderAdvanced"),this.renderAdvanced(t)},Object.defineProperties(t.settings,{TRANSFORM_MODE:{get:function(){return pa(Wp,"PIXI.settings.TRANSFORM_MODE property has been removed"),0},set:function(){pa(Wp,"PIXI.settings.TRANSFORM_MODE property has been removed")}}});var r=t.BaseTexture;r.prototype.loadSource=function(e){pa(Wp,"PIXI.BaseTexture.loadSource method has been deprecated");var r=t.resources.autoDetectResource(e);r.internal=!0,this.setResource(r),this.update()};var n=!1;Object.defineProperties(r.prototype,{hasLoaded:{get:function(){return pa(Wp,"PIXI.BaseTexture.hasLoaded property has been removed, use PIXI.BaseTexture.valid"),this.valid}},imageUrl:{get:function(){var t;return pa(Wp,"PIXI.BaseTexture.imageUrl property has been removed, use PIXI.BaseTexture.resource.url"),null===(t=this.resource)||void 0===t?void 0:t.url},set:function(t){pa(Wp,"PIXI.BaseTexture.imageUrl property has been removed, use PIXI.BaseTexture.resource.url"),this.resource&&(this.resource.url=t)}},source:{get:function(){return pa(Wp,"PIXI.BaseTexture.source property has been moved, use `PIXI.BaseTexture.resource.source`"),this.resource.source},set:function(t){pa(Wp,"PIXI.BaseTexture.source property has been moved, use `PIXI.BaseTexture.resource.source` if you want to set HTMLCanvasElement. Otherwise, create new BaseTexture."),this.resource&&(this.resource.source=t)}},premultiplyAlpha:{get:function(){return pa("5.2.0","PIXI.BaseTexture.premultiplyAlpha property has been changed to `alphaMode`, see `PIXI.ALPHA_MODES`"),0!==this.alphaMode},set:function(t){pa("5.2.0","PIXI.BaseTexture.premultiplyAlpha property has been changed to `alphaMode`, see `PIXI.ALPHA_MODES`"),this.alphaMode=Number(t)}},_id:{get:function(){return n||(pa("5.2.0","PIXI.BaseTexture._id batch local field has been changed to `_batchLocation`"),n=!0),this._batchLocation},set:function(t){this._batchLocation=t}}}),r.fromImage=function(t,e,n,i){pa(Wp,"PIXI.BaseTexture.fromImage method has been replaced with PIXI.BaseTexture.from");var o={scale:i,crossorigin:e};return r.from(t,{scaleMode:n,resourceOptions:o})},r.fromCanvas=function(t,e){return pa(Wp,"PIXI.BaseTexture.fromCanvas method has been replaced with PIXI.BaseTexture.from"),r.from(t,{scaleMode:e})},r.fromSVG=function(t,e,n,i){pa(Wp,"PIXI.BaseTexture.fromSVG method has been replaced with PIXI.BaseTexture.from");var o={scale:i,crossorigin:e};return r.from(t,{scaleMode:n,resourceOptions:o})},Object.defineProperties(t.resources.ImageResource.prototype,{premultiplyAlpha:{get:function(){return pa("5.2.0","PIXI.resources.ImageResource.premultiplyAlpha property has been changed to `alphaMode`, see `PIXI.ALPHA_MODES`"),0!==this.alphaMode},set:function(t){pa("5.2.0","PIXI.resources.ImageResource.premultiplyAlpha property has been changed to `alphaMode`, see `PIXI.ALPHA_MODES`"),this.alphaMode=Number(t)}}}),t.Point.prototype.copy=function(t){return pa(Wp,"PIXI.Point.copy method has been replaced with PIXI.Point.copyFrom"),this.copyFrom(t)},t.ObservablePoint.prototype.copy=function(t){return pa(Wp,"PIXI.ObservablePoint.copy method has been replaced with PIXI.ObservablePoint.copyFrom"),this.copyFrom(t)},t.Rectangle.prototype.copy=function(t){return pa(Wp,"PIXI.Rectangle.copy method has been replaced with PIXI.Rectangle.copyFrom"),this.copyFrom(t)},t.Matrix.prototype.copy=function(t){return pa(Wp,"PIXI.Matrix.copy method has been replaced with PIXI.Matrix.copyTo"),this.copyTo(t)},t.systems.StateSystem.prototype.setState=function(t){return pa("v5.1.0","StateSystem.setState has been renamed to StateSystem.set"),this.set(t)},Object.assign(t.systems.FilterSystem.prototype,{getRenderTarget:function(t,e){return pa(Wp,"PIXI.FilterManager.getRenderTarget method has been replaced with PIXI.systems.FilterSystem#getFilterTexture"),this.getFilterTexture(null,e)},returnRenderTarget:function(t){pa(Wp,"PIXI.FilterManager.returnRenderTarget method has been replaced with PIXI.systems.FilterSystem.returnFilterTexture"),this.returnFilterTexture(t)},calculateScreenSpaceMatrix:function(t){pa(Wp,"PIXI.systems.FilterSystem.calculateScreenSpaceMatrix method is removed, use `(vTextureCoord * inputSize.xy) + outputFrame.xy` instead");var e=t.identity(),r=this.activeState,n=r.sourceFrame,i=r.destinationFrame;return e.translate(n.x/i.width,n.y/i.height),e.scale(i.width,i.height),e},calculateNormalizedScreenSpaceMatrix:function(t){pa(Wp,"PIXI.systems.FilterManager.calculateNormalizedScreenSpaceMatrix method is removed, use `((vTextureCoord * inputSize.xy) + outputFrame.xy) / outputFrame.zw` instead.");var e=this.activeState,r=e.sourceFrame,n=e.destinationFrame,i=t.identity();i.translate(r.x/n.width,r.y/n.height);var o=n.width/r.width,s=n.height/r.height;return i.scale(o,s),i}}),Object.defineProperties(t.RenderTexture.prototype,{sourceFrame:{get:function(){return pa(Wp,"PIXI.RenderTexture.sourceFrame property has been removed"),this.filterFrame}},size:{get:function(){return pa(Wp,"PIXI.RenderTexture.size property has been removed"),this._frame}}});var i=function(t){function e(e,r,n,i){return pa(Wp,"PIXI.filters.BlurXFilter class is deprecated, use PIXI.filters.BlurFilterPass"),t.call(this,!0,e,r,n,i)||this}return Up(e,t),e}(t.filters.BlurFilterPass),o=function(t){function e(e,r,n,i){return pa(Wp,"PIXI.filters.BlurYFilter class is deprecated, use PIXI.filters.BlurFilterPass"),t.call(this,!1,e,r,n,i)||this}return Up(e,t),e}(t.filters.BlurFilterPass);Object.assign(t.filters,{BlurXFilter:i,BlurYFilter:o});var s=t.Sprite,a=t.Texture,u=t.Graphics;function l(t,e,r,n){return pa(Wp,"PIXI.Sprite."+t+" method is deprecated, use PIXI.Sprite.from"),s.from(e,{resourceOptions:{scale:n,crossorigin:r}})}function c(t,e,r,n){return pa(Wp,"PIXI.Texture."+t+" method is deprecated, use PIXI.Texture.from"),a.from(e,{resourceOptions:{scale:n,crossorigin:r}})}u.prototype.generateCanvasTexture||(u.prototype.generateCanvasTexture=function(){pa(Wp,'PIXI.Graphics.generateCanvasTexture method is only available in "pixi.js-legacy"')}),Object.defineProperty(u.prototype,"graphicsData",{get:function(){return pa(Wp,"PIXI.Graphics.graphicsData property is deprecated, use PIXI.Graphics.geometry.graphicsData"),this.geometry.graphicsData}}),s.fromImage=l.bind(null,"fromImage"),s.fromSVG=l.bind(null,"fromSVG"),s.fromCanvas=l.bind(null,"fromCanvas"),s.fromVideo=l.bind(null,"fromVideo"),s.fromFrame=l.bind(null,"fromFrame"),a.fromImage=c.bind(null,"fromImage"),a.fromSVG=c.bind(null,"fromSVG"),a.fromCanvas=c.bind(null,"fromCanvas"),a.fromVideo=c.bind(null,"fromVideo"),a.fromFrame=c.bind(null,"fromFrame"),Object.defineProperty(t.AbstractRenderer.prototype,"autoResize",{get:function(){return pa(Wp,"PIXI.AbstractRenderer.autoResize property is deprecated, use PIXI.AbstractRenderer.autoDensity"),this.autoDensity},set:function(t){pa(Wp,"PIXI.AbstractRenderer.autoResize property is deprecated, use PIXI.AbstractRenderer.autoDensity"),this.autoDensity=t}}),Object.defineProperty(t.Renderer.prototype,"textureManager",{get:function(){return pa(Wp,"PIXI.Renderer.textureManager property is deprecated, use PIXI.Renderer.texture"),this.texture}}),t.utils.mixins={mixin:function(){pa(Wp,"PIXI.utils.mixins.mixin function is no longer available")},delayMixin:function(){pa(Wp,"PIXI.utils.mixins.delayMixin function is no longer available")},performMixins:function(){pa(Wp,"PIXI.utils.mixins.performMixins function is no longer available")}},Object.defineProperty(t.BitmapText.prototype,"font",{get:function(){return pa("5.3.0","PIXI.BitmapText.font property is deprecated, use fontName, fontSize, tint or align properties"),{name:this._fontName,size:this._fontSize,tint:this._tint,align:this._align}},set:function(e){if(pa("5.3.0","PIXI.BitmapText.font property is deprecated, use fontName, fontSize, tint or align properties"),e){var r={font:e};this._upgradeStyle(r),r.fontSize=r.fontSize||t.BitmapFont.available[r.fontName].size,this._fontName=r.fontName,this._fontSize=r.fontSize,this.dirty=!0}}})}fc.registerPlugin("accessibility",ru),fc.registerPlugin("extract",Ac),fc.registerPlugin("interaction",pu),fc.registerPlugin("particle",ah),fc.registerPlugin("prepare",yf),fc.registerPlugin("batch",Pc),fc.registerPlugin("tilingSprite",Pf),Qc.registerPlugin(Vf),Qc.registerPlugin(bf),Tc.registerPlugin(ou),Tc.registerPlugin(th);var Hp="5.3.8",Xp={AlphaFilter:Kf,BlurFilter:bp,BlurFilterPass:mp,ColorMatrixFilter:_p,DisplacementFilter:xp,FXAAFilter:Sp,NoiseFilter:Tp};function Gp(t){return(Gp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Yp(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Vp(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Yp(Object(r),!0).forEach((function(e){qp(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Yp(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function qp(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Kp(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Zp(t,e){return(Zp=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Jp(t,e){return!e||"object"!==Gp(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function $p(t){return($p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Qp=null,td={width:100,height:100,fill:16777215,borderColor:53687091,borderWidth:1};const ed=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Zp(t,e)}(s,t);var e,r,n,i,o=(n=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=$p(n);if(i){var r=$p(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return Jp(this,t)});function s(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(t=o.call(this,Qp)).foreground=new Hh(Qp),t.addChild(t.foreground),t._height=null,t._width=null,t}return e=s,(r=[{key:"redraw",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=Vp(Vp({},td),t),r=e.fill,n=e.width,i=e.height,o=e.borderWidth,s=e.borderColor;if(this._height!==i||this._width!==n){this._height=i,this._width=n;var a=this.getScaleFactor(n,i);this.scale.set(a.scaleX,a.scaleY),this.tint=s,this.scaleForeGround(n,i,a,o),this.foreground.tint=r}}},{key:"scaleForeGround",value:function(t,e,r,n){var i=(t-2*n)/t,o=(e-2*n)/e;this.foreground.scale.set(i,o),this.foreground.position.set(n/r.scaleX,n/r.scaleY)}},{key:"getScaleFactor",value:function(t,e){return{scaleX:t/1e3,scaleY:e/1e3}}}])&&Kp(e.prototype,r),s}(Hh);function rd(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function nd(t,e,r){var n;return function(){var i=this,o=arguments,s=function(){n=null,r||t.apply(i,o)},a=r&&!n;clearTimeout(n),n=setTimeout(s,e),a&&t.apply(i,o)}}var id=function(t,e){var r,n=function(t){if(Array.isArray(t))return rd(t)}(r=t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(r)||function(t,e){if(t){if("string"==typeof t)return rd(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?rd(t,e):void 0}}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();return n.concat(n.splice(0,e))},od=function(t,e){t.querySelectorAll("[data-lang]").forEach((function(t){var r=t.dataset.lang;r in e&&(t.innerHTML=e[r])}))};function sd(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function ad(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const ud=function(){function t(e){var r=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),ad(this,"getMenuItemTemplate",(function(t){return'\n        <div class="navigation-item tooltip">\n            <div class="tooltiptext"></div>\n            <div class="navigation-item__number">'.concat(t,'</div>\n            <div class="navigation-item__title"></div>\n        </div>\n        ')})),ad(this,"getTitleLangKey",(function(t){return"".concat(t,"-title")})),ad(this,"getInfoLangKey",(function(t){return"".concat(t,"-info")})),ad(this,"updateCurrentPageUI",nd((function(t){r.showInfoText(t);var e=r.navigationContainer.querySelectorAll(".navigation-item"),n=r.controller.pageIDs.indexOf(t);e.forEach((function(t,e){e==n?t.classList.add("navigation-item--current"):t.classList.remove("navigation-item--current")}))}),100)),this.controller=e,this.mobileOverlays=document.querySelectorAll(".ui-container"),this.bodyRef=document.querySelector("body"),this.container=document.getElementById("rijndael-animation-ui"),this.playBtn=document.getElementById("rijndael-animation-play-btn"),this.forwardsBtn=document.getElementById("rijndael-animation-jump-forwards"),this.backwardsBtn=document.getElementById("rijndael-animation-jump-backwards"),this.settingsBtn=document.getElementById("rijndael-animation-settings-btn"),this.infoBtn=document.getElementById("rijndael-animation-info-btn"),this.navigationBtn=document.getElementById("rijndael-animation-navigation-btn"),this.formBtn=document.getElementById("rijndael-animation-form-btn"),this.navigationOverlay=document.getElementById("rijndael-animation-navigation-overlay"),this.infoOverlay=document.getElementById("rijndael-animation-info-overlay"),this.formOverlay=document.getElementById("rijndael-animation-form-overlay"),this.settingsOverlay=document.getElementById("rijndael-animation-settings-overlay"),this.navigationContainer=document.getElementById("rijndael-animation-navigation"),this.infoContainer=document.getElementById("rijndael-animation-info"),this.themeSelect=document.getElementById("rijndael-animation-theme-select"),this.langSelect=document.getElementById("rijndael-animation-lang-select"),this.jumpStepInput=document.getElementById("rijndael-animation-jump-step-input"),this.pageInfoTexts=[],this.createEventListeners()}var e,r;return e=t,(r=[{key:"resizeUI",value:function(){uiWidth<=900?this.container.style.height=document.body.clientHeight+"px":this.container.style.height="auto"}},{key:"createEventListeners",value:function(){var t=this;this.playBtn.addEventListener("click",(function(){t.hideAllOverlays(),t.higlightButton(),t.controller.timeline.isPaused()?t.controller.play():t.controller.pause()})),this.forwardsBtn.addEventListener("click",(function(){t.hideAllOverlays(),t.higlightButton(),t.controller.timeline.jumpForwards()})),this.backwardsBtn.addEventListener("click",(function(){t.hideAllOverlays(),t.higlightButton(),t.controller.timeline.jumpBackwards()})),this.infoBtn.addEventListener("click",(function(){t.onOverlayBtnPress(t.infoBtn,t.infoOverlay)})),this.navigationBtn.addEventListener("click",(function(){t.onOverlayBtnPress(t.navigationBtn,t.navigationOverlay)})),this.formBtn.addEventListener("click",(function(){t.onOverlayBtnPress(t.formBtn,t.formOverlay)})),this.settingsBtn.addEventListener("click",(function(){t.onOverlayBtnPress(t.settingsBtn,t.settingsOverlay)})),this.jumpStepInput.addEventListener("input",(function(e){var r=t.controller.timeline.JUMP_STEP,n=e.target.value;""!=n?0==(n=parseFloat(n))||/^\d(?:[.,]\d)?$/.test(n)?t.controller.timeline.setJumpStep(n):e.target.value=r:t.controller.timeline.setJumpStep(.5)}))}},{key:"updatePlayerLocale",value:function(){for(var t=document.querySelectorAll(".ui > div"),e=1;e<t.length;e++){var r=t[e];od(r,this.controller.getLocale())}}},{key:"showPlayIcon",value:function(){this.playBtn.classList.add("controlls__play-btn--paused")}},{key:"showPauseIcon",value:function(){this.playBtn.classList.remove("controlls__play-btn--paused")}},{key:"recreateNavigation",value:function(){var t=this;this.navigationContainer.innerHTML="",this.controller.pageIDs.forEach((function(e,r){var n=document.createElement("div");n.innerHTML=t.getMenuItemTemplate(r+1).trim();var i=n.firstChild;t.controller.locale.addLocaleToElement(t.getTitleLangKey(e),i.querySelector(".tooltiptext")),t.controller.locale.addLocaleToElement(t.getTitleLangKey(e),i.querySelector(".navigation-item__title")),i.addEventListener("click",(function(){t.controller.timeline.goToPage(e),t.hideAllOverlays(),t.higlightButton()})),t.navigationContainer.appendChild(i)}))}},{key:"getInfoTextTemplate",value:function(t){return'\n            <div class="info" id="rijndael-page-info-'.concat(t,'">\n                <h3 class="info__title"></h3>\n                <div class="info__body"></div>\n            </div>\n        ')}},{key:"addInfoText",value:function(t,e,r){var n=document.createElement("div");n.innerHTML=this.getInfoTextTemplate(t).trim();var i=n.firstChild;this.controller.locale.addLocaleToElement(this.getTitleLangKey(t),i.querySelector("h3")),this.controller.locale.addLocaleToElement(this.getInfoLangKey(t),i.querySelector(".info__body")),this.infoContainer.appendChild(i),this.pageInfoTexts.push(i)}},{key:"showInfoText",value:function(t){this.pageInfoTexts.forEach((function(e){e.id==="rijndael-page-info-".concat(t)?e.style.display="block":e.style.display="none"}))}},{key:"onOverlayBtnPress",value:function(t,e){var r=this.toggleOverlays(e);this.higlightButton(t,r)}},{key:"toggleOverlays",value:function(t){var e=null;return this.mobileOverlays.forEach((function(r){r!==t?r.classList.remove("ui-container--display"):e=r.classList.toggle("ui-container--display")})),e}},{key:"hideAllOverlays",value:function(){this.mobileOverlays.forEach((function(t){return t.classList.remove("ui-container--display")}))}},{key:"higlightButton",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=[this.navigationBtn,this.formBtn,this.infoBtn];r.forEach((function(r){r==t&&e?r.classList.add("ui__btn--selected"):r.classList.remove("ui__btn--selected")}))}}])&&sd(e.prototype,r),t}();function ld(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function cd(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ld(Object(r),!0).forEach((function(e){dd(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ld(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function hd(t){return function(t){if(Array.isArray(t))return fd(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return fd(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?fd(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fd(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function pd(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function dd(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const yd=function(){function t(e){var r=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),dd(this,"onAfterResize",nd((function(){console.time("onafter resize"),r.controller.redrawPages(),r.rebuildTimline(),console.timeEnd("onafter resize")}),300)),this.controller=e,this.tl=this.createEmptyTimeline(),this.nestedTimelines={},this.tlStateBeforeResize=null,this.JUMP_STEP=.5}var e,r;return e=t,(r=[{key:"createEmptyTimeline",value:function(){var t=this;return this.tl&&this.tl.kill(),this.tl=null,Yo.timeline({paused:!0,onComplete:function(){return t.pause()}})}},{key:"onResize",value:function(){this.tlStateBeforeResize||this.saveTimelineState(),this.onAfterResize()}},{key:"saveAndRebuildTimeline",value:function(){this.tlStateBeforeResize||this.saveTimelineState(),this.rebuildTimline()}},{key:"saveTimelineState",value:function(){var t=this.tl.paused();this.pause();var e=this.tl.totalTime(),r=this.getLabelsByTime(e);this.resetTimelineToLabel(r.label),this.tlStateBeforeResize={time:e,lastActiveLabels:r,paused:t},console.log(this.tlStateBeforeResize)}},{key:"getLabelsByTime",value:function(t){var e=this,r=this.tl.getChildren(!1,!1,!0),n=Object.keys(this.tl.labels).map((function(t){return[t,e.tl.labels[t]]})),i=this.getClosestLabel(t,n),o=r.reduce((function(t,e){return[].concat(hd(t),hd(Object.keys(e.labels).map((function(t){return[t,e.startTime()+e.labels[t]/e.timeScale()]}))))}),[]),s=this.getClosestLabel(t,o);return t-s.time<=t-i.time?{label:i.label,nestedLabel:s.label,time:s.time}:{label:i.label,nestedLabel:null,time:i.time}}},{key:"getClosestLabel",value:function(t,e){for(var r=e.sort((function(t,e){return t[1]-e[1]})),n=null,i=null,o=1e4,s=r.length-1;s>=0;s--){var a=r[s][0],u=r[s][1],l=t-u;l>=0&&l<o&&(i=u,n=a,o=l)}return{label:n,time:i}}},{key:"rebuildTimline",value:function(){this.controller.buildTimeline(),this.controller.hideCurrentPage();var t=this.tlStateBeforeResize.lastActiveLabels;this.resetTimelineToLabel(t.label),this.tlStateBeforeResize&&!1===this.tlStateBeforeResize.paused&&this.play(),this.tlStateBeforeResize=null,this.controller.isResizing=!1}},{key:"resetTimelineToLabel",value:function(t){this.tl.seek(t,!1)}},{key:"isPaused",value:function(){return this.tl.paused()}},{key:"play",value:function(){this.tl.totalTime()!=this.tl.totalDuration()&&(this.controller.ui.showPauseIcon(),this.tl.resume())}},{key:"goToPage",value:function(t){var e=this.tl.paused();this.tl.pause(),this.tl.seek("".concat(t,"-animation-main"),!1),e||this.tl.play(null,!1)}},{key:"pause",value:function(){this.controller.ui.showPlayIcon(),this.tl.pause()}},{key:"jumpForwards",value:function(){var t=this.tl.totalTime();this.tl.seek(t+this.JUMP_STEP,!1)}},{key:"jumpBackwards",value:function(){var t=this.tl.totalTime();this.tl.seek(t-this.JUMP_STEP,!1)}},{key:"setJumpStep",value:function(t){this.JUMP_STEP=t}},{key:"createTimeline",value:function(){var t=this;this.tl=this.createEmptyTimeline(),this.controller.pageIDs.forEach((function(e,r){var n,i=t.controller.pagesByID[e],o=i.timeline.createUpdatePage(0==r?null:t.controller.pageIDs[r-1]),s=i.timeline.createPreFadeIn(),a=i.timeline.createFadeIn(),u=i.timeline.createAnimationIn(),l=i.timeline.createAnimationMain(),c=i.timeline.createAnimationOut(),h=(dd(n={},"".concat(e,"-update-page"),o),dd(n,"".concat(e,"-pre-fade-in"),s),dd(n,"".concat(e,"-fade-in"),a),dd(n,"".concat(e,"-animation-in"),u),dd(n,"".concat(e,"-animation-main"),l),dd(n,"".concat(e,"-animation-out"),c),n);r!==t.controller.pageIDs.length-1&&(h["".concat(e,"-fade-out")]=i.timeline.createFadeOut()),Object.keys(h).forEach((function(e){t.tl.add(h[e],e)})),t.nestedTimelines=cd(cd({},t.nestedTimelines),h)}))}}])&&pd(e.prototype,r),t}();function gd(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function md(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?gd(Object(r),!0).forEach((function(e){bd(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gd(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function bd(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vd(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _d(t){return function(t){if(Array.isArray(t))return wd(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return wd(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?wd(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wd(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var xd=_d(new Array(30)).map((function(){return"00"})),Od={"galois-field":["02","03","01","01","01","02","03","01","01","01","02","03","03","01","01","02"],rcon:["01","02","04","08","10","20","40","80","1b","36"].concat(_d(xd))};const Sd=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.store=md({},Od),this.subscriptions={}}var e,r;return e=t,(r=[{key:"subscribe",value:function(t,e){var r=t in this.subscriptions?this.subscriptions[t]:[];this.subscriptions=md(md({},this.subscriptions),{},bd({},t,[].concat(_d(r),[e]))),this.setSubscriberData(this.getData(t),e)}},{key:"callSubscribers",value:function(t){var e=this,r=this.getData(t);this.getSubscribers(t).forEach((function(t){e.setSubscriberData(r,t)}))}},{key:"setSubscriberData",value:function(t,e){(e=Array.isArray(e)?e:[e]).forEach((function(e,r){var n=Array.isArray(t)?t[r]:t;e.updateContent(n)}))}},{key:"updateStore",value:function(t,e){this.store=md(md({},this.store),{},bd({},t,e)),this.callSubscribers(t)}},{key:"updateStoreByObject",value:function(t){var e=this;Object.keys(t).forEach((function(r){var n=t[r];e.updateStore(r,n)}))}},{key:"getSubscribers",value:function(t){return void 0!==this.subscriptions[t]?this.subscriptions[t]:[]}},{key:"getData",value:function(t){if(!t in this.store)throw new Error("key '".concat(t,"' not found in data store."));return this.store[t]||0}}])&&vd(e.prototype,r),t}();function Pd(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Td(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}const Ed=function(){function t(e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.controller=e,this.localesSelect=document.getElementById("rijndael-animation-lang-select"),this.locales=r,this.pixiLocalesReferences={},this.currentLocale=this.getCurrentPageLocale(),this.isValidLocaleKey(this.currentLocale)||(this.currentLocale=Object.keys(this.locales)[0]),this.updateHTMLLocale(),this.initLocalesSelect()}var e,r;return e=t,(r=[{key:"setLocale",value:function(t){this.isValidLocaleKey(t)&&(this.currentLocale=t,this.updatePIXILocale(),this.updateHTMLLocale())}},{key:"bindPixiReference",value:function(t,e,r){var n;t in this.pixiLocalesReferences==0&&(this.pixiLocalesReferences[t]={}),e in this.pixiLocalesReferences[t]?this.pixiLocalesReferences[t][e]=[].concat(function(t){if(Array.isArray(t))return Pd(t)}(n=this.pixiLocalesReferences[t][e])||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(n)||function(t,e){if(t){if("string"==typeof t)return Pd(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Pd(t,e):void 0}}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[r]):this.pixiLocalesReferences[t][e]=[r];var i=this.getCurrentLocaleObj()[t][e];this.updatePixiElementLocale(r,i)}},{key:"updatePixiElementLocale",value:function(t,e){t.updateContent?t.updateContent(e):t.text=e}},{key:"updatePIXILocale",value:function(){var t=this;Object.keys(this.pixiLocalesReferences).forEach((function(e){var r=t.pixiLocalesReferences[e];Object.keys(r).forEach((function(n){var i=r[n];if(Array.isArray(i)&&i.length>0){var o=t.getLocalePageText(e,n);i.forEach((function(e){t.updatePixiElementLocale(e,o)}))}}))}))}},{key:"updateHTMLLocale",value:function(){for(var t=document.querySelectorAll(".ui > div"),e=1;e<t.length;e++){var r=t[e];this.updateHTMLLocaleByContainer(r,this.getCurrentLocaleObj())}}},{key:"updateHTMLLocaleByContainer",value:function(t,e){t.querySelectorAll("[data-lang]").forEach((function(t){var r=t.dataset.lang;r in e&&(t.innerHTML=e[r])}))}},{key:"isValidLocaleKey",value:function(t){return Object.keys(this.locales).includes(t)}},{key:"getLocaleText",value:function(t){return this.getCurrentLocaleObj()[t]}},{key:"getLocalePageText",value:function(t,e){return this.getCurrentLocaleObj()[t][e]}},{key:"getCurrentLocaleObj",value:function(){return this.locales[this.currentLocale]}},{key:"addLocaleToElement",value:function(t,e){var r=this.getLocaleText(t);e.innerHTML=r,e.dataset.lang=t}},{key:"initLocalesSelect",value:function(){var t=this;Object.keys(this.locales).map((function(e){var r=document.createElement("option");r.value=e,r.innerHTML=t.getLocaleText("languageOption".concat(e.toUpperCase())),r.dataset.lang="languageOption".concat(e.toUpperCase()),e==t.currentLocale&&(r.selected=!0),t.localesSelect.appendChild(r)})),this.localesSelect.value=this.currentLocale,this.localesSelect.addEventListener("change",(function(e){var r=e.target.value;t.setLocale(r)}))}},{key:"getCurrentPageLocale",value:function(){return document.documentElement.lang}}])&&Td(e.prototype,r),t}();function Rd(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Ad(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Rd(Object(r),!0).forEach((function(e){Id(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Rd(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Id(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jd(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}const Cd=function(){function t(e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.controller=e,this.themes=r,this.themeContainer=document.querySelector("body"),this.themeSelect=document.getElementById("rijndael-animation-theme-select"),this.currentTheme=r[0].name,this.themeContainer.classList.add(r[0].className),this.themesByName=this.themes.reduce((function(t,e){return Ad(Ad({},t),{},Id({},e.name,e))}),{}),this.initThemeSelect()}var e,r;return e=t,(r=[{key:"setTheme",value:function(t){if(t!=this.currentTheme&&this.isValidTheme(t)){var e=this.themesByName[this.currentTheme].className;this.currentTheme=t;var r=this.themesByName[t].className;this.themeContainer.classList.remove(e),this.themeContainer.classList.add(r),this.controller.redrawPages()}}},{key:"getColor",value:function(t){return qs(getComputedStyle(this.themeContainer).getPropertyValue(t).trim())}},{key:"isValidTheme",value:function(t){return Object.keys(this.themesByName).includes(t)}},{key:"initThemeSelect",value:function(){var t=this;this.themes.map((function(e){var r=e.name,n=e.localeKey,i=document.createElement("option");i.value=r,i.innerHTML=t.controller.locale.getLocaleText(n),i.dataset.lang=n,t.themeSelect.appendChild(i)})),this.themeSelect.value=this.currentTheme,this.themeSelect.addEventListener("change",(function(e){var r=e.target.value;t.setTheme(r)}))}}])&&jd(e.prototype,r),t}();function kd(t){return function(t){if(Array.isArray(t))return Md(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return Md(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Md(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Md(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Ld(t){return(Ld="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var Dd="object"===("undefined"==typeof self?"undefined":Ld(self))&&self.self===self&&self||"object"===(void 0===r.g?"undefined":Ld(r.g))&&r.g.global===r.g&&r.g||void 0,Bd=function(t){return void 0!==Dd[t]};const Fd=function(t){var e;if(Bd("Buffer"))return kd(Dd.Buffer.from(t));if(e=t,Bd("TypedArray")&&e instanceof Dd.TypedArray)return kd(new Uint8Array(t.buffer));if("string"==typeof t)return kd(unescape(encodeURIComponent(t))).map((function(t){return t.charCodeAt(0)}));for(var r=Array.from(t),n=0;n<r.length;n++){var i=r[n];if(!Number.isInteger(i)||i<0||255<i)throw new Error("Given data is not a byte array (data[".concat(n,"] = ").concat(i,"))"))}return r};var Nd=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],Ud=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],Wd={16:[0,5,10,15,4,9,14,3,8,13,2,7,12,1,6,11],24:[0,5,10,15,4,9,14,19,8,13,18,23,12,17,22,3,16,21,2,7,20,1,6,11],32:[0,5,14,19,4,9,18,23,8,13,22,27,12,17,26,31,16,21,30,3,20,25,2,7,24,29,6,11,28,1,10,15]},zd=[0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,50,52,54,56,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,118,120,122,124,126,128,130,132,134,136,138,140,142,144,146,148,150,152,154,156,158,160,162,164,166,168,170,172,174,176,178,180,182,184,186,188,190,192,194,196,198,200,202,204,206,208,210,212,214,216,218,220,222,224,226,228,230,232,234,236,238,240,242,244,246,248,250,252,254,27,25,31,29,19,17,23,21,11,9,15,13,3,1,7,5,59,57,63,61,51,49,55,53,43,41,47,45,35,33,39,37,91,89,95,93,83,81,87,85,75,73,79,77,67,65,71,69,123,121,127,125,115,113,119,117,107,105,111,109,99,97,103,101,155,153,159,157,147,145,151,149,139,137,143,141,131,129,135,133,187,185,191,189,179,177,183,181,171,169,175,173,163,161,167,165,219,217,223,221,211,209,215,213,203,201,207,205,195,193,199,197,251,249,255,253,243,241,247,245,235,233,239,237,227,225,231,229],Hd=[0,3,6,5,12,15,10,9,24,27,30,29,20,23,18,17,48,51,54,53,60,63,58,57,40,43,46,45,36,39,34,33,96,99,102,101,108,111,106,105,120,123,126,125,116,119,114,113,80,83,86,85,92,95,90,89,72,75,78,77,68,71,66,65,192,195,198,197,204,207,202,201,216,219,222,221,212,215,210,209,240,243,246,245,252,255,250,249,232,235,238,237,228,231,226,225,160,163,166,165,172,175,170,169,184,187,190,189,180,183,178,177,144,147,150,149,156,159,154,153,136,139,142,141,132,135,130,129,155,152,157,158,151,148,145,146,131,128,133,134,143,140,137,138,171,168,173,174,167,164,161,162,179,176,181,182,191,188,185,186,251,248,253,254,247,244,241,242,227,224,229,230,239,236,233,234,203,200,205,206,199,196,193,194,211,208,213,214,223,220,217,218,91,88,93,94,87,84,81,82,67,64,69,70,79,76,73,74,107,104,109,110,103,100,97,98,115,112,117,118,127,124,121,122,59,56,61,62,55,52,49,50,35,32,37,38,47,44,41,42,11,8,13,14,7,4,1,2,19,16,21,22,31,28,25,26],Xd=[0,9,18,27,36,45,54,63,72,65,90,83,108,101,126,119,144,153,130,139,180,189,166,175,216,209,202,195,252,245,238,231,59,50,41,32,31,22,13,4,115,122,97,104,87,94,69,76,171,162,185,176,143,134,157,148,227,234,241,248,199,206,213,220,118,127,100,109,82,91,64,73,62,55,44,37,26,19,8,1,230,239,244,253,194,203,208,217,174,167,188,181,138,131,152,145,77,68,95,86,105,96,123,114,5,12,23,30,33,40,51,58,221,212,207,198,249,240,235,226,149,156,135,142,177,184,163,170,236,229,254,247,200,193,218,211,164,173,182,191,128,137,146,155,124,117,110,103,88,81,74,67,52,61,38,47,16,25,2,11,215,222,197,204,243,250,225,232,159,150,141,132,187,178,169,160,71,78,85,92,99,106,113,120,15,6,29,20,43,34,57,48,154,147,136,129,190,183,172,165,210,219,192,201,246,255,228,237,10,3,24,17,46,39,60,53,66,75,80,89,102,111,116,125,161,168,179,186,133,140,151,158,233,224,251,242,205,196,223,214,49,56,35,42,21,28,7,14,121,112,107,98,93,84,79,70],Gd=[0,11,22,29,44,39,58,49,88,83,78,69,116,127,98,105,176,187,166,173,156,151,138,129,232,227,254,245,196,207,210,217,123,112,109,102,87,92,65,74,35,40,53,62,15,4,25,18,203,192,221,214,231,236,241,250,147,152,133,142,191,180,169,162,246,253,224,235,218,209,204,199,174,165,184,179,130,137,148,159,70,77,80,91,106,97,124,119,30,21,8,3,50,57,36,47,141,134,155,144,161,170,183,188,213,222,195,200,249,242,239,228,61,54,43,32,17,26,7,12,101,110,115,120,73,66,95,84,247,252,225,234,219,208,205,198,175,164,185,178,131,136,149,158,71,76,81,90,107,96,125,118,31,20,9,2,51,56,37,46,140,135,154,145,160,171,182,189,212,223,194,201,248,243,238,229,60,55,42,33,16,27,6,13,100,111,114,121,72,67,94,85,1,10,23,28,45,38,59,48,89,82,79,68,117,126,99,104,177,186,167,172,157,150,139,128,233,226,255,244,197,206,211,216,122,113,108,103,86,93,64,75,34,41,52,63,14,5,24,19,202,193,220,215,230,237,240,251,146,153,132,143,190,181,168,163],Yd=[0,13,26,23,52,57,46,35,104,101,114,127,92,81,70,75,208,221,202,199,228,233,254,243,184,181,162,175,140,129,150,155,187,182,161,172,143,130,149,152,211,222,201,196,231,234,253,240,107,102,113,124,95,82,69,72,3,14,25,20,55,58,45,32,109,96,119,122,89,84,67,78,5,8,31,18,49,60,43,38,189,176,167,170,137,132,147,158,213,216,207,194,225,236,251,246,214,219,204,193,226,239,248,245,190,179,164,169,138,135,144,157,6,11,28,17,50,63,40,37,110,99,116,121,90,87,64,77,218,215,192,205,238,227,244,249,178,191,168,165,134,139,156,145,10,7,16,29,62,51,36,41,98,111,120,117,86,91,76,65,97,108,123,118,85,88,79,66,9,4,19,30,61,48,39,42,177,188,171,166,133,136,159,146,217,212,195,206,237,224,247,250,183,186,173,160,131,142,153,148,223,210,197,200,235,230,241,252,103,106,125,112,83,94,73,68,15,2,21,24,59,54,33,44,12,1,22,27,56,53,34,47,100,105,126,115,80,93,74,71,220,209,198,203,232,229,242,255,180,185,174,163,128,141,154,151],Vd=[0,14,28,18,56,54,36,42,112,126,108,98,72,70,84,90,224,238,252,242,216,214,196,202,144,158,140,130,168,166,180,186,219,213,199,201,227,237,255,241,171,165,183,185,147,157,143,129,59,53,39,41,3,13,31,17,75,69,87,89,115,125,111,97,173,163,177,191,149,155,137,135,221,211,193,207,229,235,249,247,77,67,81,95,117,123,105,103,61,51,33,47,5,11,25,23,118,120,106,100,78,64,82,92,6,8,26,20,62,48,34,44,150,152,138,132,174,160,178,188,230,232,250,244,222,208,194,204,65,79,93,83,121,119,101,107,49,63,45,35,9,7,21,27,161,175,189,179,153,151,133,139,209,223,205,195,233,231,245,251,154,148,134,136,162,172,190,176,234,228,246,248,210,220,206,192,122,116,102,104,66,76,94,80,10,4,22,24,50,60,46,32,236,226,240,254,212,218,200,198,156,146,128,142,164,170,184,182,12,2,16,30,52,58,40,38,124,114,96,110,68,74,88,86,55,57,43,37,15,1,19,29,71,73,91,85,127,113,99,109,215,217,203,197,239,225,243,253,167,169,187,181,159,145,131,141];function qd(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Kd(t,e){if(t){if("string"==typeof t)return Zd(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Zd(t,e):void 0}}function Zd(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Jd(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var $d=[16,24,32],Qd={16:{16:10,24:12,32:14},24:{16:12,24:12,32:14},32:{16:14,24:14,32:14}};const ty=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var r=e.length;if(!$d.includes(r))throw new Error("Unsupported key size: ".concat(8*r,"bit"));this.key=Fd(e),this.keySize=r}var e,r;return e=t,(r=[{key:"ExpandKey",value:function(t){for(var e=this.keySize,r=Qd[t][e],n=new Array((r+1)*t),i=0;i<e;i++)n[i]=this.key[i];for(var o=0,s=[],a=e;a<n.length;a+=4){var u=n.slice(a-4,a);if(a%e==0&&(u=[Nd[u[1]]^Ud[o],Nd[u[2]],Nd[u[3]],Nd[u[0]]],s.push.apply(s,function(t){if(Array.isArray(t))return Zd(t)}(f=u.slice())||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(f)||Kd(f)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o++),a%e<16)for(var l=0;l<4;l++)n[a+l]=n[a-e+l]^u[l];if(16!==e)if(32===e&&a%e==16){u=[Nd[u[0]],Nd[u[1]],Nd[u[2]],Nd[u[3]]];for(var c=0;c<4;c++)n[a+c]=n[a-e+c]^u[c]}else for(var h=0;h<4;h++)n[a+h]=n[a-e+h]^u[h]}var f;return[n,s]}},{key:"AddRoundKey",value:function(t,e,r){for(var n=t.length,i=0;i<n;i++)t[i]^=e[r*n+i]}},{key:"SubBytes",value:function(t){for(var e=0;e<t.length;e++)t[e]=Nd[t[e]]}},{key:"SubBytesReversed",value:function(t){for(var e=0;e<t.length;e++)t[e]=Nd.indexOf(t[e])}},{key:"ShiftRows",value:function(t){for(var e=[],r=0;r<t.length;r++)e[r]=t[Wd[t.length][r]];for(var n=0;n<t.length;n++)t[n]=e[n]}},{key:"ShiftRowsReversed",value:function(t){for(var e=[],r=0;r<t.length;r++)e[r]=t[Wd[t.length].indexOf(r)];for(var n=0;n<t.length;n++)t[n]=e[n]}},{key:"MixColumns",value:function(t){for(var e=0;e<t.length;e+=4){var r=t.slice(e,e+4),n=[zd[r[0]]^Hd[r[1]]^r[2]^r[3],r[0]^zd[r[1]]^Hd[r[2]]^r[3],r[0]^r[1]^zd[r[2]]^Hd[r[3]],Hd[r[0]]^r[1]^r[2]^zd[r[3]]];t[e+0]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3]}}},{key:"MixColumnsReversed",value:function(t){for(var e=0;e<t.length;e+=4){var r=t.slice(e,e+4),n=[Vd[r[0]]^Gd[r[1]]^Yd[r[2]]^Xd[r[3]],Xd[r[0]]^Vd[r[1]]^Gd[r[2]]^Yd[r[3]],Yd[r[0]]^Xd[r[1]]^Vd[r[2]]^Gd[r[3]],Gd[r[0]]^Yd[r[1]]^Xd[r[2]]^Vd[r[3]]];t[e+0]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3]}}},{key:"encrypt",value:function(t){var e,r=Fd(t),n=r.length,i=this.keySize,o=Qd[n][i];if(!$d.includes(n))throw new Error("Unsupported block size: ".concat(8*n,"bit"));var s=r.slice(),a=(qd(e={},"initial-state",s.slice()),qd(e,"sbox",Nd),e),u=function(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var r=[],n=!0,i=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(n=(s=a.next()).done)&&(r.push(s.value),!e||r.length!==e);n=!0);}catch(t){i=!0,o=t}finally{try{n||null==a.return||a.return()}finally{if(i)throw o}}return r}}(t,e)||Kd(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(this.ExpandKey(n),2),l=u[0],c=u[1];a["key-shedule-subbed-bytes"]=c,a["key-schedule"]=l.slice(),this.AddRoundKey(s,l,0),a["after-initial-round"]=s.slice();for(var h=1;h<o;h++)a["round-".concat(h,"-initial")]=s.slice(),this.SubBytes(s),a["after-sub-bytes-".concat(h)]=s.slice(),this.ShiftRows(s),a["after-shift-rows-".concat(h)]=s.slice(),this.MixColumns(s),a["after-mix-columns-".concat(h)]=s.slice(),this.AddRoundKey(s,l,h),a["after-add-round-key-".concat(h)]=s.slice();return a["round-10-initial"]=s.slice(),this.SubBytes(s),a["after-sub-bytes-10"]=s.slice(),this.ShiftRows(s),a["after-shift-rows-10"]=s.slice(),this.AddRoundKey(s,l,o),a["after-add-round-key-10"]=s.slice(),[s,a]}},{key:"decrypt",value:function(t){var e=Fd(t),r=e.length,n=this.keySize,i=Qd[r][n];if(!$d.includes(r))throw new Error("Unsupported block size: ".concat(8*r,"bit"));var o=e.slice(),s=this.ExpandKey(r);this.AddRoundKey(o,s,i),this.ShiftRowsReversed(o),this.SubBytesReversed(o);for(var a=i-1;1<=a;a--)this.AddRoundKey(o,s,a),this.MixColumnsReversed(o),this.ShiftRowsReversed(o),this.SubBytesReversed(o);return this.AddRoundKey(o,s,0),o}}])&&Jd(e.prototype,r),t}();function ey(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var r=[],n=!0,i=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(n=(s=a.next()).done)&&(r.push(s.value),!e||r.length!==e);n=!0);}catch(t){i=!0,o=t}finally{try{n||null==a.return||a.return()}finally{if(i)throw o}}return r}}(t,e)||function(t,e){if(t){if("string"==typeof t)return ry(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ry(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ry(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ny(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var iy=[16],oy=["ecb","cbc"];const sy=function(){function t(e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var n=e.length;if(!iy.includes(n))throw new Error("Unsupported key size: ".concat(8*n," bit"));if(!oy.includes(r))throw new Error("Unsupported mode: ".concat(r));this.key=Fd(e),this.keySize=n,this.mode=r}var e,r;return e=t,(r=[{key:"encrypt",value:function(t,e,r){if((e=parseInt(e))<=32&&!iy.includes(e))throw new Error("Unsupported block size: ".concat(8*e," bit"));if(32<e&&(e/=8,!iy.includes(e)))throw new Error("Unsupported block size: ".concat(e," bit"));if("cbc"===this.mode){if(!r)throw new Error("IV is required for mode ".concat(this.mode));if(r.length!==e)throw new Error("IV size should match with block size (".concat(8*e," bit)"))}var n=Fd(t),i=n.length%e;for(0!==i&&(i=e-i);i-- >0;)n.push(0);var o=n.length/e,s=new Array(n.length),a=new ty(this.key),u={key:this.key,keySize:this.keySize,mode:this.mode};switch(this.mode){case"ecb":for(var l=0;l<o;l++){var c=l*e,h=(l+1)*e,f=n.slice(c,h),p=ey(a.encrypt(f),2),d=p[0],y=p[1];u["block".concat(l)]=y;for(var g=0;g<e;g++)s[c+g]=d[g]}break;case"cbc":for(var m=Fd(r),b=0;b<o;b++){for(var v=b*e,_=(b+1)*e,w=n.slice(v,_),x=0;x<e;x++)w[x]^=m[x];for(var O=ey(a.encrypt(w),2),S=O[0],P=(O[1],0);P<e;P++)s[v+P]=S[P];m=S.slice()}}return[s,u]}},{key:"decrypt",value:function(t,e,r){if((e=parseInt(e))<=32&&!iy.includes(e))throw new Error("Unsupported block size: ".concat(8*e," bit"));if(32<e&&(e/=8,!iy.includes(e)))throw new Error("Unsupported block size: ".concat(e," bit"));if("cbc"===this.mode){if(!r)throw new Error("IV is required for mode ".concat(this.mode));if(r.length!==e)throw new Error("IV size should match with block size (".concat(8*e," bit)"))}var n=Fd(t);if(n.length%e!=0)throw new Error("Ciphertext length should be multiple of ".concat(8*e," bit"));var i=n.length/e,o=new Array(n.length),s=new ty(this.key);switch(this.mode){case"ecb":for(var a=0;a<i;a++)for(var u=a*e,l=(a+1)*e,c=n.slice(u,l),h=s.decrypt(c),f=0;f<e;f++)o[u+f]=h[f];break;case"cbc":for(var p=Fd(r),d=0;d<i;d++){for(var y=d*e,g=(d+1)*e,m=n.slice(y,g),b=s.decrypt(m),v=0;v<e;v++)o[y+v]=b[v]^p[v];p=m.slice()}}return o}}])&&ny(e.prototype,r),t}();var ay=function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,e="",r=0;r<t;r++)e+=Math.round(Math.random());return e},uy=function(t){return t*(Math.PI/180)};function ly(t){return t.map((function(t){return 1==(e=Number(t).toString(16).slice(-2).toUpperCase()).length?"0"+e:e;var e}))}var cy=function(t){return t?parseInt(t.replace(/^#/,""),16):0};function hy(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function fy(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?hy(Object(r),!0).forEach((function(e){gy(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hy(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function py(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var r=[],n=!0,i=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(n=(s=a.next()).done)&&(r.push(s.value),!e||r.length!==e);n=!0);}catch(t){i=!0,o=t}finally{try{n||null==a.return||a.return()}finally{if(i)throw o}}return r}}(t,e)||function(t,e){if(t){if("string"==typeof t)return dy(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?dy(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dy(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function yy(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function gy(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const my=function(){function t(e){var r=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),gy(this,"toGridByRow",(function(t,e,r){for(var n=new Array(r.length),i=0;i<e;i++)for(var o=0;o<t;o++)n[o*t+i]=r[i*e+o];return n})),this.controller=e,this.formButton=document.getElementById("rijndael-form-button"),this.outputField=document.getElementById("rijndael-form-ouput"),this.KeyField=document.getElementById("rijndael-form-key-input"),this.plaintextField=document.getElementById("rijndael-form-plaintext-input"),this.errors=null,this.formButton.addEventListener("click",(function(t){t.preventDefault(),r.onEcryptClick()})),this.onEcryptClick()}var e,r;return e=t,(r=[{key:"excuteRijndaelAES",value:function(t){var e=t.plaintext,r=t.key,n=py(new sy(r,"ecb").encrypt(e,128),2);return[n[0],n[1]]}},{key:"prepareRijndaelDataForDisplay",value:function(t){var e=this,r=t.block1,n=t.keySize,i=t.mode,o=t.key,s=fy({},r);return Object.keys(s).forEach((function(t){var r=s[t].slice();switch(t){case"key-schedule":for(var n=0;n<r.length/16;n++){var i=r.slice(16*n,16*n+16);s["key-".concat(n)]=ly(e.toGridByRow(4,4,i))}return;case"key-shedule-subbed-bytes":return s[t]=r,void(s["key-schedule-sub-bytes-grid"]=ly(r.splice(0,16)));case"sbox":return void(s[t]=ly(r));default:return void(s[t]=ly(e.toGridByRow(4,4,r)))}})),fy({keySize:n,mode:i,key:o},s)}},{key:"gatherFormData",value:function(){return{plaintext:this.plaintextField.value,key:this.KeyField.value}}},{key:"validateFormData",value:function(t){return!0}},{key:"onEcryptClick",value:function(){var t,e=this.gatherFormData();if(this.validateFormData(e)){var r=py(this.excuteRijndaelAES(e),2),n=r[0],i=r[1],o=(t=n,String.fromCharCode.apply(String,kd(t)));this.outputField.value=o;var s=this.prepareRijndaelDataForDisplay(i);console.log(s),this.controller.data.updateStoreByObject(s)}}}])&&yy(e.prototype,r),t}();class by{constructor(t){this.viewport=t,this.touches=[],this.addListeners()}addListeners(){this.viewport.interactive=!0,this.viewport.forceHitArea||(this.viewport.hitArea=new Ia(0,0,this.viewport.worldWidth,this.viewport.worldHeight)),this.viewport.on("pointerdown",this.down,this),this.viewport.on("pointermove",this.move,this),this.viewport.on("pointerup",this.up,this),this.viewport.on("pointerupoutside",this.up,this),this.viewport.on("pointercancel",this.up,this),this.viewport.on("pointerout",this.up,this),this.wheelFunction=t=>this.handleWheel(t),this.viewport.options.divWheel.addEventListener("wheel",this.wheelFunction,{passive:this.viewport.options.passiveWheel}),this.isMouseDown=!1}destroy(){this.viewport.options.divWheel.removeEventListener("wheel",this.wheelFunction)}down(t){if(!this.viewport.pause&&this.viewport.worldVisible){if("mouse"===t.data.pointerType?this.isMouseDown=!0:this.get(t.data.pointerId)||this.touches.push({id:t.data.pointerId,last:null}),1===this.count()){this.last=t.data.global.clone();const e=this.viewport.plugins.get("decelerate",!0),r=this.viewport.plugins.get("bounce",!0);e&&e.isActive()||r&&r.isActive()?this.clickedAvailable=!1:this.clickedAvailable=!0}else this.clickedAvailable=!1;this.viewport.plugins.down(t)&&this.viewport.options.stopPropagation&&t.stopPropagation()}}clear(){this.isMouseDown=!1,this.touches=[],this.last=null}checkThreshold(t){return Math.abs(t)>=this.viewport.threshold}move(t){if(this.viewport.pause||!this.viewport.worldVisible)return;const e=this.viewport.plugins.move(t);if(this.clickedAvailable){const e=t.data.global.x-this.last.x,r=t.data.global.y-this.last.y;(this.checkThreshold(e)||this.checkThreshold(r))&&(this.clickedAvailable=!1)}e&&this.viewport.options.stopPropagation&&t.stopPropagation()}up(t){if(this.viewport.pause||!this.viewport.worldVisible)return;"mouse"===t.data.pointerType&&(this.isMouseDown=!1),"mouse"!==t.data.pointerType&&this.remove(t.data.pointerId);const e=this.viewport.plugins.up(t);this.clickedAvailable&&0===this.count()&&(this.viewport.emit("clicked",{event:t,screen:this.last,world:this.viewport.toWorld(this.last),viewport:this}),this.clickedAvailable=!1),e&&this.viewport.options.stopPropagation&&t.stopPropagation()}getPointerPosition(t){let e=new La;return this.viewport.options.interaction?this.viewport.options.interaction.mapPositionToPoint(e,t.clientX,t.clientY):(e.x=t.clientX,e.y=t.clientY),e}handleWheel(t){if(this.viewport.pause||!this.viewport.worldVisible)return;if(this.viewport.options.interaction&&this.viewport.options.interaction.interactionDOMElement!==t.target)return;const e=this.viewport.toLocal(this.getPointerPosition(t));this.viewport.left<=e.x&&e.x<=this.viewport.right&&this.viewport.top<=e.y&&e.y<=this.viewport.bottom&&this.viewport.plugins.wheel(t)&&!this.viewport.options.passiveWheel&&t.preventDefault()}pause(){this.touches=[],this.isMouseDown=!1}get(t){for(let e of this.touches)if(e.id===t)return e;return null}remove(t){for(let e=0;e<this.touches.length;e++)if(this.touches[e].id===t)return void this.touches.splice(e,1)}count(){return(this.isMouseDown?1:0)+this.touches.length}}const vy=["drag","pinch","wheel","follow","mouse-edges","decelerate","aniamte","bounce","snap-zoom","clamp-zoom","snap","clamp"];class _y{constructor(t){this.viewport=t,this.list=[],this.plugins={}}add(t,e,r=vy.length){this.plugins[t]=e;const n=vy.indexOf(t);-1!==n&&vy.splice(n,1),vy.splice(r,0,t),this.sort()}get(t,e){return e&&this.plugins[t]&&this.plugins[t].paused?null:this.plugins[t]}update(t){for(let e of this.list)e.update(t)}resize(){for(let t of this.list)t.resize()}reset(){for(let t of this.list)t.reset()}removeAll(){this.plugins={},this.sort()}remove(t){this.plugins[t]&&(delete this.plugins[t],this.viewport.emit(t+"-remove"),this.sort())}pause(t){this.plugins[t]&&this.plugins[t].pause()}resume(t){this.plugins[t]&&this.plugins[t].resume()}sort(){this.list=[];for(let t of vy)this.plugins[t]&&this.list.push(this.plugins[t])}down(t){let e=!1;for(let r of this.list)r.down(t)&&(e=!0);return e}move(t){let e=!1;for(let r of this.viewport.plugins.list)r.move(t)&&(e=!0);return e}up(t){let e=!1;for(let r of this.list)r.up(t)&&(e=!0);return e}wheel(t){let e=!1;for(let r of this.list)r.wheel(t)&&(e=!0);return e}}class wy{constructor(t){this.parent=t,this.paused=!1}destroy(){}down(){return!1}move(){return!1}up(){return!1}wheel(){return!1}update(){}resize(){}reset(){}pause(){this.paused=!0}resume(){this.paused=!1}}const xy={direction:"all",pressDrag:!0,wheel:!0,wheelScroll:1,reverse:!1,clampWheel:!1,underflow:"center",factor:1,mouseButtons:"all",keyToPress:null,ignoreKeyToPressOnTouch:!1,lineHeight:20};class Oy extends wy{constructor(t,e={}){super(t),this.options=Object.assign({},xy,e),this.moved=!1,this.reverse=this.options.reverse?1:-1,this.xDirection=!this.options.direction||"all"===this.options.direction||"x"===this.options.direction,this.yDirection=!this.options.direction||"all"===this.options.direction||"y"===this.options.direction,this.keyIsPressed=!1,this.parseUnderflow(),this.mouseButtons(this.options.mouseButtons),this.options.keyToPress&&this.handleKeyPresses(this.options.keyToPress)}handleKeyPresses(t){window.addEventListener("keydown",(e=>{t.includes(e.code)&&(this.keyIsPressed=!0)})),window.addEventListener("keyup",(e=>{t.includes(e.code)&&(this.keyIsPressed=!1)}))}mouseButtons(t){this.mouse=t&&"all"!==t?[-1!==t.indexOf("left"),-1!==t.indexOf("middle"),-1!==t.indexOf("right")]:[!0,!0,!0]}parseUnderflow(){const t=this.options.underflow.toLowerCase();"center"===t?(this.underflowX=0,this.underflowY=0):(this.underflowX=-1!==t.indexOf("left")?-1:-1!==t.indexOf("right")?1:0,this.underflowY=-1!==t.indexOf("top")?-1:-1!==t.indexOf("bottom")?1:0)}checkButtons(t){const e="mouse"===t.data.pointerType,r=this.parent.input.count();return!(!(1===r||r>1&&!this.parent.plugins.get("pinch",!0))||e&&!this.mouse[t.data.button])}checkKeyPress(t){return!!(!this.options.keyToPress||this.keyIsPressed||this.options.ignoreKeyToPressOnTouch&&"touch"===t.data.pointerType)}down(t){if(!this.paused&&this.options.pressDrag)return this.checkButtons(t)&&this.checkKeyPress(t)?(this.last={x:t.data.global.x,y:t.data.global.y},this.current=t.data.pointerId,!0):void(this.last=null)}get active(){return this.moved}move(t){if(!this.paused&&this.options.pressDrag&&this.last&&this.current===t.data.pointerId){const e=t.data.global.x,r=t.data.global.y,n=this.parent.input.count();if(1===n||n>1&&!this.parent.plugins.get("pinch",!0)){const n=e-this.last.x,i=r-this.last.y;if(this.moved||this.xDirection&&this.parent.input.checkThreshold(n)||this.yDirection&&this.parent.input.checkThreshold(i)){const n={x:e,y:r};return this.xDirection&&(this.parent.x+=(n.x-this.last.x)*this.options.factor),this.yDirection&&(this.parent.y+=(n.y-this.last.y)*this.options.factor),this.last=n,this.moved||this.parent.emit("drag-start",{event:t,screen:new La(this.last.x,this.last.y),world:this.parent.toWorld(new La(this.last.x,this.last.y)),viewport:this.parent}),this.moved=!0,this.parent.emit("moved",{viewport:this.parent,type:"drag"}),!0}}else this.moved=!1}}up(t){if(this.paused)return;const e=this.parent.input.touches;if(1===e.length){const t=e[0];return t.last&&(this.last={x:t.last.x,y:t.last.y},this.current=t.id),this.moved=!1,!0}if(this.last&&this.moved){const e=new La(this.last.x,this.last.y);return this.parent.emit("drag-end",{event:t,screen:e,world:this.parent.toWorld(e),viewport:this.parent}),this.last=null,this.moved=!1,!0}}wheel(t){if(!this.paused&&this.options.wheel&&!this.parent.plugins.get("wheel",!0)){const e=t.deltaMode?this.options.lineHeight:1;return this.xDirection&&(this.parent.x+=t.deltaX*e*this.options.wheelScroll*this.reverse),this.yDirection&&(this.parent.y+=t.deltaY*e*this.options.wheelScroll*this.reverse),this.options.clampWheel&&this.clamp(),this.parent.emit("wheel-scroll",this.parent),this.parent.emit("moved",{viewport:this.parent,type:"wheel"}),this.parent.options.passiveWheel||t.preventDefault(),!0}}resume(){this.last=null,this.paused=!1}clamp(){const t=this.parent.plugins.get("decelerate",!0)||{};if("y"!==this.options.clampWheel)if(this.parent.screenWorldWidth<this.parent.screenWidth)switch(this.underflowX){case-1:this.parent.x=0;break;case 1:this.parent.x=this.parent.screenWidth-this.parent.screenWorldWidth;break;default:this.parent.x=(this.parent.screenWidth-this.parent.screenWorldWidth)/2}else this.parent.left<0?(this.parent.x=0,t.x=0):this.parent.right>this.parent.worldWidth&&(this.parent.x=-this.parent.worldWidth*this.parent.scale.x+this.parent.screenWidth,t.x=0);if("x"!==this.options.clampWheel)if(this.parent.screenWorldHeight<this.parent.screenHeight)switch(this.underflowY){case-1:this.parent.y=0;break;case 1:this.parent.y=this.parent.screenHeight-this.parent.screenWorldHeight;break;default:this.parent.y=(this.parent.screenHeight-this.parent.screenWorldHeight)/2}else this.parent.top<0&&(this.parent.y=0,t.y=0),this.parent.bottom>this.parent.worldHeight&&(this.parent.y=-this.parent.worldHeight*this.parent.scale.y+this.parent.screenHeight,t.y=0)}}const Sy={noDrag:!1,percent:1,center:null,factor:1,axis:"all"};class Py extends wy{constructor(t,e={}){super(t),this.options=Object.assign({},Sy,e)}down(){if(this.parent.input.count()>=2)return this.active=!0,!0}isAxisX(){return["all","x"].includes(this.options.axis)}isAxisY(){return["all","y"].includes(this.options.axis)}move(t){if(this.paused||!this.active)return;const e=t.data.global.x,r=t.data.global.y,n=this.parent.input.touches;if(n.length>=2){const i=n[0],o=n[1],s=i.last&&o.last?Math.sqrt(Math.pow(o.last.x-i.last.x,2)+Math.pow(o.last.y-i.last.y,2)):null;if(i.id===t.data.pointerId?i.last={x:e,y:r,data:t.data}:o.id===t.data.pointerId&&(o.last={x:e,y:r,data:t.data}),s){let t;const e={x:i.last.x+(o.last.x-i.last.x)/2,y:i.last.y+(o.last.y-i.last.y)/2};this.options.center||(t=this.parent.toLocal(e));let r=Math.sqrt(Math.pow(o.last.x-i.last.x,2)+Math.pow(o.last.y-i.last.y,2));r=0===r?r=1e-10:r;const n=(1-s/r)*this.options.percent*(this.isAxisX()?this.parent.scale.x:this.parent.scale.y);this.isAxisX()&&(this.parent.scale.x+=n),this.isAxisY()&&(this.parent.scale.y+=n),this.parent.emit("zoomed",{viewport:this.parent,type:"pinch",center:e});const a=this.parent.plugins.get("clamp-zoom",!0);if(a&&a.clamp(),this.options.center)this.parent.moveCenter(this.options.center);else{const r=this.parent.toGlobal(t);this.parent.x+=(e.x-r.x)*this.options.factor,this.parent.y+=(e.y-r.y)*this.options.factor,this.parent.emit("moved",{viewport:this.parent,type:"pinch"})}!this.options.noDrag&&this.lastCenter&&(this.parent.x+=(e.x-this.lastCenter.x)*this.options.factor,this.parent.y+=(e.y-this.lastCenter.y)*this.options.factor,this.parent.emit("moved",{viewport:this.parent,type:"pinch"})),this.lastCenter=e,this.moved=!0}else this.pinching||(this.parent.emit("pinch-start",this.parent),this.pinching=!0);return!0}}up(){if(this.pinching&&this.parent.input.touches.length<=1)return this.active=!1,this.lastCenter=null,this.pinching=!1,this.moved=!1,this.parent.emit("pinch-end",this.parent),!0}}const Ty={left:!1,right:!1,top:!1,bottom:!1,direction:null,underflow:"center"};class Ey extends wy{constructor(t,e={}){super(t),this.options=Object.assign({},Ty,e),this.options.direction&&(this.options.left="x"===this.options.direction||"all"===this.options.direction||null,this.options.right="x"===this.options.direction||"all"===this.options.direction||null,this.options.top="y"===this.options.direction||"all"===this.options.direction||null,this.options.bottom="y"===this.options.direction||"all"===this.options.direction||null),this.parseUnderflow(),this.last={x:null,y:null,scaleX:null,scaleY:null},this.update()}parseUnderflow(){const t=this.options.underflow.toLowerCase();"none"===t?this.noUnderflow=!0:"center"===t?(this.underflowX=this.underflowY=0,this.noUnderflow=!1):(this.underflowX=-1!==t.indexOf("left")?-1:-1!==t.indexOf("right")?1:0,this.underflowY=-1!==t.indexOf("top")?-1:-1!==t.indexOf("bottom")?1:0,this.noUnderflow=!1)}move(){return this.update(),!1}update(){if(this.paused)return;if(this.parent.x===this.last.x&&this.parent.y===this.last.y&&this.parent.scale.x===this.last.scaleX&&this.parent.scale.y===this.last.scaleY)return;const t={x:this.parent.x,y:this.parent.y},e=this.parent.plugins.decelerate||{};if(null!==this.options.left||null!==this.options.right){let r=!1;if(!this.noUnderflow&&this.parent.screenWorldWidth<this.parent.screenWidth)switch(this.underflowX){case-1:0!==this.parent.x&&(this.parent.x=0,r=!0);break;case 1:this.parent.x!==this.parent.screenWidth-this.parent.screenWorldWidth&&(this.parent.x=this.parent.screenWidth-this.parent.screenWorldWidth,r=!0);break;default:this.parent.x!==(this.parent.screenWidth-this.parent.screenWorldWidth)/2&&(this.parent.x=(this.parent.screenWidth-this.parent.screenWorldWidth)/2,r=!0)}else null!==this.options.left&&this.parent.left<(!0===this.options.left?0:this.options.left)&&(this.parent.x=-(!0===this.options.left?0:this.options.left)*this.parent.scale.x,e.x=0,r=!0),null!==this.options.right&&this.parent.right>(!0===this.options.right?this.parent.worldWidth:this.options.right)&&(this.parent.x=-(!0===this.options.right?this.parent.worldWidth:this.options.right)*this.parent.scale.x+this.parent.screenWidth,e.x=0,r=!0);r&&this.parent.emit("moved",{viewport:this.parent,original:t,type:"clamp-x"})}if(null!==this.options.top||null!==this.options.bottom){let r=!1;if(!this.noUnderflow&&this.parent.screenWorldHeight<this.parent.screenHeight)switch(this.underflowY){case-1:0!==this.parent.y&&(this.parent.y=0,r=!0);break;case 1:this.parent.y!==this.parent.screenHeight-this.parent.screenWorldHeight&&(this.parent.y=this.parent.screenHeight-this.parent.screenWorldHeight,r=!0);break;default:this.parent.y!==(this.parent.screenHeight-this.parent.screenWorldHeight)/2&&(this.parent.y=(this.parent.screenHeight-this.parent.screenWorldHeight)/2,r=!0)}else null!==this.options.top&&this.parent.top<(!0===this.options.top?0:this.options.top)&&(this.parent.y=-(!0===this.options.top?0:this.options.top)*this.parent.scale.y,e.y=0,r=!0),null!==this.options.bottom&&this.parent.bottom>(!0===this.options.bottom?this.parent.worldHeight:this.options.bottom)&&(this.parent.y=-(!0===this.options.bottom?this.parent.worldHeight:this.options.bottom)*this.parent.scale.y+this.parent.screenHeight,e.y=0,r=!0);r&&this.parent.emit("moved",{viewport:this.parent,original:t,type:"clamp-y"})}this.last.x=this.parent.x,this.last.y=this.parent.y,this.last.scaleX=this.parent.scale.x,this.last.scaleY=this.parent.scale.y}reset(){this.update()}}const Ry={minWidth:null,minHeight:null,maxWidth:null,maxHeight:null,minScale:null,maxScale:null};class Ay extends wy{constructor(t,e={}){super(t),this.options=Object.assign({},Ry,e),this.clamp()}resize(){this.clamp()}clamp(){if(!this.paused)if(this.options.minWidth||this.options.minHeight||this.options.maxWidth||this.options.maxHeight){let t=this.parent.worldScreenWidth,e=this.parent.worldScreenHeight;if(null!==this.options.minWidth&&t<this.options.minWidth){const r=this.parent.scale.x;this.parent.fitWidth(this.options.minWidth,!1,!1,!0),this.parent.scale.y*=this.parent.scale.x/r,t=this.parent.worldScreenWidth,e=this.parent.worldScreenHeight,this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"})}if(null!==this.options.maxWidth&&t>this.options.maxWidth){const r=this.parent.scale.x;this.parent.fitWidth(this.options.maxWidth,!1,!1,!0),this.parent.scale.y*=this.parent.scale.x/r,t=this.parent.worldScreenWidth,e=this.parent.worldScreenHeight,this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"})}if(null!==this.options.minHeight&&e<this.options.minHeight){const r=this.parent.scale.y;this.parent.fitHeight(this.options.minHeight,!1,!1,!0),this.parent.scale.x*=this.parent.scale.y/r,t=this.parent.worldScreenWidth,e=this.parent.worldScreenHeight,this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"})}if(null!==this.options.maxHeight&&e>this.options.maxHeight){const t=this.parent.scale.y;this.parent.fitHeight(this.options.maxHeight,!1,!1,!0),this.parent.scale.x*=this.parent.scale.y/t,this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"})}}else{let t=this.parent.scale.x;null!==this.options.minScale&&t<this.options.minScale&&(t=this.options.minScale),null!==this.options.maxScale&&t>this.options.maxScale&&(t=this.options.maxScale),t!==this.parent.scale.x&&(this.parent.scale.set(t),this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"}))}}reset(){this.clamp()}}const Iy={friction:.98,bounce:.8,minSpeed:.01},jy=16;class Cy extends wy{constructor(t,e={}){super(t),this.options=Object.assign({},Iy,e),this.saved=[],this.timeSinceRelease=0,this.reset(),this.parent.on("moved",(t=>this.moved(t)))}destroy(){this.parent}down(){this.saved=[],this.x=this.y=!1}isActive(){return this.x||this.y}move(){if(this.paused)return;const t=this.parent.input.count();(1===t||t>1&&!this.parent.plugins.get("pinch",!0))&&(this.saved.push({x:this.parent.x,y:this.parent.y,time:performance.now()}),this.saved.length>60&&this.saved.splice(0,30))}moved(t){if(this.saved.length){const e=this.saved[this.saved.length-1];"clamp-x"===t.type?e.x===t.original.x&&(e.x=this.parent.x):"clamp-y"===t.type&&e.y===t.original.y&&(e.y=this.parent.y)}}up(){if(0===this.parent.input.count()&&this.saved.length){const t=performance.now();for(let e of this.saved)if(e.time>=t-100){const r=t-e.time;this.x=(this.parent.x-e.x)/r,this.y=(this.parent.y-e.y)/r,this.percentChangeX=this.percentChangeY=this.options.friction,this.timeSinceRelease=0;break}}}activate(t){void 0!==(t=t||{}).x&&(this.x=t.x,this.percentChangeX=this.options.friction),void 0!==t.y&&(this.y=t.y,this.percentChangeY=this.options.friction)}update(t){if(this.paused)return;const e=this.x||this.y,r=this.timeSinceRelease,n=this.timeSinceRelease+t;if(this.x){const t=this.percentChangeX,e=Math.log(t);this.parent.x+=this.x*jy/e*(Math.pow(t,n/jy)-Math.pow(t,r/jy))}if(this.y){const t=this.percentChangeY,e=Math.log(t);this.parent.y+=this.y*jy/e*(Math.pow(t,n/jy)-Math.pow(t,r/jy))}this.timeSinceRelease+=t,this.x*=Math.pow(this.percentChangeX,t/jy),this.y*=Math.pow(this.percentChangeY,t/jy),Math.abs(this.x)<this.options.minSpeed&&(this.x=0),Math.abs(this.y)<this.options.minSpeed&&(this.y=0),e&&this.parent.emit("moved",{viewport:this.parent,type:"decelerate"})}reset(){this.x=this.y=null}}var ky,My="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==r.g?r.g:"undefined"!=typeof self?self:{},Ly=(function(t,e){(function(){var e,r;r=e={linear:function(t,e,r,n){return r*t/n+e},easeInQuad:function(t,e,r,n){return r*(t/=n)*t+e},easeOutQuad:function(t,e,r,n){return-r*(t/=n)*(t-2)+e},easeInOutQuad:function(t,e,r,n){return(t/=n/2)<1?r/2*t*t+e:-r/2*(--t*(t-2)-1)+e},easeInCubic:function(t,e,r,n){return r*(t/=n)*t*t+e},easeOutCubic:function(t,e,r,n){return r*((t=t/n-1)*t*t+1)+e},easeInOutCubic:function(t,e,r,n){return(t/=n/2)<1?r/2*t*t*t+e:r/2*((t-=2)*t*t+2)+e},easeInQuart:function(t,e,r,n){return r*(t/=n)*t*t*t+e},easeOutQuart:function(t,e,r,n){return-r*((t=t/n-1)*t*t*t-1)+e},easeInOutQuart:function(t,e,r,n){return(t/=n/2)<1?r/2*t*t*t*t+e:-r/2*((t-=2)*t*t*t-2)+e},easeInQuint:function(t,e,r,n){return r*(t/=n)*t*t*t*t+e},easeOutQuint:function(t,e,r,n){return r*((t=t/n-1)*t*t*t*t+1)+e},easeInOutQuint:function(t,e,r,n){return(t/=n/2)<1?r/2*t*t*t*t*t+e:r/2*((t-=2)*t*t*t*t+2)+e},easeInSine:function(t,e,r,n){return-r*Math.cos(t/n*(Math.PI/2))+r+e},easeOutSine:function(t,e,r,n){return r*Math.sin(t/n*(Math.PI/2))+e},easeInOutSine:function(t,e,r,n){return-r/2*(Math.cos(Math.PI*t/n)-1)+e},easeInExpo:function(t,e,r,n){return 0===t?e:r*Math.pow(2,10*(t/n-1))+e},easeOutExpo:function(t,e,r,n){return t===n?e+r:r*(1-Math.pow(2,-10*t/n))+e},easeInOutExpo:function(t,e,r,n){return(t/=n/2)<1?r/2*Math.pow(2,10*(t-1))+e:r/2*(2-Math.pow(2,-10*--t))+e},easeInCirc:function(t,e,r,n){return-r*(Math.sqrt(1-(t/=n)*t)-1)+e},easeOutCirc:function(t,e,r,n){return r*Math.sqrt(1-(t=t/n-1)*t)+e},easeInOutCirc:function(t,e,r,n){return(t/=n/2)<1?-r/2*(Math.sqrt(1-t*t)-1)+e:r/2*(Math.sqrt(1-(t-=2)*t)+1)+e},easeInElastic:function(t,e,r,n){var i,o,s;return s=1.70158,0===t||(t/=n),(o=0)||(o=.3*n),(i=r)<Math.abs(r)?(i=r,s=o/4):s=o/(2*Math.PI)*Math.asin(r/i),-i*Math.pow(2,10*(t-=1))*Math.sin((t*n-s)*(2*Math.PI)/o)+e},easeOutElastic:function(t,e,r,n){var i,o,s;return s=1.70158,0===t||(t/=n),(o=0)||(o=.3*n),(i=r)<Math.abs(r)?(i=r,s=o/4):s=o/(2*Math.PI)*Math.asin(r/i),i*Math.pow(2,-10*t)*Math.sin((t*n-s)*(2*Math.PI)/o)+r+e},easeInOutElastic:function(t,e,r,n){var i,o,s;return s=1.70158,0===t||(t/=n/2),(o=0)||(o=n*(.3*1.5)),(i=r)<Math.abs(r)?(i=r,s=o/4):s=o/(2*Math.PI)*Math.asin(r/i),t<1?i*Math.pow(2,10*(t-=1))*Math.sin((t*n-s)*(2*Math.PI)/o)*-.5+e:i*Math.pow(2,-10*(t-=1))*Math.sin((t*n-s)*(2*Math.PI)/o)*.5+r+e},easeInBack:function(t,e,r,n,i){return void 0===i&&(i=1.70158),r*(t/=n)*t*((i+1)*t-i)+e},easeOutBack:function(t,e,r,n,i){return void 0===i&&(i=1.70158),r*((t=t/n-1)*t*((i+1)*t+i)+1)+e},easeInOutBack:function(t,e,r,n,i){return void 0===i&&(i=1.70158),(t/=n/2)<1?r/2*(t*t*((1+(i*=1.525))*t-i))+e:r/2*((t-=2)*t*((1+(i*=1.525))*t+i)+2)+e},easeInBounce:function(t,r,n,i){return n-e.easeOutBounce(i-t,0,n,i)+r},easeOutBounce:function(t,e,r,n){return(t/=n)<1/2.75?r*(7.5625*t*t)+e:t<2/2.75?r*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?r*(7.5625*(t-=2.25/2.75)*t+.9375)+e:r*(7.5625*(t-=2.625/2.75)*t+.984375)+e},easeInOutBounce:function(t,r,n,i){return t<i/2?.5*e.easeInBounce(2*t,0,n,i)+r:.5*e.easeOutBounce(2*t-i,0,n,i)+.5*n+r}},t.exports=r}).call(My)}(ky={exports:{}}),ky.exports);function Dy(t,e){return t?"function"==typeof t?t:"string"==typeof t?Ly[t]:void 0:Ly[e]}const By={sides:"all",friction:.5,time:150,ease:"easeInOutSine",underflow:"center",bounceBox:null};class Fy extends wy{constructor(t,e={}){super(t),this.options=Object.assign({},By,e),this.ease=Dy(this.options.ease,"easeInOutSine"),this.options.sides&&("all"===this.options.sides?this.top=this.bottom=this.left=this.right=!0:"horizontal"===this.options.sides?this.right=this.left=!0:"vertical"===this.options.sides?this.top=this.bottom=!0:(this.top=-1!==this.options.sides.indexOf("top"),this.bottom=-1!==this.options.sides.indexOf("bottom"),this.left=-1!==this.options.sides.indexOf("left"),this.right=-1!==this.options.sides.indexOf("right"))),this.parseUnderflow(),this.last={},this.reset()}parseUnderflow(){const t=this.options.underflow.toLowerCase();"center"===t?(this.underflowX=0,this.underflowY=0):(this.underflowX=-1!==t.indexOf("left")?-1:-1!==t.indexOf("right")?1:0,this.underflowY=-1!==t.indexOf("top")?-1:-1!==t.indexOf("bottom")?1:0)}isActive(){return null!==this.toX||null!==this.toY}down(){this.toX=this.toY=null}up(){this.bounce()}update(t){if(!this.paused){if(this.bounce(),this.toX){const e=this.toX;e.time+=t,this.parent.emit("moved",{viewport:this.parent,type:"bounce-x"}),e.time>=this.options.time?(this.parent.x=e.end,this.toX=null,this.parent.emit("bounce-x-end",this.parent)):this.parent.x=this.ease(e.time,e.start,e.delta,this.options.time)}if(this.toY){const e=this.toY;e.time+=t,this.parent.emit("moved",{viewport:this.parent,type:"bounce-y"}),e.time>=this.options.time?(this.parent.y=e.end,this.toY=null,this.parent.emit("bounce-y-end",this.parent)):this.parent.y=this.ease(e.time,e.start,e.delta,this.options.time)}}}calcUnderflowX(){let t;switch(this.underflowX){case-1:t=0;break;case 1:t=this.parent.screenWidth-this.parent.screenWorldWidth;break;default:t=(this.parent.screenWidth-this.parent.screenWorldWidth)/2}return t}calcUnderflowY(){let t;switch(this.underflowY){case-1:t=0;break;case 1:t=this.parent.screenHeight-this.parent.screenWorldHeight;break;default:t=(this.parent.screenHeight-this.parent.screenWorldHeight)/2}return t}oob(){const t=this.options.bounceBox;if(t){const e=void 0===t.x?0:t.x,r=void 0===t.y?0:t.y,n=void 0===t.width?this.parent.worldWidth:t.width,i=void 0===t.height?this.parent.worldHeight:t.height;return{left:this.parent.left<e,right:this.parent.right>n,top:this.parent.top<r,bottom:this.parent.bottom>i,topLeft:new La(e*this.parent.scale.x,r*this.parent.scale.y),bottomRight:new La(n*this.parent.scale.x-this.parent.screenWidth,i*this.parent.scale.y-this.parent.screenHeight)}}return{left:this.parent.left<0,right:this.parent.right>this.parent.worldWidth,top:this.parent.top<0,bottom:this.parent.bottom>this.parent.worldHeight,topLeft:new La(0,0),bottomRight:new La(this.parent.worldWidth*this.parent.scale.x-this.parent.screenWidth,this.parent.worldHeight*this.parent.scale.y-this.parent.screenHeight)}}bounce(){if(this.paused)return;let t,e=this.parent.plugins.get("decelerate",!0);e&&(e.x||e.y)&&(e.x&&e.percentChangeX===e.options.friction||e.y&&e.percentChangeY===e.options.friction)&&(t=this.oob(),(t.left&&this.left||t.right&&this.right)&&(e.percentChangeX=this.options.friction),(t.top&&this.top||t.bottom&&this.bottom)&&(e.percentChangeY=this.options.friction));const r=this.parent.plugins.get("drag",!0)||{},n=this.parent.plugins.get("pinch",!0)||{};if(e=e||{},!(r.active||n.active||this.toX&&this.toY||e.x&&e.y)){t=t||this.oob();const r=t.topLeft,n=t.bottomRight;if(!this.toX&&!e.x){let e=null;t.left&&this.left?e=this.parent.screenWorldWidth<this.parent.screenWidth?this.calcUnderflowX():-r.x:t.right&&this.right&&(e=this.parent.screenWorldWidth<this.parent.screenWidth?this.calcUnderflowX():-n.x),null!==e&&this.parent.x!==e&&(this.toX={time:0,start:this.parent.x,delta:e-this.parent.x,end:e},this.parent.emit("bounce-x-start",this.parent))}if(!this.toY&&!e.y){let e=null;t.top&&this.top?e=this.parent.screenWorldHeight<this.parent.screenHeight?this.calcUnderflowY():-r.y:t.bottom&&this.bottom&&(e=this.parent.screenWorldHeight<this.parent.screenHeight?this.calcUnderflowY():-n.y),null!==e&&this.parent.y!==e&&(this.toY={time:0,start:this.parent.y,delta:e-this.parent.y,end:e},this.parent.emit("bounce-y-start",this.parent))}}}reset(){this.toX=this.toY=null,this.bounce()}}const Ny={topLeft:!1,friction:.8,time:1e3,ease:"easeInOutSine",interrupt:!0,removeOnComplete:!1,removeOnInterrupt:!1,forceStart:!1};class Uy extends wy{constructor(t,e,r,n={}){super(t),this.options=Object.assign({},Ny,n),this.ease=Dy(n.ease,"easeInOutSine"),this.x=e,this.y=r,this.options.forceStart&&this.snapStart()}snapStart(){this.percent=0,this.snapping={time:0};const t=this.options.topLeft?this.parent.corner:this.parent.center;this.deltaX=this.x-t.x,this.deltaY=this.y-t.y,this.startX=t.x,this.startY=t.y,this.parent.emit("snap-start",this.parent)}wheel(){this.options.removeOnInterrupt&&this.parent.plugins.remove("snap")}down(){this.options.removeOnInterrupt?this.parent.plugins.remove("snap"):this.options.interrupt&&(this.snapping=null)}up(){if(0===this.parent.input.count()){const t=this.parent.plugins.get("decelerate",!0);t&&(t.x||t.y)&&(t.percentChangeX=t.percentChangeY=this.options.friction)}}update(t){if(!(this.paused||this.options.interrupt&&0!==this.parent.input.count()))if(this.snapping){const e=this.snapping;let r,n,i;if(e.time+=t,e.time>this.options.time)r=!0,n=this.startX+this.deltaX,i=this.startY+this.deltaY;else{const t=this.ease(e.time,0,1,this.options.time);n=this.startX+this.deltaX*t,i=this.startY+this.deltaY*t}this.options.topLeft?this.parent.moveCorner(n,i):this.parent.moveCenter(n,i),this.parent.emit("moved",{viewport:this.parent,type:"snap"}),r&&(this.options.removeOnComplete&&this.parent.plugins.remove("snap"),this.parent.emit("snap-end",this.parent),this.snapping=null)}else{const t=this.options.topLeft?this.parent.corner:this.parent.center;t.x===this.x&&t.y===this.y||this.snapStart()}}}const Wy={width:0,height:0,time:1e3,ease:"easeInOutSine",center:null,interrupt:!0,removeOnComplete:!1,removeOnInterrupts:!1,forceStart:!1,noMove:!1};class zy extends wy{constructor(t,e={}){super(t),this.options=Object.assign({},Wy,e),this.ease=Dy(this.options.ease),this.options.width>0&&(this.xScale=t.screenWidth/this.options.width),this.options.height>0&&(this.yScale=t.screenHeight/this.options.height),this.xIndependent=!!this.xScale,this.yIndependent=!!this.yScale,this.xScale=this.xIndependent?this.xScale:this.yScale,this.yScale=this.yIndependent?this.yScale:this.xScale,0===this.options.time?(t.container.scale.x=this.xScale,t.container.scale.y=this.yScale,this.options.removeOnComplete&&this.parent.plugins.remove("snap-zoom")):e.forceStart&&this.createSnapping()}createSnapping(){this.parent.scale;const t=this.parent.worldScreenWidth,e=this.parent.worldScreenHeight,r=this.parent.screenWidth/this.xScale,n=this.parent.screenHeight/this.yScale;this.snapping={time:0,startX:t,startY:e,deltaX:r-t,deltaY:n-e},this.parent.emit("snap-zoom-start",this.parent)}resize(){this.snapping=null,this.options.width>0&&(this.xScale=this.parent.screenWidth/this.options.width),this.options.height>0&&(this.yScale=this.parent.screenHeight/this.options.height),this.xScale=this.xIndependent?this.xScale:this.yScale,this.yScale=this.yIndependent?this.yScale:this.xScale}wheel(){this.options.removeOnInterrupt&&this.parent.plugins.remove("snap-zoom")}down(){this.options.removeOnInterrupt?this.parent.plugins.remove("snap-zoom"):this.options.interrupt&&(this.snapping=null)}update(t){if(this.paused)return;if(this.options.interrupt&&0!==this.parent.input.count())return;let e;if(this.options.center||this.options.noMove||(e=this.parent.center),this.snapping){if(this.snapping){const r=this.snapping;if(r.time+=t,r.time>=this.options.time)this.parent.scale.set(this.xScale,this.yScale),this.options.removeOnComplete&&this.parent.plugins.remove("snap-zoom"),this.parent.emit("snap-zoom-end",this.parent),this.snapping=null;else{const t=this.snapping,e=this.ease(t.time,t.startX,t.deltaX,this.options.time),r=this.ease(t.time,t.startY,t.deltaY,this.options.time);this.parent.scale.x=this.parent.screenWidth/e,this.parent.scale.y=this.parent.screenHeight/r}const n=this.parent.plugins.get("clamp-zoom",!0);n&&n.clamp(),this.options.noMove||(this.options.center?this.parent.moveCenter(this.options.center):this.parent.moveCenter(e))}}else this.parent.scale.x===this.xScale&&this.parent.scale.y===this.yScale||this.createSnapping()}resume(){this.snapping=null,super.resume()}}const Hy={speed:0,acceleration:null,radius:null};class Xy extends wy{constructor(t,e,r={}){super(t),this.target=e,this.options=Object.assign({},Hy,r),this.velocity={x:0,y:0}}update(t){if(this.paused)return;const e=this.parent.center;let r=this.target.x,n=this.target.y;if(this.options.radius){if(!(Math.sqrt(Math.pow(this.target.y-e.y,2)+Math.pow(this.target.x-e.x,2))>this.options.radius))return;{const t=Math.atan2(this.target.y-e.y,this.target.x-e.x);r=this.target.x-Math.cos(t)*this.options.radius,n=this.target.y-Math.sin(t)*this.options.radius}}const i=r-e.x,o=n-e.y;if(i||o)if(this.options.speed)if(this.options.acceleration){const s=Math.atan2(n-e.y,r-e.x),a=Math.sqrt(Math.pow(i,2)+Math.pow(o,2));if(a){const u=(Math.pow(this.velocity.x,2)+Math.pow(this.velocity.y,2))/(2*this.options.acceleration);this.velocity=a>u?{x:Math.min(this.velocity.x+this.options.acceleration*t,this.options.speed),y:Math.min(this.velocity.y+this.options.acceleration*t,this.options.speed)}:{x:Math.max(this.velocity.x-this.options.acceleration*this.options.speed,0),y:Math.max(this.velocity.y-this.options.acceleration*this.options.speed,0)};const l=Math.cos(s)*this.velocity.x,c=Math.sin(s)*this.velocity.y,h=Math.abs(l)>Math.abs(i)?r:e.x+l,f=Math.abs(c)>Math.abs(o)?n:e.y+c;this.parent.moveCenter(h,f),this.parent.emit("moved",{viewport:this.parent,type:"follow"})}}else{const t=Math.atan2(n-e.y,r-e.x),s=Math.cos(t)*this.options.speed,a=Math.sin(t)*this.options.speed,u=Math.abs(s)>Math.abs(i)?r:e.x+s,l=Math.abs(a)>Math.abs(o)?n:e.y+a;this.parent.moveCenter(u,l),this.parent.emit("moved",{viewport:this.parent,type:"follow"})}else this.parent.moveCenter(r,n),this.parent.emit("moved",{viewport:this.parent,type:"follow"})}}const Gy={percent:.1,smooth:!1,interrupt:!0,reverse:!1,center:null,lineHeight:20,axis:"all"};class Yy extends wy{constructor(t,e={}){super(t),this.options=Object.assign({},Gy,e)}down(){this.options.interrupt&&(this.smoothing=null)}isAxisX(){return["all","x"].includes(this.options.axis)}isAxisY(){return["all","y"].includes(this.options.axis)}update(){if(this.smoothing){const t=this.smoothingCenter,e=this.smoothing;let r;this.options.center||(r=this.parent.toLocal(t)),this.isAxisX()&&(this.parent.scale.x+=e.x),this.isAxisY()&&(this.parent.scale.y+=e.y),this.parent.emit("zoomed",{viewport:this.parent,type:"wheel"});const n=this.parent.plugins.get("clamp-zoom",!0);if(n&&n.clamp(),this.options.center)this.parent.moveCenter(this.options.center);else{const e=this.parent.toGlobal(r);this.parent.x+=t.x-e.x,this.parent.y+=t.y-e.y}this.parent.emit("moved",{viewport:this.parent,type:"wheel"}),this.smoothingCount++,this.smoothingCount>=this.options.smooth&&(this.smoothing=null)}}wheel(t){if(this.paused)return;let e=this.parent.input.getPointerPosition(t);const r=(this.options.reverse?-1:1)*-t.deltaY*(t.deltaMode?this.options.lineHeight:1)/500,n=Math.pow(2,(1+this.options.percent)*r);if(this.options.smooth){const t={x:this.smoothing?this.smoothing.x*(this.options.smooth-this.smoothingCount):0,y:this.smoothing?this.smoothing.y*(this.options.smooth-this.smoothingCount):0};this.smoothing={x:((this.parent.scale.x+t.x)*n-this.parent.scale.x)/this.options.smooth,y:((this.parent.scale.y+t.y)*n-this.parent.scale.y)/this.options.smooth},this.smoothingCount=0,this.smoothingCenter=e}else{let t;this.options.center||(t=this.parent.toLocal(e)),this.isAxisX()&&(this.parent.scale.x*=n),this.isAxisY()&&(this.parent.scale.y*=n),this.parent.emit("zoomed",{viewport:this.parent,type:"wheel"});const r=this.parent.plugins.get("clamp-zoom",!0);if(r&&r.clamp(),this.options.center)this.parent.moveCenter(this.options.center);else{const r=this.parent.toGlobal(t);this.parent.x+=e.x-r.x,this.parent.y+=e.y-r.y}}return this.parent.emit("moved",{viewport:this.parent,type:"wheel"}),this.parent.emit("wheel",{wheel:{dx:t.deltaX,dy:t.deltaY,dz:t.deltaZ},event:t,viewport:this.parent}),!this.parent.options.passiveWheel||void 0}}const Vy={radius:null,distance:null,top:null,bottom:null,left:null,right:null,speed:8,reverse:!1,noDecelerate:!1,linear:!1,allowButtons:!1};class qy extends wy{constructor(t,e={}){super(t),this.options=Object.assign({},Vy,e),this.reverse=this.options.reverse?1:-1,this.radiusSquared=Math.pow(this.options.radius,2),this.resize()}resize(){const t=this.options.distance;null!==t?(this.left=t,this.top=t,this.right=this.parent.worldScreenWidth-t,this.bottom=this.parent.worldScreenHeight-t):this.radius||(this.left=this.options.left,this.top=this.options.top,this.right=null===this.options.right?null:this.parent.worldScreenWidth-this.options.right,this.bottom=null===this.options.bottom?null:this.parent.worldScreenHeight-this.options.bottom)}down(){this.paused||this.options.allowButtons||(this.horizontal=this.vertical=null)}move(t){if(this.paused)return;if("mouse"!==t.data.pointerType&&1!==t.data.identifier||!this.options.allowButtons&&0!==t.data.buttons)return;const e=t.data.global.x,r=t.data.global.y;if(this.radiusSquared){const t=this.parent.toScreen(this.parent.center);if(Math.pow(t.x-e,2)+Math.pow(t.y-r,2)>=this.radiusSquared){const n=Math.atan2(t.y-r,t.x-e);this.options.linear?(this.horizontal=Math.round(Math.cos(n))*this.options.speed*this.reverse*.06,this.vertical=Math.round(Math.sin(n))*this.options.speed*this.reverse*.06):(this.horizontal=Math.cos(n)*this.options.speed*this.reverse*.06,this.vertical=Math.sin(n)*this.options.speed*this.reverse*.06)}else this.horizontal&&this.decelerateHorizontal(),this.vertical&&this.decelerateVertical(),this.horizontal=this.vertical=0}else null!==this.left&&e<this.left?this.horizontal=1*this.reverse*this.options.speed*.06:null!==this.right&&e>this.right?this.horizontal=-1*this.reverse*this.options.speed*.06:(this.decelerateHorizontal(),this.horizontal=0),null!==this.top&&r<this.top?this.vertical=1*this.reverse*this.options.speed*.06:null!==this.bottom&&r>this.bottom?this.vertical=-1*this.reverse*this.options.speed*.06:(this.decelerateVertical(),this.vertical=0)}decelerateHorizontal(){const t=this.parent.plugins.get("decelerate",!0);this.horizontal&&t&&!this.options.noDecelerate&&t.activate({x:this.horizontal*this.options.speed*this.reverse/(1e3/60)})}decelerateVertical(){const t=this.parent.plugins.get("decelerate",!0);this.vertical&&t&&!this.options.noDecelerate&&t.activate({y:this.vertical*this.options.speed*this.reverse/(1e3/60)})}up(){this.paused||(this.horizontal&&this.decelerateHorizontal(),this.vertical&&this.decelerateVertical(),this.horizontal=this.vertical=null)}update(){if(!this.paused&&(this.horizontal||this.vertical)){const t=this.parent.center;this.horizontal&&(t.x+=this.horizontal*this.options.speed),this.vertical&&(t.y+=this.vertical*this.options.speed),this.parent.moveCenter(t),this.parent.emit("moved",{viewport:this.parent,type:"mouse-edges"})}}}const Ky={removeOnInterrupt:!1,ease:"linear",time:1e3};class Zy extends wy{constructor(t,e={}){super(t),this.options=Object.assign({},Ky,e),this.options.ease=Dy(this.options.ease),this.setupPosition(),this.setupZoom()}setupPosition(){void 0!==this.options.position?(this.startX=this.parent.center.x,this.startY=this.parent.center.y,this.deltaX=this.options.position.x-this.parent.center.x,this.deltaY=this.options.position.y-this.parent.center.y,this.keepCenter=!1):this.keepCenter=!0}setupZoom(){this.width=null,this.height=null,void 0!==this.options.scale?this.width=this.parent.screenWidth/this.options.scale:void 0!==this.options.scaleX||void 0!==this.options.scaleY?(void 0!==this.options.scaleX&&(this.width=this.parent.screenWidth/this.options.scaleX),void 0!==this.options.scaleY&&(this.height=this.parent.screenHeight/this.options.scaleY)):(void 0!==this.options.width&&(this.width=this.options.width),void 0!==this.options.height&&(this.height=this.options.height)),null!==typeof this.width&&(this.startWidth=this.parent.screenWidthInWorldPixels,this.deltaWidth=this.width-this.startWidth),null!==typeof this.height&&(this.startHeight=this.parent.screenHeightInWorldPixels,this.deltaHeight=this.height-this.startHeight),this.time=0}down(){this.options.removeOnInterrupt&&this.parent.plugins.remove("animate")}complete(){this.parent.plugins.remove("animate"),null!==this.width&&this.parent.fitWidth(this.width,this.keepCenter,null===this.height),null!==this.height&&this.parent.fitHeight(this.height,this.keepCenter,null===this.width),this.keepCenter||this.parent.moveCenter(this.options.position.x,this.options.position.y),this.parent.emit("animate-end",this.parent),this.options.callbackOnComplete&&this.options.callbackOnComplete(this.parent)}update(t){if(!this.paused)if(this.time+=t,this.time>=this.options.time)this.complete();else{const t=new La(this.parent.scale.x,this.parent.scale.y),e=this.options.ease(this.time,0,1,this.options.time);if(null!==this.width&&this.parent.fitWidth(this.startWidth+this.deltaWidth*e,this.keepCenter,null===this.height),null!==this.height&&this.parent.fitHeight(this.startHeight+this.deltaHeight*e,this.keepCenter,null===this.width),null===this.width?this.parent.scale.x=this.parent.scale.y:null===this.height&&(this.parent.scale.y=this.parent.scale.x),!this.keepCenter){const t=new La(this.parent.x,this.parent.y);this.parent.moveCenter(this.startX+this.deltaX*e,this.startY+this.deltaY*e),this.parent.emit("moved",{viewport:this.parent,original:t,type:"animate"})}(this.width||this.height)&&this.parent.emit("zoomed",{viewport:this.parent,original:t,type:"animate"}),this.keepCenter}}}const Jy={screenWidth:window.innerWidth,screenHeight:window.innerHeight,worldWidth:null,worldHeight:null,threshold:5,passiveWheel:!0,stopPropagation:!1,forceHitArea:null,noTicker:!1,interaction:null,disableOnContextMenu:!1};class $y extends Qa{constructor(t={}){if(super(),this.options=Object.assign({},Jy,t),t.ticker)this.options.ticker=t.ticker;else{let e;const r=i;e=parseInt(/^(\d+)\./.exec(Hp)[1])<5?r.ticker.shared:r.Ticker.shared,this.options.ticker=t.ticker||e}this.screenWidth=this.options.screenWidth,this.screenHeight=this.options.screenHeight,this._worldWidth=this.options.worldWidth,this._worldHeight=this.options.worldHeight,this.forceHitArea=this.options.forceHitArea,this.threshold=this.options.threshold,this.options.divWheel=this.options.divWheel||document.body,this.options.disableOnContextMenu&&(this.options.divWheel.oncontextmenu=t=>t.preventDefault()),this.options.noTicker||(this.tickerFunction=()=>this.update(this.options.ticker.elapsedMS),this.options.ticker.add(this.tickerFunction)),this.input=new by(this),this.plugins=new _y(this)}destroy(t){this.options.noTicker||this.options.ticker.remove(this.tickerFunction),this.input.destroy(),super.destroy(t)}update(t){this.pause||(this.plugins.update(t),this.lastViewport&&(this.lastViewport.x!==this.x||this.lastViewport.y!==this.y?this.moving=!0:this.moving&&(this.emit("moved-end",this),this.moving=!1),this.lastViewport.scaleX!==this.scale.x||this.lastViewport.scaleY!==this.scale.y?this.zooming=!0:this.zooming&&(this.emit("zoomed-end",this),this.zooming=!1)),this.forceHitArea||(this._hitAreaDefault=new Ia(this.left,this.top,this.worldScreenWidth,this.worldScreenHeight),this.hitArea=this._hitAreaDefault),this._dirty=this._dirty||!this.lastViewport||this.lastViewport.x!==this.x||this.lastViewport.y!==this.y||this.lastViewport.scaleX!==this.scale.x||this.lastViewport.scaleY!==this.scale.y,this.lastViewport={x:this.x,y:this.y,scaleX:this.scale.x,scaleY:this.scale.y},this.emit("frame-end",this))}resize(t=window.innerWidth,e=window.innerHeight,r,n){this.screenWidth=t,this.screenHeight=e,void 0!==r&&(this._worldWidth=r),void 0!==n&&(this._worldHeight=n),this.plugins.resize(),this.dirty=!0}get worldWidth(){return this._worldWidth?this._worldWidth:this.width/this.scale.x}set worldWidth(t){this._worldWidth=t,this.plugins.resize()}get worldHeight(){return this._worldHeight?this._worldHeight:this.height/this.scale.y}set worldHeight(t){this._worldHeight=t,this.plugins.resize()}getVisibleBounds(){return new Ia(this.left,this.top,this.worldScreenWidth,this.worldScreenHeight)}toWorld(t,e){return 2===arguments.length?this.toLocal(new La(t,e)):this.toLocal(t)}toScreen(t,e){return 2===arguments.length?this.toGlobal(new La(t,e)):this.toGlobal(t)}get worldScreenWidth(){return this.screenWidth/this.scale.x}get worldScreenHeight(){return this.screenHeight/this.scale.y}get screenWorldWidth(){return this.worldWidth*this.scale.x}get screenWorldHeight(){return this.worldHeight*this.scale.y}get center(){return new La(this.worldScreenWidth/2-this.x/this.scale.x,this.worldScreenHeight/2-this.y/this.scale.y)}set center(t){this.moveCenter(t)}moveCenter(){let t,e;isNaN(arguments[0])?(t=arguments[0].x,e=arguments[0].y):(t=arguments[0],e=arguments[1]);const r=(this.worldScreenWidth/2-t)*this.scale.x,n=(this.worldScreenHeight/2-e)*this.scale.y;return this.x===r&&this.y===n||(this.position.set(r,n),this.plugins.reset(),this.dirty=!0),this}get corner(){return new La(-this.x/this.scale.x,-this.y/this.scale.y)}set corner(t){this.moveCorner(t)}moveCorner(){let t,e;return 1===arguments.length?(t=-arguments[0].x*this.scale.x,e=-arguments[0].y*this.scale.y):(t=-arguments[0]*this.scale.x,e=-arguments[1]*this.scale.y),t===this.x&&e===this.y||(this.position.set(t,e),this.plugins.reset(),this.dirty=!0),this}get screenWidthInWorldPixels(){return this.screenWidth/this.scale.x}get screenHeightInWorldPixels(){return this.screenHeight/this.scale.y}findFitWidth(t){return this.screenWidth/t}findFitHeight(t){return this.screenHeight/t}findFit(t,e){const r=this.screenWidth/t,n=this.screenHeight/e;return Math.min(r,n)}findCover(t,e){const r=this.screenWidth/t,n=this.screenHeight/e;return Math.max(r,n)}fitWidth(t,e,r=!0,n){let i;e&&(i=this.center),this.scale.x=this.screenWidth/t,r&&(this.scale.y=this.scale.x);const o=this.plugins.get("clamp-zoom",!0);return!n&&o&&o.clamp(),e&&this.moveCenter(i),this}fitHeight(t,e,r=!0,n){let i;e&&(i=this.center),this.scale.y=this.screenHeight/t,r&&(this.scale.x=this.scale.y);const o=this.plugins.get("clamp-zoom",!0);return!n&&o&&o.clamp(),e&&this.moveCenter(i),this}fitWorld(t){let e;t&&(e=this.center),this.scale.x=this.screenWidth/this.worldWidth,this.scale.y=this.screenHeight/this.worldHeight,this.scale.x<this.scale.y?this.scale.y=this.scale.x:this.scale.x=this.scale.y;const r=this.plugins.get("clamp-zoom",!0);return r&&r.clamp(),t&&this.moveCenter(e),this}fit(t,e=this.worldWidth,r=this.worldHeight){let n;t&&(n=this.center),this.scale.x=this.screenWidth/e,this.scale.y=this.screenHeight/r,this.scale.x<this.scale.y?this.scale.y=this.scale.x:this.scale.x=this.scale.y;const i=this.plugins.get("clamp-zoom",!0);return i&&i.clamp(),t&&this.moveCenter(n),this}set visible(t){t||this.input.clear(),super.visible=t}setZoom(t,e){let r;e&&(r=this.center),this.scale.set(t);const n=this.plugins.get("clamp-zoom",!0);return n&&n.clamp(),e&&this.moveCenter(r),this}zoomPercent(t,e){return this.setZoom(this.scale.x+this.scale.x*t,e)}zoom(t,e){return this.fitWidth(t+this.worldScreenWidth,e),this}set scaled(t){this.setZoom(t,!0)}get scaled(){return this.scale.x}snapZoom(t){return this.plugins.add("snap-zoom",new zy(this,t)),this}OOB(){return{left:this.left<0,right:this.right>this.worldWidth,top:this.top<0,bottom:this.bottom>this._worldHeight,cornerPoint:new La(this.worldWidth*this.scale.x-this.screenWidth,this.worldHeight*this.scale.y-this.screenHeight)}}get right(){return-this.x/this.scale.x+this.worldScreenWidth}set right(t){this.x=-t*this.scale.x+this.screenWidth,this.plugins.reset()}get left(){return-this.x/this.scale.x}set left(t){this.x=-t*this.scale.x,this.plugins.reset()}get top(){return-this.y/this.scale.y}set top(t){this.y=-t*this.scale.y,this.plugins.reset()}get bottom(){return-this.y/this.scale.y+this.worldScreenHeight}set bottom(t){this.y=-t*this.scale.y+this.screenHeight,this.plugins.reset()}get dirty(){return this._dirty}set dirty(t){this._dirty=t}get forceHitArea(){return this._forceHitArea}set forceHitArea(t){t?(this._forceHitArea=t,this.hitArea=t):(this._forceHitArea=null,this.hitArea=new Ia(0,0,this.worldWidth,this.worldHeight))}drag(t){return this.plugins.add("drag",new Oy(this,t)),this}clamp(t){return this.plugins.add("clamp",new Ey(this,t)),this}decelerate(t){return this.plugins.add("decelerate",new Cy(this,t)),this}bounce(t){return this.plugins.add("bounce",new Fy(this,t)),this}pinch(t){return this.plugins.add("pinch",new Py(this,t)),this}snap(t,e,r){return this.plugins.add("snap",new Uy(this,t,e,r)),this}follow(t,e){return this.plugins.add("follow",new Xy(this,t,e)),this}wheel(t){return this.plugins.add("wheel",new Yy(this,t)),this}animate(t){return this.plugins.add("animate",new Zy(this,t)),this}clampZoom(t){return this.plugins.add("clamp-zoom",new Ay(this,t)),this}mouseEdges(t){return this.plugins.add("mouse-edges",new qy(this,t)),this}get pause(){return this._pause}set pause(t){this._pause=t,this.lastViewport=null,this.moving=!1,this.zooming=!1,t&&this.input.pause()}ensureVisible(t,e,r,n,i){i&&(r>this.worldScreenWidth||n>this.worldScreenHeight)&&(this.fit(!0,r,n),this.emit("zoomed",{viewport:this,type:"ensureVisible"}));let o=!1;t<this.left?(this.left=t,o=!0):t+r>this.right&&(this.right=t+r,o=!0),e<this.top?(this.top=e,o=!0):e+n>this.bottom&&(this.bottom=e+n,o=!0),o&&this.emit("moved",{viewport:this,type:"ensureVisible"})}}function Qy(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}const tg=function(){function t(e){var r,n,i=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),n=function(){var t=i.container.getBoundingClientRect();i.ANIMATION_DIMENSIONS.width=t.width,i.ANIMATION_DIMENSIONS.height=t.height,i.ANIMATION_DIMENSIONS.widthPercent=t.width/100,i.ANIMATION_DIMENSIONS.heightPercent=t.height/100},(r="updateAnimationDimensions")in this?Object.defineProperty(this,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):this[r]=n,this.app=null,this.settings=e,this.container=document.getElementById("rijndael-animation-screen"),this.ANIMATION_DIMENSIONS={width:null,height:null,widthPercent:null,heightPercent:null},this.pageIDs=[],this.pagesByID={},this.currentPage=null,this.isResizing=!1,this.locale=new Ed(this,e.locale),this.theme=new Cd(this,e.themes),this.data=new Sd(this),this.timeline=new yd(this),this.ui=new ud(this),this.form=new my(this);var o=this.onResize.bind(this);window.addEventListener("resize",o),this.app=null,this.init()}var e,r;return e=t,(r=[{key:"init",value:function(){console.log("init"),this.updateAnimationDimensions(),this.app=new Tc({autoDensity:!0,resolution:2});var t,e,r=this.container.getBoundingClientRect();this.app.renderer.resize(r.width,r.height),t=this.app.renderer,(e=new Nh).beginFill(16777215),e.drawRect(0,0,1e3,1e3),e.endFill(),Qp=t.generateTexture(e),this.container.appendChild(this.app.view),this.viewport=new $y({screenWidth:this.ANIMATION_DIMENSIONS.width,screenHeight:this.ANIMATION_DIMENSIONS.height,worldWidth:this.ANIMATION_DIMENSIONS.width,worldHeight:this.ANIMATION_DIMENSIONS.height,interaction:this.app.renderer.plugins.interaction}),this.app.stage.addChild(this.viewport),this.app.renderer.view.style.touchAction="auto",this.viewport.pinch({noDrag:!0}).clampZoom({maxWidth:this.ANIMATION_DIMENSIONS.width,maxHeight:this.ANIMATION_DIMENSIONS.height,maxScale:2}).clamp({direction:"all"})}},{key:"onResize",value:function(){this.isResizing=!0,this.updateAnimationDimensions(),this.app.renderer.resize(this.ANIMATION_DIMENSIONS.width,this.ANIMATION_DIMENSIONS.height),this.viewport.resize(this.ANIMATION_DIMENSIONS.width,this.ANIMATION_DIMENSIONS.height,this.ANIMATION_DIMENSIONS.width,this.ANIMATION_DIMENSIONS.height),this.timeline.onResize(),this.pagesByID[this.currentPage].redraw()}},{key:"hideCurrentPage",value:function(){this.pagesByID[this.currentPage].hide()}},{key:"setCurrentPage",value:function(t){this.currentPage=t,this.ui.updateCurrentPageUI(t)}},{key:"redrawPages",value:function(){var t=this;this.pageIDs.map((function(e){t.pagesByID[e].redraw()}))}},{key:"play",value:function(){this.timeline.play()}},{key:"pause",value:function(){this.timeline.pause()}},{key:"goToFirstPage",value:function(){this.timeline.tl.seek("".concat(this.pageIDs[0],"-animation-main"),!1)}},{key:"registerAnimationPage",value:function(t,e){var r=new t;r.initPage(e,this),this.pageIDs.push(e),this.pagesByID[e]=r,r.hide(),this.viewport.addChild(r),this.ui.addInfoText(e)}},{key:"buildTimeline",value:function(){this.timeline.createTimeline(),this.ui.recreateNavigation()}}])&&Qy(e.prototype,r),t}(),eg={de:JSON.parse('{"playButtonTooltip":"Wiedergabe / Pause","jumpForwardsTooltip":"Forwrts springen","jumpBackwardsTooltip":"Zurck springen","settingsButtonTooltip":"Einstellungen","settingsTitle":"Einstellungen","settingsThemeLabel":"Theme:","settingsJumpLabel":"Sprungweite (sekunden)","settingsLanguageLabel":"Sprache","themeOptionDefault":"Standard","themeOptionNew":"Test","languageOptionEN":"Englisch","languageOptionDE":"Deutsch","formTitle":"Rijndael Animation Data","formInfo":"Vernderungen werden in der Animation gezeigt. Probier es aus!","plaintextLabel":"Klartext","keyLabel":"Schlssel","outputLabel":"Ausgabe","encryptButtonLabel":"Verschlsseln","page-1-title":"Seite 1 - Rijndael Animation Intro","page-1-info":"Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. ","page-2-title":"Seite 2 - Encryption Overview","page-2-info":"Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. ","page-3-title":"Seite 3 - Encryption Process and Cipher Key","page-3-info":"Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. ","page-4-title":"Seite 4 - A) Encryption Process","page-4-info":"Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. ","page-5-title":"Seite 5 - Encryption Process Overview","page-5-info":"Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. ","page-6-title":"Seite 6 - Transformation Types","page-6-info":"Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. ","page-7-title":"Seite 7 - SubBytes","page-7-info":"Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. ","page-8-title":"Seite 8 - ShiftRows","page-8-info":"Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. ","page-9-title":"Seite 9 - MixColumns","page-9-info":"Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. ","page-10-title":"Seite 10 - AddRoundKey","page-10-info":"Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. ","page-11-title":"Seite 11 - Rounds 1 - 5","page-11-info":"Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. ","page-12-title":"Seite 12 - Rounds 6 - 10","page-12-info":"Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. ","page-13-title":"Seite 13 - B) Cipher Key","page-13-info":"Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. ","page-14-title":"Seite 14 - Cipher Key","page-14-info":"Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. ","page-1":{"titlePartOne":"Rijndael","titlePartTwo":"Cipher","text":"In der Animation wurde sowohl fr den Datenblock als auch fr den Schlssel eine Lnge von 128 Bit angenommen"},"page-2":{"boxText":"Rijndael-Verschlsseler","textLeft":"Hauptschlssel","textBottom":"Geheimtext","textTop":"Klartext"},"page-3":{"title":"Input","subtitleLeft":"State","subtitleRight":"Hauptschlssel","explanationLeft":"Dies ist ein Block vom Klartext, der verschlsselt werden soll","explanationRight":"Hexadezimal-Darstellung (Beispiel):","textLeft":"zum Verschlsselungs-Prozess","textRight":"zur Schlsselgenerierung"},"page-4":{"title":"Verschlsselungs-Prozess","text":"(Durchfhrung der Verschlsselung fr den gegebenen Klartextblock mit Hilfe von 4 verschiedenen Transformationen in der Initial-Rounde, den 9 Haupt-Runden und in der Final-Runde)"},"page-5":{"title":"Verschlsselungsprozess","titleInitialRound":"Initial-Runde","titleMainRounds":"9 Hauptrunden","titleFinalRound":"Final-Runde","labelInitial":"AddRoundKey","labelMrone":"1-SubBytes","labelMrTwo":"2-ShiftRows","labelMrThree":"3-MixColumns","labelMrFour":"4-addRoundKey","labelFrOne":"SubBytes","labelFrTwo":"ShiftRows","labelFrThree":"AddRoundKey","boxTitleOne":"Hauptschlssel","boxTitleTwo":"Rundenschlssel 0","boxTitleThree":"Rundenschlssel 10","round":"Runde"},"page-6":{"title":"Die vier Arten der Verschlsselungs-Transformationen:","labelOne":"1-SubBytes","labelTwo":"2-ShiftRows","labelThree":"3-MixColumns","labelFour":"4-addRoundKey"},"page-7":{"title":"1 - SubBytes","round":"Runde 1","sboxLabel":"S-Box","sboxExplanation":"Byte-Ersetzungstabelle"},"page-8":{"title":"2 - ShiftRows","rotateTextOne":"Rotation um 1 Byte","rotateTextTwo":"Rotation um 2 Bytes","rotateTextThree":"Rotation um 3 Bytes"},"page-9":{"title":"3 - MixColumns","text":"Die 4 Zahlen einer Spalte werden mit einer gegebenen Matrix modulo multipliziert in einem Rijndael-Galois-Feld","text2":"Der MixColumns-Schritt ist zusammen mit dem ShiftRows-Schritt die Hauptursache fr die Diffusion in der Rijndael-Chiffre."},"page-10":{"title":"4 - AddRoundKey","roundKeyLabel":"Rundenschlssel","roundKeyText":"(hergeleitet als Rundenschlssel 1 bei der Schlsselgenerierung - siehe Seite 14)"},"page-11":{"introText":"Diese vier Transformationen werden in den 9 Hauptrunden auf den Klartextblock angewandt. Die MixColumns-Transformation wird in der Final-Runde nicht benutzt.","roundLabel":"Start der Runde","subBytesLabel":"Nach SubBytes","ShiftRowsLabel":"Nach ShiftRows","MixColumnsLabel":"Nach MixColumns","RoundKeyLabel":"Runden-Schlssel","inputLabel":"Input","roundOneLabel":"Runde 1","roundTwoLabel":"Runde 2","roundThreeLabel":"Runde 3","roundFourLabel":"Runde 4","roundFiveLabel":"Runde 5"},"page-12":{"roundLabel":"Start der Runde","subBytesLabel":"Nach SubBytes","ShiftRowsLabel":"Nach ShiftRows","MixColumnsLabel":"Nach MixColumns","RoundKeyLabel":"Runden-Schlssel","outputLabel":"Ausgabe","roundSixLabel":"Runde 6","roundSevenLabel":"Runde 7","roundEightLabel":"Runde 8","roundNineLabel":"Runde 9","roundTenLabel":"Runde 10","cipherTextLabel":"Geheimtext"},"page-13":{"title":"Schlsselgenerierung","text":"(Expandierung des gegebenen Hauptschlssel in 11 Teilschlssel, die in der Initial-Runde, den 9 Haupt-Runden und in der Final-Runde benutzt werden)"},"page-14":{"title":"Schlsselgenerierung","RotWordLabel":"RotWord","RconLabel":"Rcon","SubBytesLabel":"SubBytes","SBoxLabel":"S-Box","WOne":"Wi-4","WTwo":"Wi-1","WThree":"Wi","RconFourLabel":"Rcon(4)","textIntro":"Der expandierte Schlssel kann als Verktor von 32-Bit-Worten (Spalten) betrachtet werden. Die Indizes der Spalten wi laufen von 0 bis 43. Die ersten vier Spalten werden mit dem gegebenen Hauptschlssel gefllt.","text":"Die Worte auf durch 4 teilbaren Positionen (W4, W5, ..., W40) werden","textA":"a) Anwenden der Funktion RotWord","textB":"b) Mit der XOR-Funktion das erste Ergebnis mit dem Vorgngerwort Wi - 4. verknfen. Danach die XOR-Funktion auf das folgende Ergebnis und auf Elemente der Rundenkostante Rcon anwenden.","textXOR":"Die restlichen 32-Bit-Worte wi werden berechnet, indem das jeweilige Vorgngerwort wi-1 XOR-verknpft wird mit dem Wort wi-4 vier Positionen vorher.","cipherKeyLabel":"Hauptschlssel","roundKeyOneLabel":"Rundenschlssel 1","roundKeyTwoLabel":"Rundenschlssel 2","roundKeyThreeLabel":"Rundenschlssely 3","roundKeyTenLabel":"Rundenschlssel 10"}}'),en:JSON.parse('{"playButtonTooltip":"Play / pause","jumpForwardsTooltip":"Jump forwards","jumpBackwardsTooltip":"Jump backwards","settingsButtonTooltip":"Settings","settingsTitle":"Settings","settingsThemeLabel":"Theme:","settingsJumpLabel":"Jump duration (seconds)","settingsLanguageLabel":"Language","themeOptionDefault":"Default","themeOptionNew":"Test","languageOptionEN":"English","languageOptionDE":"German","formTitle":"Rijndael Animation Data","formInfo":"Updatating change the animation. Try it out!","plaintextLabel":"Plaintext","keyLabel":"Key","outputLabel":"Output","encryptButtonLabel":"Encrypt","page-1-title":"Page 1 - Rijndael Animation Intro","page-1-info":"Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. ","page-2-title":"Page 2 - Encryption Overview","page-2-info":"Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. ","page-3-title":"Page 3 - Encryption Process and Cipher Key","page-3-info":"Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. ","page-4-title":"Page 4 - A) Encryption Process","page-4-info":"Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. ","page-5-title":"Page 5 - Encryption Process Overview","page-5-info":"Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. ","page-6-title":"Page 6 - Transformation Types","page-6-info":"Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. ","page-7-title":"Page 7 - SubBytes","page-7-info":"Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. ","page-8-title":"Page 8 - ShiftRows","page-8-info":"Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. ","page-9-title":"Page 9 - MixColumns","page-9-info":"Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. ","page-10-title":"Page 10 - AddRoundKey","page-10-info":"Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. ","page-11-title":"Page 11 - Rounds 1 - 5","page-11-info":"Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. ","page-12-title":"Page 12 - Rounds 6 - 10","page-12-info":"Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. ","page-13-title":"Page 13 - B) Cipher Key","page-13-info":"Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. ","page-14-title":"Page 14 - Cipher Key","page-14-info":"Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. ","page-1":{"titlePartOne":"Rijndael","titlePartTwo":"Cipher","text":"Animation using a 128 bit size for each the data block and the key"},"page-2":{"boxText":"Rijndael Encryptor","textLeft":"Cipher key","textBottom":"Ciphertext","textTop":"Plaintext"},"page-3":{"title":"Input","subtitleLeft":"State","subtitleRight":"Cipher key","explanationLeft":"This is a block from the plaintext message to be encrypted","explanationRight":"Hexadecimal notation (sample):","textLeft":"to Encryption Process","textRight":"to key Schedule"},"page-4":{"title":"Encryption Process","text":"(Performing the encryption of the given plaintext block using 4 diffrent transformation in the initial round, the 9 main rounds and the final round)"},"page-5":{"title":"Encryption Process","titleInitialRound":"initial round","titleMainRounds":"9 main rounds","titleFinalRound":"final round","labelInitial":"AddRoundKey","labelMrone":"1-SubBytes","labelMrTwo":"2-ShiftRows","labelMrThree":"3-MixColumns","labelMrFour":"4-addRoundKey","labelFrOne":"SubBytes","labelFrTwo":"ShiftRows","labelFrThree":"AddRoundKey","boxTitleOne":"CipherKey","boxTitleTwo":"Round key 0","boxTitleThree":"Round Key 10","round":"Round"},"page-6":{"title":"The 4 types of transformations:","labelone":"1-SubBytes","labelTwo":"2-ShiftRows","labelThree":"3-MixColumns","labelFour":"4-addRoundKey"},"page-7":{"title":"1 - SubBytes","round":"Round 1","sboxLabel":"S-Box","sboxExplanation":"byte substitution table"},"page-8":{"title":"2 - ShiftRows","rotateTextOne":"rotate over 2 bytes","rotateTextTwo":"rotate over 2 bytes","rotateTextThree":"rotate over 2 bytes"},"page-9":{"title":"3 - MixColumns","text":"The four numbers of one column are modulo multiplied in Rijndael\'s Galois Field by a given matrix.","text2":"The MixColumns step along wit hthe ShiftRows step is the primary source of diffusion in Rijndael."},"page-10":{"title":"4 - AddRoundKey","roundKeyLabel":"Round key","roundKeyText":"(Produced as Round key 1 during the Key Schedule - see slide 14"},"page-11":{"introText":"These transformations are applied to the State for 9 more rounds. The final round does not include the MixColumns transformation.","roundLabel":"Start of round","subBytesLabel":"After SubBytes","ShiftRowsLabel":"After ShiftRows","MixColumnsLabel":"After MixColumns","RoundKeyLabel":"Round key","inputLabel":"Input","roundOneLabel":"Round 1","roundTwoLabel":"Round 2","roundThreeLabel":"Round 3","roundFourLabel":"Round 4","roundFiveLabel":"Round 5"},"page-12":{"roundLabel":"Start of round","subBytesLabel":"SubBytes","ShiftRowsLabel":"ShiftRows","MixColumnsLabel":"MixColumns","RoundKeyLabel":"Round key","outputLabel":"Output","roundSixLabel":"Round 6","roundSevenLabel":"Round 7","roundEightLabel":"Round 8","roundNineLabel":"Round 9","roundTenLabel":"Round 10","cipherTextLabel":"Ciphertext"},"page-13":{"title":"Key Schedule","text":"(Expansion of the given Cipher key into 11 partial keys, used in the initial round, the 9 main rounds and the final round)"},"page-14":{"title":"Key Schedule","RotWordLabel":"RotWord","RconLabel":"Rcon","SubBytesLabel":"SubBytes","SBoxLabel":"S-Box","WOne":"Wi-4","WTwo":"Wi-1","WThree":"Wi","RconFourLabel":"Rcon(4)","textIntro":"The expanded key can be seen as an array of 32-bit words (columns), numbered from 0 to 43. The first four columns are filled with the given Cipher key","text":"Words in positions that are multiple of 4 (W4, W5, ..., W40) are calculated by:","textA":"a) applying the RotWord and SubBytes transformation to the previous word wi-1","textB":"b) Adding (XOR) this result to the word 4 positions earlier wi-4, plus a round constatn Rcon","textXOR":"The remaining 32-bit words wi, are calculated by adding (XOR) the previous word wi-1 with the word 4 positions earlier Wi-4","cipherKeyLabel":"cipher key","roundKeyOneLabel":"Round key 1","roundKeyTwoLabel":"Round key 2","roundKeyThreeLabel":"Round key 3","roundKeyTenLabel":"Round key 10"}}')};function rg(t){return(rg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ng(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function ig(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ng(Object(r),!0).forEach((function(e){og(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ng(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function og(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sg(t){return function(t){if(Array.isArray(t))return ag(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return ag(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ag(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ag(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ug(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function lg(t,e){return(lg=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function cg(t,e){return!e||"object"!==rg(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function hg(t){return(hg=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}const fg=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&lg(t,e)}(s,t);var e,r,n,i,o=(n=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=hg(n);if(i){var r=hg(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return cg(this,t)});function s(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(t=o.call(this)).id=null,t.FADE_IN_DURATION=1e-4,t.FADE_OUT_DURATION=1e-5,t.FADE_OUT_DELAY=3,t.autoLabelCounter=0,t.bodyReference=document.querySelector("body"),t.renderedComponents={},t.permanentComponents=[],t.temporaryComponents=[],t.globalComponents={},t.DEFAULT_RESPONSIVE_LABEL="default",t.responsives=[],t.responsivesByLabel={},t.timeline=null,t}return e=s,(r=[{key:"addPermanent",value:function(t){var e=Object.keys(t).map((function(e){return t[e]}));this.addChild.apply(this,sg(e)),this.permanentComponents=[].concat(sg(this.permanentComponents),sg(e)),this.addToGlobalComponents(t)}},{key:"addTemporary",value:function(t){var e=Object.keys(t).map((function(e){return t[e]}));this.addChild.apply(this,sg(e)),this.temporaryComponents=[].concat(sg(this.temporaryComponents),sg(e)),this.addToGlobalComponents(t)}},{key:"registerResponsive",value:function(t,e){t!==this.DEFAULT_RESPONSIVE_LABEL&&this.responsives.push(t),this.responsivesByLabel[t]=new e(t,this)}},{key:"initPage",value:function(t,e){if(this.id=t,this.controller=e,!this.timeline)throw new Error("Animation page ".concat(t," is missing timeline"));this.removeChildren();var r=this.getDefines();console.time("create-page-".concat(t)),this.create(r),this.drawPage(r),console.timeEnd("create-page-".concat(t))}},{key:"redraw",value:function(){this.removeChild.apply(this,sg(this.temporaryComponents)),this.temporaryComponents=[];var t=this.getDefines();this.drawPage(t)}},{key:"create",value:function(t){}},{key:"drawPage",value:function(t){}},{key:"createBackground",value:function(t){return new ed}},{key:"getResponsive",value:function(){for(var t=0;t<this.responsives.length;t++){var e=this.responsives[t],r=this.responsivesByLabel[e];if(r.evoke(ANIMATION_DIMENSIONS))return r;if(t==this.responsives.length-1)return r}}},{key:"getDefines",value:function(){for(var t=ig({},this.responsivesByLabel[this.DEFAULT_RESPONSIVE_LABEL].getDefines()),e=0;e<this.responsives.length;e++){var r=this.responsives[e];if(r!=this.DEFAULT_RESPONSIVE_LABEL){var n=this.responsivesByLabel[r];n.evoke(this.controller.ANIMATION_DIMENSIONS)&&(t=ig(ig({},t),n.getDefines(t)))}}return ig(ig({},t),{},{animationDimensions:this.controller.ANIMATION_DIMENSIONS})}},{key:"addToRenderedComponents",value:function(t){this.renderedComponents=ig(ig({},this.renderedComponents),t)}},{key:"addToGlobalComponents",value:function(t){this.globalComponents=ig(ig({},this.globalComponents),t)}},{key:"getAutoLabel",value:function(){return this.autoLabelCounter++,"".concat(this.pageID,"-label-").concat(this.autoLabelCounter)}},{key:"bindPageLocale",value:function(t,e){this.controller.locale.bindPixiReference(this.id,t,e)}},{key:"getColor",value:function(t){return this.controller.theme.getColor(t)}},{key:"hide",value:function(){Yo.set(this,{pixi:{alpha:0}})}},{key:"subscribeTo",value:function(t,e){this.controller.data.subscribe(t,e)}},{key:"positionComponent",value:function(t,e){var r=ig({x:0,y:0,anchorX:0,anchorY:0},e);t.positionComponent(r.x,r.y,r.anchorX,r.anchorY)}},{key:"updateFontStyle",value:function(t,e){var r=e.fontSize,n=e.scale,i=e.fill,o=e.position,s=e.anchor;if(r&&(t.style.fontSize=r),n&&t.scale.set(n),i){var a="string"==typeof i?this.getColor(i):i;t.tint=a}o&&t.position.set(o.x,o.y),s&&t.anchor.set(s.x,s.y)}}])&&ug(e.prototype,r),s}(Qa);function pg(t){return(pg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function dg(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function yg(t,e){return(yg=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function gg(t,e){return!e||"object"!==pg(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function mg(t){return(mg=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}const bg=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&yg(t,e)}(s,t);var e,r,n,i,o=(n=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=mg(n);if(i){var r=mg(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return gg(this,t)});function s(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),o.call(this)}return e=s,(r=[{key:"updateContent",value:function(){}},{key:"clear",value:function(){this.removeChildren(0,this.children.length)}},{key:"positionComponent",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;this.position.set(t,e),this.pivot.x=r*this.width/this.scale.x,this.pivot.y=n*this.height/this.scale.y}}])&&dg(e.prototype,r),s}(Qa);function vg(t){return(vg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _g(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function wg(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?_g(Object(r),!0).forEach((function(e){xg(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_g(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function xg(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Og(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Sg(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Pg(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Tg(t,e){return(Tg=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Eg(t,e){return!e||"object"!==vg(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Rg(t){return(Rg=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}const Ag=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Tg(t,e)}(s,t);var e,r,n,i,o=(n=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Rg(n);if(i){var r=Rg(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return Eg(this,t)});function s(t){var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Sg(this,s),(e=o.call(this)).baseTextStyle=r,e._lastDrawStyles={scale:1,letterspacing:0,fontSize:60},e.createTextElements(t),e}return e=s,(r=[{key:"createTextElements",value:function(t){var e,r=this;this.removeChildren(),this.chars=(e=t,function(t){if(Array.isArray(t))return Og(t)}(e)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(e)||function(t,e){if(t){if("string"==typeof t)return Og(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Og(t,e):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map((function(t,e){var n=new tf(t,r.baseTextStyle);return r.addChild(n),n}))}},{key:"updateContent",value:function(t){this.createTextElements(t),this.redraw()}},{key:"redraw",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e=wg(wg({},this._lastDrawStyles),e),this._lastDrawStyles=e,this.chars.forEach((function(r,n){var i=0!==n?t.chars[n-1].x+t.chars[n-1].width+e.letterspacing:0;r.position.set(i,0),r.style.fontSize!=e.fontSize&&(r.style.fontSize=e.fontSize)}))}}])&&Pg(e.prototype,r),s}(bg);function Ig(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function jg(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Ig(Object(r),!0).forEach((function(e){Cg(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ig(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Cg(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kg(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}const Mg=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.page=e,this.FADE_IN_DURATION=1e-4,this.FADE_OUT_DURATION=1e-5,this.FADE_OUT_DELAY=3}var e,r;return e=t,(r=[{key:"getWidth",value:function(t){return this.page.controller.ANIMATION_DIMENSIONS.widthPercent*t}},{key:"getHeight",value:function(t){return this.page.controller.ANIMATION_DIMENSIONS.heightPercent*t}},{key:"createUpdatePage",value:function(t){var e=this,r=Yo.timeline({onStart:function(){e.page.controller.setCurrentPage(e.page.id)},onReverseComplete:function(){t&&e.page.controller.setCurrentPage(t)}});return r.to({val:0},{val:1,duration:1e-4}),r}},{key:"createPreFadeIn",value:function(){}},{key:"createAnimationIn",value:function(){}},{key:"createAnimationOut",value:function(){}},{key:"createAnimationMain",value:function(){}},{key:"createFadeIn",value:function(){var t=Yo.timeline();return t.to(this.page,{pixi:{alpha:1},duration:this.FADE_IN_DURATION}),t}},{key:"createFadeOut",value:function(){var t=Yo.timeline();return t.to(this.page,{pixi:{alpha:0},duration:this.FADE_OUT_DURATION,delay:this.FADE_OUT_DELAY}),t}},{key:"getGlobalComponents",value:function(){return this.page.globalComponents}},{key:"getBounds",value:function(t){var e=t.getBounds();return{x:e.x,y:e.y,width:e.width,height:e.height}}},{key:"getPreFadeInTimeline",value:function(){var t=Yo.timeline();return t.to({val:0},{val:1,duration:1e-4}),t}},{key:"moveGroup",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=Yo.timeline();n.to(t[0],jg({pixi:jg(jg({},this.getBounds(e[0])),{},{zIndex:10})},r),"move-group");for(var i=1;i<t.length;i++){var o=t[i],s=this.getBounds(e[i]);n.to(o,jg({pixi:jg(jg({},s),{},{zIndex:10})},r),"move-group+=0")}return n.set(t,{zIndex:1}),n}},{key:"getAnimatableBackgroundTL",value:function(){var t=this.getGlobalComponents().animatableBackground,e=t.title,r=t.titleMask,n=t.bar,i=Yo.timeline();return i.set([t,e,r],{pixi:{alpha:0}}),i.set(t,{pixi:{y:t.height}}),i.set(n,{pixi:{y:0}}),i.set(t,{pixi:{alpha:1}}),i.to(t,{pixi:{y:0},duration:.8}),i.to(n,{pixi:{y:n.y}}),i.set([e,r],{pixi:{alpha:1}}),i.to(r,{pixi:{x:r.x+r.width}}),i}}])&&kg(e.prototype,r),t}();function Lg(t){return(Lg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Dg(t){return function(t){if(Array.isArray(t))return Bg(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return Bg(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Bg(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Bg(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Fg(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Ng(t,e){return(Ng=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ug(t,e){return!e||"object"!==Lg(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Wg(t){return(Wg=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}const zg=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ng(t,e)}(s,t);var e,r,n,i,o=(n=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Wg(n);if(i){var r=Wg(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return Ug(this,t)});function s(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),o.call(this,t)}return e=s,(r=[{key:"createPreFadeIn",value:function(){var t=this.getGlobalComponents(),e=t.textRijndael,r=t.textCipher,n=t.subtitle,i=Yo.timeline();return i.to({val:0},{val:1,duration:1e-4}),i.set([].concat(Dg(e.chars),Dg(r.chars),[n]),{pixi:{alpha:0}}),i}},{key:"createAnimationMain",value:function(){var t=this.getGlobalComponents(),e=t.textRijndael,r=t.textCipher,n=t.subtitle,i=Yo.timeline();return i.to([].concat(Dg(e.chars),Dg(r.chars)),{pixi:{scale:3},duration:.001}),i.to(e.chars,{stagger:.2,pixi:{alpha:1,scaleX:1,scaleY:1}}),i.to(r.chars,{stagger:.2,pixi:{alpha:1,scaleX:1,scaleY:1}}),i.to(n,{pixi:{alpha:1},duration:.5}),i}}])&&Fg(e.prototype,r),s}(Mg);function Hg(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}const Xg=function(){function t(e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.label=e,this.page=r,this.FADE_OUT_DELAY=3,this.FADE_OUT_DURATION=1e-4,this.FADE_IN_DURATION=1e-4}var e,r;return e=t,(r=[{key:"getColor",value:function(t){return this.page.getColor(t)}},{key:"c",value:function(t){return this.page.getColor(t)}},{key:"evoke",value:function(t){return!1}},{key:"getWidth",value:function(t){return this.page.controller.ANIMATION_DIMENSIONS.widthPercent*t}},{key:"getHeight",value:function(t){return this.page.controller.ANIMATION_DIMENSIONS.heightPercent*t}},{key:"createUpdatePage",value:function(t){var e=this,r=Yo.timeline({onStart:function(){e.controller.setCurrentPage(e.id)},onReverseComplete:function(){t&&e.controller.setCurrentPage(t)}});return r.to({val:0},{val:1,duration:1e-4}),r}}])&&Hg(e.prototype,r),t}();function Gg(t){return(Gg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Yg(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Vg(t,e){return(Vg=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function qg(t,e){return!e||"object"!==Gg(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Kg(t){return(Kg=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}const Zg=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Vg(t,e)}(s,t);var e,r,n,i,o=(n=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Kg(n);if(i){var r=Kg(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return qg(this,t)});function s(t,e){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),o.call(this,t,e)}return e=s,(r=[{key:"getDefines",value:function(){var t={baseTextStyles:{fontSize:60,fill:16777215}};return t.backgroundStyles={width:this.getWidth(100),height:this.getHeight(100),fill:0},t.containerPos={x:this.getWidth(50),y:this.getHeight(50),anchorX:.5,anchorY:.5},t.subtitleStyles={position:{x:this.getWidth(50)},fill:"--text-color-alpha",anchor:{x:.5,y:1}},t}}])&&Yg(e.prototype,r),s}(Xg);function Jg(t){return(Jg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $g(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Qg(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?$g(Object(r),!0).forEach((function(e){tm(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$g(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function tm(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function em(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function rm(t,e){return(rm=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function nm(t,e){return!e||"object"!==Jg(e)&&"function"!=typeof e?im(t):e}function im(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function om(t){return(om=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}const sm=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&rm(t,e)}(s,t);var e,r,n,i,o=(n=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=om(n);if(i){var r=om(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return nm(this,t)});function s(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(t=o.call(this)).timeline=new zg(im(t)),t.registerResponsive("default",Zg),t}return e=s,(r=[{key:"create",value:function(t){var e=t.baseTextStyles,r=this.createBackground(),n=new tf("test",{fill:16777215,wordWrap:!0,wordWrapWidth:320,fontSize:22});this.bindPageLocale("text",n);var i=new bg,o=new Ag("Rijndael",e);this.bindPageLocale("titlePartOne",o);var s=new Ag("Cipher",e);this.bindPageLocale("titlePartOne",o),i.addChild(o,s),this.addToGlobalComponents({textRijndael:o,textCipher:s}),this.addPermanent({background:r,subtitle:n,container:i})}},{key:"drawPage",value:function(t){var e=this.globalComponents,r=e.background,n=e.container,i=e.textCipher,o=e.textRijndael,s=e.subtitle,a=t.backgroundStyles,u=t.containerPos;r.redraw(Qg(Qg({},a),{},{fill:this.getColor("--page-background-alpha")})),o.redraw(),i.redraw(),i.position.set(n.width/2,o.height),i.pivot.set(i.width/2,0),n.position.set(u.x,u.y),n.pivot.set(n.width/2,n.height);var l=t.subtitleStyles;this.updateFontStyle(s,l),s.position.set(l.position.x,n.y+n.height)}}])&&em(e.prototype,r),s}(fg);function am(t){return(am="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function um(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function lm(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?um(Object(r),!0).forEach((function(e){cm(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):um(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function cm(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hm(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fm(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function pm(t,e){return(pm=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function dm(t,e){return!e||"object"!==am(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ym(t){return(ym=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var gm={fill:16777215,fontSize:36};const mm=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&pm(t,e)}(s,t);var e,r,n,i,o=(n=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ym(n);if(i){var r=ym(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return dm(this,t)});function s(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return hm(this,s),o.call(this,t,lm(lm({},gm),e))}return e=s,(r=[{key:"redraw",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.fontSize,r=t.scale,n=t.fill,i=t.position,o=t.anchor,s=t.wordWrap,a=t.wordWrapWidth,u=t.rotation;e&&(this.style.fontSize=e),r&&this.scale.set(r),i&&this.position.set(i.x,i.y),o&&this.anchor.set(o.x,o.y),s&&(this.style.wordWrap=s),a&&(this.style.wordWrapWidth=a),void 0!==u&&(this.rotation=u),this.tint=n||0}}])&&fm(e.prototype,r),s}(tf);function bm(t){return(bm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function vm(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function _m(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?vm(Object(r),!0).forEach((function(e){wm(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vm(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function wm(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xm(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Om(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Sm(t,e){return(Sm=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Pm(t,e){return!e||"object"!==bm(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Tm(t){return(Tm=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}const Em=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Sm(t,e)}(s,t);var e,r,n,i,o=(n=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Tm(n);if(i){var r=Tm(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return Pm(this,t)});function s(t){var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return xm(this,s),(e=o.call(this)).textStyles=_m({},r),e.background=new ed,e.addChild(e.background),e.text=null,t&&(e.text=new mm(t,e.textStyles),e.text.anchor.set(.5,.5),e.addChild(e.text)),e}return e=s,(r=[{key:"updateContent",value:function(t){this.text?this.text.text=t:this.createText(t),this.text.anchor.set(.5,.5)}},{key:"createText",value:function(t){this.text=new mm(t,this.textStyles),this.addChild(this.text)}},{key:"redraw",value:function(t,e){this.textStyles=_m(_m({},this.textStyles),e),this.background.redraw(t),this.text&&this.text.redraw(_m(_m({},this.textStyles),{},{position:{x:t.width/2,y:t.height/2}}))}},{key:"getBackground",value:function(){return this.background.foreground}}])&&Om(e.prototype,r),s}(Qa);function Rm(t){return(Rm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Am(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Im(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Am(Object(r),!0).forEach((function(e){jm(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Am(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function jm(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Cm(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function km(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Mm(t,e){return(Mm=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Lm(t,e){return!e||"object"!==Rm(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Dm(t){return(Dm=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Bm={UP:"ARROW_UP",DOWN:"ARROW_DOWN",LEFT:"ARROW_LEFT",RIGHT:"ARROW_RIGHT"};const Fm=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Mm(t,e)}(s,t);var e,r,n,i,o=(n=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Dm(n);if(i){var r=Dm(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return Lm(this,t)});function s(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Cm(this,s),(t=o.call(this)).arrowSettings=Im({fill:16777215,width:200,height:100,headToBodyRatio:.2,bodyWidthRatio:.5,borderWidth:0,borderColor:16777215,orientation:Bm.LEFT},e),t.redraw(),t}return e=s,(r=[{key:"redraw",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};switch(this.clear(),this.arrowSettings=Im(Im({},this.arrowSettings),t),this.arrowSettings.orientation){case Bm.UP:this.drawArrowUp();break;case Bm.DOWN:this.drawArrowDown();break;case Bm.LEFT:this.drawArrowLeft();break;case Bm.RIGHT:this.drawArrowRight()}}},{key:"drawArrowRight",value:function(){var t=this.arrowSettings,e=t.width,r=t.height,n=t.bodyWidthRatio,i=t.headToBodyRatio,o=t.fill,s=t.borderWidth,a=t.borderColor,u=r*n,l=r/2-u/2,c=r/2+u/2,h=e*(1-i);this.beginFill(o),this.lineStyle(s,a,1,0),this.moveTo(0,l),this.lineTo(0,c),this.lineTo(h,c),this.lineTo(h,r),this.lineTo(e,r/2),this.lineTo(h,0),this.lineTo(h,l),this.lineTo(0,l),this.endFill()}},{key:"drawArrowLeft",value:function(){var t=this.arrowSettings,e=t.width,r=t.height,n=t.bodyWidthRatio,i=t.headToBodyRatio,o=t.fill,s=t.borderWidth,a=t.borderColor,u=r*n,l=r/2-u/2,c=r/2+u/2,h=e*i;this.beginFill(o),this.lineStyle(s,a,1,0),this.moveTo(0,r/2),this.lineTo(h,r),this.lineTo(h,c),this.lineTo(e,c),this.lineTo(e,l),this.lineTo(h,l),this.lineTo(h,0),this.endFill()}},{key:"drawArrowDown",value:function(){var t=this.arrowSettings,e=t.width,r=t.height,n=t.bodyWidthRatio,i=t.headToBodyRatio,o=t.fill,s=t.borderWidth,a=t.borderColor,u=e*n,l=e/2-u/2,c=e/2+u/2,h=r*(1-i);this.beginFill(o),this.lineStyle(s,a,1,0),this.moveTo(l,0),this.lineTo(l,h),this.lineTo(0,h),this.lineTo(e/2,r),this.lineTo(e,h),this.lineTo(c,h),this.lineTo(c,0),this.lineTo(l,0),this.endFill()}},{key:"drawArrowUp",value:function(){var t=this.arrowSettings,e=t.width,r=t.height,n=t.bodyWidthRatio,i=t.headToBodyRatio,o=t.fill,s=t.borderWidth,a=t.borderColor,u=e*n,l=e/2-u/2,c=e/2+u/2,h=r*i;this.beginFill(o),this.lineStyle(s,a,1,0),this.moveTo(e/2,0),this.lineTo(0,h),this.lineTo(l,h),this.lineTo(l,r),this.lineTo(c,r),this.lineTo(c,h),this.lineTo(e,h),this.endFill()}}])&&km(e.prototype,r),s}(Nh);function Nm(t){return(Nm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Um(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Wm(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Um(Object(r),!0).forEach((function(e){zm(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Um(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function zm(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Hm(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xm(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Gm(t,e){return(Gm=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ym(t,e){return!e||"object"!==Nm(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Vm(t){return(Vm=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var qm=Bm;const Km=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Gm(t,e)}(s,t);var e,r,n,i,o=(n=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Vm(n);if(i){var r=Vm(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return Ym(this,t)});function s(t){var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Hm(this,s),(e=o.call(this)).textStyles=Wm({},n),e.arrowStyles=r,e.text=new mm(t,e.textStyles),e.arrow=new Fm(e.arrowStyles),e.addChild(e.arrow,e.text),e.redraw(),e}return e=s,(r=[{key:"redraw",value:function(t,e){this.arrowStyles=Wm(Wm({},this.arrowStyles),t),this.textStyles=Wm(Wm({},this.textStyles),e),this.arrow.redraw(this.arrowStyles),this.text.redraw(Wm(Wm({},this.textStyles),{},{position:{x:this.arrowStyles.width/2,y:this.arrowStyles.height/2},anchor:{x:.5,y:.5}})),this.arrowStyles.orientation!=qm.UP&&this.arrowStyles.orientation!=qm.DOWN||(this.text.rotation=1.5708)}}])&&Xm(e.prototype,r),s}(bg);function Zm(t){return(Zm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Jm(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function $m(t,e){return($m=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Qm(t,e){return!e||"object"!==Zm(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function tb(t){return(tb=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}const eb=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&$m(t,e)}(s,t);var e,r,n,i,o=(n=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=tb(n);if(i){var r=tb(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return Qm(this,t)});function s(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),o.call(this,t)}return e=s,(r=[{key:"createAnimationMain",value:function(){var t=this.getGlobalComponents(),e=t.arrowTop,r=t.arrowBottom,n=t.arrowLeft,i=function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,r=[],n=0;n<t;n++)r.push(ay(e));return r}(20,8),o=Yo.timeline(),s={val:0};return o.to(s,{val:i.length-1,ease:"none",duration:3,repeat:2,onUpdate:function(){var t=Math.floor(s.val);e.text.text=i[t],n.text.text=i[(t+1)%i.length],r.text.text=i[(t+2)%i.length]}}),o}},{key:"createAnimationOut",value:function(){var t=this.getGlobalComponents(),e=t.centerBox,r=t.arrowTopContainer,n=t.arrowBotContainer,i=t.arrowLeftContainer,o=Yo.timeline();return o.to([n,i,r],{pixi:{alpha:0},duration:.3}),o.to(e,{pixi:{scale:5},duration:1.5},"fade-out-center-box"),o.to(e.text,{pixi:{alpha:0},duration:.3},"fade-out-center-box+=0"),o}}])&&Jm(e.prototype,r),s}(Mg);function rb(t){return(rb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function nb(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function ib(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?nb(Object(r),!0).forEach((function(e){ob(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nb(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function ob(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sb(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function ab(t,e){return(ab=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ub(t,e){return!e||"object"!==rb(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function lb(t){return(lb=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}const cb=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ab(t,e)}(s,t);var e,r,n,i,o=(n=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=lb(n);if(i){var r=lb(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return ub(this,t)});function s(t,e){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(r=o.call(this,t,e)).FADE_OUT_DELAY=0,r}return e=s,(r=[{key:"getDefines",value:function(){var t={};return t.backgroundStyles={width:this.getWidth(100),height:this.getHeight(100),fill:this.c("--page-background-alpha")},t.textBoxStyles={width:this.getWidth(50),height:this.getHeight(40),borderWidth:3,borderColor:16777215,fill:this.c("--page-background-iota"),x:this.getWidth(50),y:this.getHeight(50),anchorX:.5,anchorY:.5},t.textBoxTextStyles={fill:this.c("--text-light"),align:"center",fontSize:30},t.arrowStyles={fill:0,borderWidth:3,borderColor:268435455,width:this.getWidth(10),height:this.getHeight(20)},t.arrowFontStyles={fill:this.c("--text-light"),fontSize:18},t.arrowLeftStyles=ib(ib({},t.arrowStyles),{},{width:this.getWidth(16),height:this.getHeight(10)}),t.arrowTextBottomStyles={fill:this.c("--text-color-alpha")},t.arrowTitleStyles={fill:this.c("--text-light"),fontSize:20,anchor:{x:.5,y:0}},t}}])&&sb(e.prototype,r),s}(Xg);function hb(t){return(hb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function fb(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function pb(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?fb(Object(r),!0).forEach((function(e){db(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fb(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function db(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yb(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function gb(t,e){return(gb=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function mb(t,e){return!e||"object"!==hb(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function bb(t){return(bb=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}const vb=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&gb(t,e)}(s,t);var e,r,n,i,o=(n=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=bb(n);if(i){var r=bb(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return mb(this,t)});function s(t,e){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),o.call(this,t,e)}return e=s,(r=[{key:"evoke",value:function(t){return t.width<=768}},{key:"getDefines",value:function(t){return console.log("768"),t.textBoxStyles=pb(pb({},t.textBoxStyles),{},{x:this.getWidth(70)}),t.textBoxTextStyles=pb(pb({},t.textBoxTextStyles),{},{fontSize:20}),t.arrowStyles=pb(pb({},t.arrowStyles),{},{width:this.getWidth(18),height:this.getHeight(20)}),t.arrowLeftStyles=pb(pb({},t.arrowLeftStyles),{},{width:this.getWidth(30),height:this.getHeight(10)}),t.arrowFontStyles=pb(pb({},t.arrowFontStyles),{},{fontSize:14}),t}}])&&yb(e.prototype,r),s}(Xg);function _b(t){return(_b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function wb(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function xb(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?wb(Object(r),!0).forEach((function(e){Ob(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wb(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Ob(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Sb(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Pb(t,e){return(Pb=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Tb(t,e){return!e||"object"!==_b(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Eb(t){return(Eb=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}const Rb=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Pb(t,e)}(s,t);var e,r,n,i,o=(n=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Eb(n);if(i){var r=Eb(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return Tb(this,t)});function s(t,e){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),o.call(this,t,e)}return e=s,(r=[{key:"evoke",value:function(t){return t.width<=425}},{key:"getDefines",value:function(t){return t.arrowTitleStyles=xb(xb({},t.arrowTitleStyles),{},{fontSize:14}),t.textBoxTextStyles=xb(xb({},t.textBoxTextStyles),{},{fontSize:16}),t}}])&&Sb(e.prototype,r),s}(Xg);function Ab(t){return(Ab="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ib(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function jb(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Ib(Object(r),!0).forEach((function(e){Cb(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ib(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Cb(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kb(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Mb(t,e){return(Mb=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Lb(t,e){return!e||"object"!==Ab(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Db(t){return(Db=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}const Bb=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Mb(t,e)}(s,t);var e,r,n,i,o=(n=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Db(n);if(i){var r=Db(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return Lb(this,t)});function s(t,e){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),o.call(this,t,e)}return e=s,(r=[{key:"evoke",value:function(t){return t.width<375}},{key:"getDefines",value:function(t){return t.arrowTitleStyles=jb(jb({},t.arrowTitleStyles),{},{fontSize:12}),t.textBoxTextStyles=jb(jb({},t.textBoxTextStyles),{},{fontSize:14}),t}}])&&kb(e.prototype,r),s}(Xg);function Fb(t){return(Fb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Nb(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Ub(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Nb(Object(r),!0).forEach((function(e){Wb(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Nb(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Wb(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zb(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Hb(t,e){return(Hb=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Xb(t,e){return!e||"object"!==Fb(e)&&"function"!=typeof e?Gb(t):e}function Gb(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Yb(t){return(Yb=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}const Vb=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Hb(t,e)}(s,t);var e,r,n,i,o=(n=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Yb(n);if(i){var r=Yb(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return Xb(this,t)});function s(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(t=o.call(this)).timeline=new eb(Gb(t)),t.registerResponsive("default",cb),t.registerResponsive("max-768",vb),t.registerResponsive("max-425",Rb),t.registerResponsive("max-375",Bb),t}return e=s,(r=[{key:"create",value:function(t){var e=this.createBackground(),r=new Em("Cipher",{fill:16777215,align:"center",fontSize:50});this.bindPageLocale("boxText",r.text);var n=new Qa,i=new mm("text",{fill:16777215});this.bindPageLocale("textTop",i),i.anchor.set(.5,0);var o=new Km("010101",{orientation:qm.DOWN});n.addChild(i,o);var s=new Qa,a=new mm("textLeft",{fill:16777215});this.bindPageLocale("textLeft",a),a.anchor.set(.5,0);var u=new Km("0101010",{orientation:qm.RIGHT});s.addChild(a,u);var l=new Qa,c=new mm("textLeft",{fill:16777215});this.bindPageLocale("textBottom",c),c.anchor.set(.5,0);var h=new Km("0101010",{orientation:qm.DOWN});l.addChild(h,c),this.addPermanent({background:e,centerBox:r,arrowTopContainer:n,arrowLeftContainer:s,arrowBotContainer:l}),this.addToGlobalComponents({arrowTop:o,textTop:i,arrowLeft:u,textLeft:a,textBottom:c,arrowBottom:h})}},{key:"drawPage",value:function(t){var e=t.backgroundStyles,r=t.arrowLeftStyles,n=this.globalComponents,i=n.background,o=n.centerBox;i.redraw(e);var s=t.textBoxStyles,a=t.textBoxTextStyles;o.redraw(s,a),o.position.set(s.x,s.y),o.pivot.set(s.width/2,s.height/2);var u=t.arrowStyles,l=t.arrowFontStyles,c=t.arrowTitleStyles,h=t.arrowTextBottomStyles,f=this.globalComponents,p=f.arrowTop,d=f.textTop,y=f.arrowTopContainer;p.redraw(u,l),d.redraw(Ub(Ub({},c),{},{position:{x:p.width/2,y:0}})),p.position.set(0,d.height+10),y.position.set(s.x,o.y-o.height/2-y.height),y.pivot.set(.5*y.width,0);var g=this.globalComponents,m=g.arrowLeft,b=g.textLeft,v=g.arrowLeftContainer;m.redraw(Ub(Ub({},u),r),l),b.redraw(Ub(Ub({},c),{},{position:{x:m.width/2,y:0}})),m.position.set(0,b.height+10),v.position.set(o.x-o.width/2-v.width,s.y),v.pivot.set(0,.5*v.height);var _=this.globalComponents,w=_.arrowBottom,x=_.textBottom,O=_.arrowBotContainer;w.redraw(u,l),w.position.set(0,0),x.redraw(Ub(Ub(Ub({},c),h),{},{position:{x:w.width/2,y:w.height+10}})),O.position.set(s.x,o.y+s.height-s.height/2),O.pivot.set(.5*O.width,0)}}])&&zb(e.prototype,r),s}(fg);function qb(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Kb(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Zb(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}const Jb=function(){function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length;Kb(this,t),this.movables=e,this.cols=n,this.rows=r}var e,r;return e=t,(r=[{key:"getRow",value:function(t){return this.movables.slice(t*this.cols,t*this.cols+this.cols)}},{key:"getCol",value:function(t){var e=this;return this.movables.reduce((function(r,n,i){return i%e.cols==t?[].concat(function(t){if(Array.isArray(t))return qb(t)}(o=r)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(o)||function(t,e){if(t){if("string"==typeof t)return qb(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?qb(t,e):void 0}}(o)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[n]):r;var o}),[])}},{key:"get",value:function(t,e){return this.movables[t*this.cols+e]}}])&&Zb(e.prototype,r),t}();function $b(t){return($b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Qb(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function tv(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Qb(Object(r),!0).forEach((function(e){ev(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Qb(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function ev(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rv(t){return function(t){if(Array.isArray(t))return nv(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return nv(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?nv(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nv(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function iv(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function ov(t,e){return(ov=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function sv(t,e){return!e||"object"!==$b(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function av(t){return(av=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}const uv=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ov(t,e)}(s,t);var e,r,n,i,o=(n=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=av(n);if(i){var r=av(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return sv(this,t)});function s(t,e,r,n){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(i=o.call(this)).cols=e,i.rows=t,i.bgStyles=r,i.textStyles=n,i.cells=rv(new Array(i.cols*i.rows)).map((function(t,e){var r=new Em;return i.addChild(r),r})),i}return e=s,(r=[{key:"redraw",value:function(t,e){for(var r=(t=tv({width:300,height:200},t)).width/this.cols,n=t.height/this.rows,i=0;i<this.rows;i++)for(var o=0;o<this.cols;o++){var s=this.cells[i*this.cols+o];s.redraw(tv(tv({},t),{},{width:r,height:n}),e),s.position.set(r*o,n*i)}}},{key:"createMovables",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=[];return this.cells.forEach((function(n){var i=n.getBounds(),o=new Em(t,e);o.position.set(i.x,i.y),r.push(o)})),new Jb(r,this.rows,this.cols)}},{key:"getByColumn",value:function(){for(var t=[],e=0;e<this.cols;e++){var r=this.getCol(e);t=[].concat(rv(t),rv(r))}return t}},{key:"getRow",value:function(t){return this.cells.slice(t*this.cols,t*this.cols+this.cols)}},{key:"getCol",value:function(t){var e=this;return this.cells.reduce((function(r,n,i){return i%e.cols==t?[].concat(rv(r),[n]):r}),[])}},{key:"get",value:function(t,e){return this.cells[t*this.cols+e]}}])&&iv(e.prototype,r),s}(Qa);function lv(t){return(lv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function cv(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function hv(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?cv(Object(r),!0).forEach((function(e){fv(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):cv(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function fv(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pv(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function dv(t,e){return(dv=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function yv(t,e){return!e||"object"!==lv(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function gv(t){return(gv=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}const mv=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&dv(t,e)}(s,t);var e,r,n,i,o=(n=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=gv(n);if(i){var r=gv(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return yv(this,t)});function s(t,e){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(r=o.call(this)).textStyles=hv({},e),r.text=new mm(t,e),r}return e=s,(r=[{key:"updateContent",value:function(t){this.text.text=t}},{key:"redraw",value:function(t,e){this.removeChildren(),this.textStyles=hv(hv({},this.textStyles),e);var r=hv({radius:30,borderColor:268435455,borderWidth:2},t),n=new Nh;r.borderWidth>0&&n.lineStyle(r.borderWidth,r.borderColor,1,0),n.drawCircle(0,0,r.radius),n.endFill(),this.text.redraw(hv(hv({},this.textStyles),{},{anchor:{x:.5,y:.5}})),this.addChild(n,this.text)}}])&&pv(e.prototype,r),s}(bg);function bv(t){return(bv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function vv(t){return function(t){if(Array.isArray(t))return _v(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return _v(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_v(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _v(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function wv(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function xv(t,e){return(xv=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ov(t,e){return!e||"object"!==bv(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Sv(t){return(Sv=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}const Pv=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&xv(t,e)}(s,t);var e,r,n,i,o=(n=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Sv(n);if(i){var r=Sv(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return Ov(this,t)});function s(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),o.call(this,t)}return e=s,(r=[{key:"createPreFadeIn",value:function(){var t=this.getGlobalComponents(),e=t.title,r=t.subtitleLeft,n=t.gridLeft,i=t.subtitleRight,o=t.gridRight,s=t.arrowLeft,a=t.arrowRight,u=t.textRight,l=t.textLeft,c=t.circleLeft,h=t.circleRight,f=n.cells.map((function(t){return t.text})),p=o.cells.map((function(t){return t.text})),d=this.getPreFadeInTimeline();return d.set([e,r,i,s,a,u,l,c,h,n,o],{pixi:{alpha:0}}),d.set([].concat(vv(f),vv(p)),{pixi:{alpha:0}}),d}},{key:"createAnimationMain",value:function(){var t=this.getGlobalComponents(),e=t.title,r=t.subtitleLeft,n=t.gridLeft,i=t.subtitleRight,o=t.gridRight,s=t.arrowLeft,a=t.arrowRight,u=t.textRight,l=t.textLeft,c=t.circleLeft,h=t.circleRight,f=n.getByColumn().map((function(t){return t.text})),p=o.getByColumn().map((function(t){return t.text})),d=Yo.timeline();return d.to(e,{pixi:{alpha:1},duration:.3}),d.to([r,i],{pixi:{alpha:1},duration:.3,delay:.2}),d.to([o,n],{pixi:{alpha:1},duration:.3,delay:.2}),d.to(f,{pixi:{alpha:1},stagger:.2,duration:.2}),d.to(p,{pixi:{alpha:1},stagger:.2,duration:.2}),d.to([s,a],{pixi:{alpha:1},duration:.3,delay:.2}),d.to([u,l],{pixi:{alpha:1},duration:.3,delay:.2}),d.to([c,h],{pixi:{alpha:1},duration:.3,delay:.2}),d}}])&&wv(e.prototype,r),s}(Mg);function Tv(t){return(Tv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ev(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Rv(t,e){return(Rv=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Av(t,e){return!e||"object"!==Tv(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Iv(t){return(Iv=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}const jv=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Rv(t,e)}(s,t);var e,r,n,i,o=(n=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Iv(n);if(i){var r=Iv(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return Av(this,t)});function s(t,e){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),o.call(this,t,e)}return e=s,(r=[{key:"getDefines",value:function(){var t={};return t.titleStyles={fill:this.c("--text-light"),position:{x:this.getWidth(50),y:50}},t.backgroundStyles={width:this.getWidth(100),height:this.getHeight(100),fill:this.c("--page-background-iota"),borderWidth:0},t.gridStyles={width:this.getWidth(30),height:this.getWidth(20)},t.leftGridStyles={x:this.getWidth(25),yDistance:this.getHeight(2),fill:this.c("--grid-background-alpha")},t.gridFontStyles={fontSize:20},t.rightGridStyles={x:this.getWidth(75),yDistance:this.getHeight(2),fill:this.c("--grid-background-beta")},t.subtitleStyles={fill:this.c("--text-light"),fontSize:30},t.subtitleLeftStyles={position:{x:this.getWidth(25),y:this.getHeight(14)}},t.subtitleRightStyles={position:{x:this.getWidth(75),y:this.getHeight(14)}},t.arrowStyles={height:this.getHeight(16),width:this.getWidth(6)},t.arrowLeftPos={x:this.getWidth(25),yDistance:this.getHeight(2)},t.arrowRightPos={x:this.getWidth(75),yDistance:this.getHeight(2)},t.textStyles={fontSize:23,fill:this.c("--text-light"),wordWrap:!0,wordWrapWidth:200},t.textRightStyles={x:this.getWidth(75),yDistance:this.getHeight(2),fill:this.c("--text-color-alpha")},t.textLeftStyles={x:this.getWidth(25),yDistance:this.getHeight(2),fill:this.c("--text-color-beta")},t.circleStyles={borderWidth:3,borderColor:this.c("--text-light")},t.circleFontStyles={},t}}])&&Ev(e.prototype,r),s}(Xg);function Cv(t){return(Cv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function kv(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Mv(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?kv(Object(r),!0).forEach((function(e){Lv(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kv(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Lv(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Dv(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Bv(t,e){return(Bv=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Fv(t,e){return!e||"object"!==Cv(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Nv(t){return(Nv=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}const Uv=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Bv(t,e)}(s,t);var e,r,n,i,o=(n=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Nv(n);if(i){var r=Nv(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return Fv(this,t)});function s(t,e){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),o.call(this,t,e)}return e=s,(r=[{key:"evoke",value:function(t){return t.width<=768}},{key:"getDefines",value:function(t){return t.gridStyles=Mv(Mv({},t.gridStyles),{},{width:this.getWidth(36),height:this.getWidth(24)}),t.gridFontStyles=Mv(Mv({},t.gridFontStyles),{},{fontSize:22}),t.subtitleStyles=Mv(Mv({},t.subtitleStyles),{},{fontSize:24}),t.textStyles=Mv(Mv({},t.textStyles),{},{fontSize:21,wordWrapWidth:200}),t}}])&&Dv(e.prototype,r),s}(Xg);function Wv(t){return(Wv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function zv(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Hv(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?zv(Object(r),!0).forEach((function(e){Xv(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zv(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Xv(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Gv(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Yv(t,e){return(Yv=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Vv(t,e){return!e||"object"!==Wv(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function qv(t){return(qv=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}const Kv=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Yv(t,e)}(s,t);var e,r,n,i,o=(n=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=qv(n);if(i){var r=qv(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return Vv(this,t)});function s(t,e){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),o.call(this,t,e)}return e=s,(r=[{key:"evoke",value:function(t){return t.width<=425}},{key:"getDefines",value:function(t){return t.titleStyles=Hv(Hv({},t.titleStyles),{},{fontSize:20,position:{x:this.getWidth(50),y:30}}),t.gridStyles=Hv(Hv({},t.gridStyles),{},{width:this.getWidth(44),height:this.getWidth(30)}),t.gridFontStyles=Hv(Hv({},t.gridFontStyles),{},{fontSize:22}),t.subtitleStyles=Hv(Hv({},t.subtitleStyles),{},{fontSize:18}),t.textStyles=Hv(Hv({},t.textStyles),{},{fontSize:16,wordWrapWidth:120}),t.circleStyles=Hv(Hv({},t.circleStyles),{},{borderWidth:1,radius:16}),t.circleFontStyles=Hv(Hv({},t.circleFontStyles),{},{fontSize:16}),t}}])&&Gv(e.prototype,r),s}(Xg);function Zv(t){return(Zv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Jv(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function $v(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Jv(Object(r),!0).forEach((function(e){Qv(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Jv(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Qv(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function t_(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function e_(t,e){return(e_=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function r_(t,e){return!e||"object"!==Zv(e)&&"function"!=typeof e?n_(t):e}function n_(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i_(t){return(i_=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}const o_=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&e_(t,e)}(s,t);var e,r,n,i,o=(n=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=i_(n);if(i){var r=i_(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return r_(this,t)});function s(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(t=o.call(this)).timeline=new Pv(n_(t)),t.registerResponsive("default",jv),t.registerResponsive("max-768",Uv),t.registerResponsive("max-425",Kv),t}return e=s,(r=[{key:"create",value:function(t){var e=this.createBackground(),r=new mm("title");this.bindPageLocale("title",r),r.anchor.set(.5,.5);var n=new mm("subtitleLeft");this.bindPageLocale("subtitleLeft",n),n.anchor.set(.5,.5);var i=new uv(4,4,{},{});this.subscribeTo("initial-state",i.cells);var o=new Fm({orientation:Bm.DOWN}),s=new mm("textLeft",{align:"center",fontWeight:"500"});this.bindPageLocale("textLeft",s),s.anchor.set(.5,0);var a=new mv("A",{fontSize:30,fill:16777215}),u=new mm("subtitleRight");this.bindPageLocale("subtitleRight",u),u.anchor.set(.5);var l=new uv(4,4,{},{});this.subscribeTo("key-0",l.cells);var c=new Fm({orientation:Bm.DOWN}),h=new mm("textRight",{align:"center",fontWeight:"500"});this.bindPageLocale("textRight",h),h.anchor.set(.5,0);var f=new mv("B",{fontSize:30,fill:16777215});this.addPermanent({background:e,title:r,subtitleLeft:n,gridLeft:i,subtitleRight:u,gridRight:l,arrowLeft:o,arrowRight:c,textRight:h,textLeft:s,circleLeft:a,circleRight:f})}},{key:"drawPage",value:function(t){var e=t.titleStyles,r=t.backgroundStyles,n=(t.animationDimensions,this.globalComponents),i=n.background,o=n.title;i.redraw(r),o.redraw(e);var s=t.subtitleStyles,a=t.textStyles,u=t.gridFontStyles,l=t.arrowStyles,c=t.gridStyles,h=t.circleStyles,f=t.circleFontStyles;console.log("gridstyles"),console.log(c);var p=t.textLeftStyles,d=t.leftGridStyles,y=t.arrowLeftPos,g=t.subtitleLeftStyles,m=this.globalComponents,b=m.subtitleLeft,v=m.gridLeft,_=m.textLeft,w=m.arrowLeft,x=m.circleLeft;b.redraw($v($v({},s),g)),v.redraw($v($v({},c),d),u),v.position.set(d.x,b.y+b.height+d.yDistance),v.pivot.set(v.width/2,0),w.redraw(l),w.pivot.set(w.width/2,0),w.position.set(y.x,v.y+v.height+y.yDistance),_.redraw($v($v({},a),p)),_.position.set(p.x,w.y+w.height+p.yDistance),x.redraw(h,f),x.position.set(y.x,_.y+_.height+x.height/2+10);var O=t.textRightStyles,S=t.rightGridStyles,P=t.arrowRightPos,T=t.subtitleRightStyles,E=this.globalComponents,R=E.subtitleRight,A=E.gridRight,I=E.textRight,j=E.arrowRight,C=E.circleRight;R.redraw($v($v({},s),T)),A.redraw($v($v({},c),S),u),A.position.set(S.x,R.y+R.height+S.yDistance),A.pivot.set(A.width/2,0),j.redraw(l),j.pivot.set(j.width/2,0),j.position.set(P.x,A.y+A.height+P.yDistance),I.redraw($v($v({},a),O)),I.position.set(O.x,j.y+j.height+O.yDistance),C.redraw(h,f),C.position.set(j.x,I.y+I.height+C.height/2+10)}}])&&t_(e.prototype,r),s}(fg);function s_(t){return(s_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a_(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function u_(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?a_(Object(r),!0).forEach((function(e){l_(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a_(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function l_(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function c_(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function h_(t,e){return(h_=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f_(t,e){return!e||"object"!==s_(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function p_(t){return(p_=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}const d_=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h_(t,e)}(s,t);var e,r,n,i,o=(n=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=p_(n);if(i){var r=p_(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return f_(this,t)});function s(t,e,r){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(n=o.call(this)).text=new tf(t,e),n.text.anchor.set(.5),n.circle=n.createCircle(r),n.addChild(n.circle,n.text),n}return e=s,(r=[{key:"createCircle",value:function(t){var e=u_({radius:30,borderColor:268435455,borderWidth:3},t),r=new Nh;return e.borderWidth>0&&r.lineStyle(e.borderWidth,e.borderColor,1,0),r.drawCircle(0,0,2*e.radius),r.endFill(),r.cacheAsBitmap=!0,r.scale.set(this.getCirlceScale(1)),r}},{key:"redraw",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=u_({scale:1},t),n=u_({scale:1},e);this.circle.scale.set(this.getCirlceScale(r.scale)),this.text.scale.set(n.scale)}},{key:"getCirlceScale",value:function(t){return.5*t}}])&&c_(e.prototype,r),s}(bg);function y_(t){return(y_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function g_(t,e){return(g_=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function m_(t,e){return!e||"object"!==y_(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function b_(t){return(b_=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}const v_=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&g_(t,e)}(i,t);var e,r,n=(e=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,n=b_(e);if(r){var i=b_(this).constructor;t=Reflect.construct(n,arguments,i)}else t=n.apply(this,arguments);return m_(this,t)});function i(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),n.call(this,t)}return i}(Mg);function __(t){return(__="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function w_(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function x_(t,e){return(x_=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function O_(t,e){return!e||"object"!==__(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function S_(t){return(S_=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}const P_=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&x_(t,e)}(s,t);var e,r,n,i,o=(n=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=S_(n);if(i){var r=S_(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return O_(this,t)});function s(t,e){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),o.call(this,t,e)}return e=s,(r=[{key:"getDefines",value:function(){var t={};return t.backgroundStyles={width:this.getWidth(100),height:this.getHeight(100),fill:0,borderWidth:0},t.titleStyles={fill:this.c("--text-color-alpha"),x:this.getWidth(50),yDistance:this.getHeight(6),fontSize:36},t.circledCharStyles={x:this.getWidth(50),y:this.getHeight(30)},t.textStyles={x:this.getWidth(50),yDistance:this.getHeight(4),fontSize:18,wordWrap:!0,wordWrapWidth:400,fill:this.c("--text-light")},t.circleStyles={},t.circleFontStyles={},t}}])&&w_(e.prototype,r),s}(Xg);function T_(t){return(T_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function E_(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function R_(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?E_(Object(r),!0).forEach((function(e){A_(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):E_(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function A_(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function I_(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function j_(t,e){return(j_=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function C_(t,e){return!e||"object"!==T_(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function k_(t){return(k_=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}const M_=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&j_(t,e)}(s,t);var e,r,n,i,o=(n=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=k_(n);if(i){var r=k_(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return C_(this,t)});function s(t,e){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),o.call(this,t,e)}return e=s,(r=[{key:"evoke",value:function(t){return t.width<=768}},{key:"getDefines",value:function(t){return t.textStyles=R_(R_({},t.textStyles),{},{fontSize:20,wordWrapWidth:360}),t}}])&&I_(e.prototype,r),s}(Xg);function L_(t){return(L_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function D_(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function B_(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?D_(Object(r),!0).forEach((function(e){F_(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):D_(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function F_(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function N_(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function U_(t,e){return(U_=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function W_(t,e){return!e||"object"!==L_(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function z_(t){return(z_=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}const H_=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&U_(t,e)}(s,t);var e,r,n,i,o=(n=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=z_(n);if(i){var r=z_(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return W_(this,t)});function s(t,e){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),o.call(this,t,e)}return e=s,(r=[{key:"evoke",value:function(t){return t.width<=425}},{key:"getDefines",value:function(t){return t.titleStyles=B_(B_({},t.titleStyles),{},{yDistance:this.getHeight(4),fontSize:26}),t.textStyles=B_(B_({},t.textStyles),{},{fontSize:16,wordWrapWidth:280}),t}}])&&N_(e.prototype,r),s}(Xg);function X_(t){return(X_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function G_(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Y_(t,e){return(Y_=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function V_(t,e){return!e||"object"!==X_(e)&&"function"!=typeof e?q_(t):e}function q_(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function K_(t){return(K_=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}const Z_=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Y_(t,e)}(s,t);var e,r,n,i,o=(n=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=K_(n);if(i){var r=K_(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return V_(this,t)});function s(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(t=o.call(this)).timeline=new v_(q_(t)),t.registerResponsive("default",P_),t.registerResponsive("max-768",M_),t.registerResponsive("max-425",H_),t}return e=s,(r=[{key:"create",value:function(t){var e=this.createBackground(),r=new d_("A",{fontSize:30,fill:16777215},{radius:30,borderColor:16777215}),n=new mm("title");this.bindPageLocale("title",n),n.anchor.set(.5,.5);var i=new mm("text");this.bindPageLocale("text",i),i.anchor.set(.5,0),this.addPermanent({background:e,circledChar:r,title:n,text:i})}},{key:"drawPage",value:function(t){var e=this.globalComponents,r=e.background,n=e.title,i=e.circledChar,o=e.text,s=t.backgroundStyles,a=t.circledCharStyles,u=t.titleStyles,l=t.textStyles;r.redraw(s),i.redraw(),i.position.set(a.x,a.y),n.redraw(u),n.position.set(u.x,i.y+i.height+u.yDistance),o.redraw(l),o.position.set(l.x,n.position.y+n.height)}}])&&G_(e.prototype,r),s}(fg);function J_(t){return(J_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $_(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Q_(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?$_(Object(r),!0).forEach((function(e){tw(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$_(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function tw(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ew(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function rw(t,e){return(rw=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function nw(t,e){return!e||"object"!==J_(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function iw(t){return(iw=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ow={width:1920,height:1080,fill:16711680,borderWidth:0},sw={width:1920,height:50,fill:16777215,borderWidth:0};const aw=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&rw(t,e)}(s,t);var e,r,n,i,o=(n=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=iw(n);if(i){var r=iw(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return nw(this,t)});function s(t,e){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(r=o.call(this)).textStyles=Q_({fill:16777215},e),r.background=new ed,r.bar=new ed,r.title=new mm(t,r.textStyles),r.title.anchor.set(1,0),r.titleMask=new ed,r.titleMask.alpha=0,r.addChild(r.background,r.bar,r.title,r.titleMask),r}return e=s,(r=[{key:"redraw",value:function(t,e,r){t=Q_(Q_({},ow),t),e=Q_(Q_({},sw),e),this.textStyles=Q_(Q_({},this.textStyles),r),this.background.redraw(t),this.bar.redraw(Q_({},e)),this.title.redraw(this.textStyles),this.addChild(this.title),this.bar.position.set(0,2*this.title.y+this.title.height),this.titleMask.redraw({fill:t.fill,borderWidth:0,width:this.title.width,height:this.title.height}),this.titleMask.position.set(this.title.x-this.title.width,this.title.y)}}])&&ew(e.prototype,r),s}(bg);function uw(t){return(uw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function lw(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function cw(t,e){return(cw=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function hw(t,e){return!e||"object"!==uw(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function fw(t){return(fw=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}const pw=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&cw(t,e)}(s,t);var e,r,n,i,o=(n=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=fw(n);if(i){var r=fw(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return hw(this,t)});function s(t,e){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),o.call(this,t,e)}return e=s,(r=[{key:"getDefines",value:function(){var t={};return t.abBaseTextStyles={fill:this.c("--text-dark")},t.animatableBackgroundStyles={width:this.getWidth(100),height:this.getHeight(100),fill:this.c("--page-background-beta")},t.animatableBackgroundTitleStyles={position:{x:this.getWidth(90),y:this.getHeight(4)},fill:this.c("--text-grey"),fontSize:30},t.animatableBackgroundBarStyles={width:this.getWidth(100),height:this.getHeight(4),fill:this.c("--bar-background-beta")},t.backgroundStyles={width:this.getWidth(100),height:this.getHeight(100),fill:this.c("--page-background-alpha"),borderWidth:0},t.svgStyles={width:200,x:this.getWidth(20)},t.roundedLabelStyles={width:this.getWidth(20),height:this.getHeight(4),fill:16711680,borderWidth:1,borderFill:0,borderRadius:30},t.roundLabelTextStyles={fontSize:16},t.addRoundKeyStyles={fill:this.c("--label-bg-delta")},t.subBytesStyles={fill:this.c("--label-bg-alpha")},t.shiftRowsStyles={fill:this.c("--label-bg-beta")},t.mixColumnsStyles={fill:this.c("--label-bg-gamma")},t.sectionTitleStyles={fill:this.c("--text-grey"),fontSize:24,anchor:{x:1,y:.5}},t.initialRoundTitleStyles={position:{x:this.getWidth(90),y:this.getHeight(30)}},t.mainRoundTitleStyles={position:{x:this.getWidth(90),y:this.getHeight(50)}},t.finalRoundTitleStyles={position:{x:this.getWidth(90),y:this.getHeight(70)}},t.runnerStyles={width:30,height:30,fill:this.c("--grid-background-alpha")},t}}])&&lw(e.prototype,r),s}(Xg);function dw(t){return(dw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function yw(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function gw(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?yw(Object(r),!0).forEach((function(e){mw(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yw(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function mw(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bw(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vw(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _w(t,e){return(_w=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ww(t,e){return!e||"object"!==dw(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function xw(t){return(xw=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}const Ow=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_w(t,e)}(s,t);var e,r,n,i,o=(n=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=xw(n);if(i){var r=xw(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return ww(this,t)});function s(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return bw(this,s),(t=o.call(this)).textStyles=gw({},n),t.backgroundStyles=gw({},r),t.background=new Nh,t.text=new mm(e,t.textStyles),t.addChild(t.background,t.text),t}return e=s,(r=[{key:"redraw",value:function(t,e){this.background.clear(),this.backgroundStyles=gw(gw({},this.backgroundStyles),t),this.textStyles=gw(gw({},this.textStyles),e);var r=this.backgroundStyles,n=r.borderWidth,i=r.borderFill,o=r.borderRadius,s=r.width,a=r.height,u=r.fill;n>0&&this.background.lineStyle(n,i,1,0),this.background.beginFill(16777215),o>0?this.background.drawRoundedRect(0,0,s,a,o):this.background.drawRect(0,0,s,a),this.background.endFill();var l=u||0;this.background.tint=l,this.text.redraw(gw(gw({},this.textStyles),{},{position:{x:s/2,y:a/2},anchor:{x:.5,y:.5}}))}},{key:"updateContent",value:function(t){this.text.text=t}}])&&vw(e.prototype,r),s}(bg);function Sw(t){return(Sw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Pw(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Tw(t,e){return(Tw=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ew(t,e){return!e||"object"!==Sw(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Rw(t){return(Rw=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}const Aw=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Tw(t,e)}(s,t);var e,r,n,i,o=(n=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Rw(n);if(i){var r=Rw(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return Ew(this,t)});function s(t,e){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),o.call(this,t,e)}return e=s,(r=[{key:"evoke",value:function(t){return t.width<=768}},{key:"getDefines",value:function(t){return t}}])&&Pw(e.prototype,r),s}(Xg);function Iw(t){return(Iw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function jw(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Cw(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?jw(Object(r),!0).forEach((function(e){kw(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jw(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function kw(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Mw(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Lw(t,e){return(Lw=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Dw(t,e){return!e||"object"!==Iw(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Bw(t){return(Bw=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}const Fw=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Lw(t,e)}(s,t);var e,r,n,i,o=(n=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Bw(n);if(i){var r=Bw(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return Dw(this,t)});function s(t,e){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),o.call(this,t,e)}return e=s,(r=[{key:"evoke",value:function(t){return t.width<=425}},{key:"getDefines",value:function(t){return t.animatableBackgroundTitleStyles=Cw(Cw({},t.animatableBackgroundTitleStyles),{},{fontSize:24}),t.roundedLabelStyles=Cw(Cw({},t.roundedLabelStyles),{},{width:120,height:30}),t.roundLabelTextStyles=Cw(Cw({},t.roundLabelTextStyles),{},{fontSize:12}),t.svgStyles=Cw(Cw({},t.svgStyles),{},{width:100}),t.sectionTitleStyles=Cw(Cw({},t.sectionTitleStyles),{},{fontSize:20}),t}}])&&Mw(e.prototype,r),s}(Xg);function Nw(t){return(Nw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Uw(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Ww(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Uw(Object(r),!0).forEach((function(e){zw(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Uw(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function zw(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Hw(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Xw(t,e){return(Xw=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Gw(t,e){return!e||"object"!==Nw(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Yw(t){return(Yw=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}const Vw=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Xw(t,e)}(s,t);var e,r,n,i,o=(n=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Yw(n);if(i){var r=Yw(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return Gw(this,t)});function s(t,e){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),o.call(this,t,e)}return e=s,(r=[{key:"evoke",value:function(t){return t.width<375}},{key:"getDefines",value:function(t){return t.roundedLabelStyles=Ww(Ww({},t.roundedLabelStyles),{},{width:100,height:22}),t}}])&&Hw(e.prototype,r),s}(Xg);function qw(t){return(qw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Kw(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Zw(t,e){return(Zw=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Jw(t,e){return!e||"object"!==qw(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function $w(t){return($w=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}const Qw=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Zw(t,e)}(s,t);var e,r,n,i,o=(n=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=$w(n);if(i){var r=$w(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return Jw(this,t)});function s(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(t=o.call(this)).svg,t.path,t.points,t.info={},t}return e=s,(r=[{key:"getPath",value:function(){for(var t=this.path.points,e=[],r=0;r<t.length;r+=2)e.push({x:t[r]+this.x,y:t[r+1]+this.y});return e}},{key:"getPathPercent",value:function(t){var e=this.info,r=e.width,n=(e.height,e.segOne),i=e.segTwo,o=(e.segThree,e.totalLength),s=t.getBounds().y-this.y;return s<=n||s<=n+i?s/o:s+2*r+2*i}},{key:"redraw",value:function(t){this.removeChildren();var e=t.width,r=t.height,n=new Nh,i=[2,4,4],o=r/i.reduce((function(t,e){return t+e}),0),s=o*i[0],a=s+o*i[1],u=r+2*e+2*i[1]*o,l=function(t,e,r){return{y:t,length:e,startDist:r?r.startDist+r.length:0,progress:r?(r.startDist+r.length)/u:0}},c=l(0,o*i[0],null),h=l(s,o*i[1],c),f=l(a,o*i[1]+2*e,h),p=l(s,o*i[1],f),d=l(a,o*i[2],p);this.info={height:r,width:e,segments:{one:c,two:h,three:f,four:p,five:d},totalLength:u},n.lineStyle(2,0,1,0),n.moveTo(0,0),n.lineTo(0,a),n.lineTo(e,a),n.lineTo(e,s),n.lineTo(0,s),n.lineTo(0,r),this.svg=n,this.path=this.svg.currentPath,this.addChild(this.svg)}}])&&Kw(e.prototype,r),s}(bg);function tx(t){return(tx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ex(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var r=[],n=!0,i=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(n=(s=a.next()).done)&&(r.push(s.value),!e||r.length!==e);n=!0);}catch(t){i=!0,o=t}finally{try{n||null==a.return||a.return()}finally{if(i)throw o}}return r}}(t,e)||function(t,e){if(t){if("string"==typeof t)return rx(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?rx(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rx(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function nx(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function ix(t,e){return(ix=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ox(t,e){return!e||"object"!==tx(e)&&"function"!=typeof e?sx(t):e}function sx(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ax(t){return(ax=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}const ux=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ix(t,e)}(s,t);var e,r,n,i,o=(n=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ax(n);if(i){var r=ax(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return ox(this,t)});function s(t){var e,r,n,i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),i=function(t,e,r){var n=t/e;return[r*(n-.05),r*(n+.05)]},(n="getTimes")in(r=sx(e=o.call(this,t)))?Object.defineProperty(r,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[n]=i,e}return e=s,(r=[{key:"createPreFadeIn",value:function(){var t=this.getGlobalComponents(),e=t.runner,r=(t.svg,t.container,t.initialAddRoundKey),n=t.mrSubBytes,i=t.mrShiftRows,o=t.mrMixColumns,s=t.mrAddRoundKey,a=t.frSubBytes,u=t.frShiftRows,l=t.frAddRoundKey,c=Yo.timeline();return c.to({val:0},{val:1,duration:1e-4}),c.set([r,n,e,i,o,s,a,u,l],{pixi:{zIndex:20}}),c}},{key:"createAnimationIn",value:function(){return this.getAnimatableBackgroundTL()}},{key:"getMotionPathDuration",value:function(t,e){return 10*(e-t)}},{key:"createAnimationMain",value:function(){var t=this.getGlobalComponents(),e=t.runner,r=t.svg,n=(t.container,t.initialAddRoundKey),i=(t.mrSubBytes,t.mrShiftRows,t.mrMixColumns,t.mrAddRoundKey,t.frSubBytes),o=t.frShiftRows,s=t.frAddRoundKey,a=r.getPath(),u=Yo.timeline(),l=this.getMotionPathDuration(0,r.info.segments.two.progress);u.to(e,{motionPath:{path:a,start:0,end:r.info.segments.two.progress,curviness:0},duration:l,ease:"none"},"segOne");var c=this.page.getColor("--label-bg-delta"),h=this.page.getColor("--label-bg-highlight-delta"),f=ex(this.getTimes(n.y-r.y,r.info.segments.one.length,l),2),p=f[0],d=f[1];u.to(n.background,{pixi:{tint:h},duration:.001},"segOne+=".concat(p)),u.to(n.background,{pixi:{tint:c},duration:.001},"segOne+=".concat(d));var y=Yo.timeline({repeat:7,onRepeat:function(){console.log("on repeat")}});y.add(this.getMainRoundTL(a));var g=this.getMotionPathDuration(r.info.segments.three.progress,r.info.segments.four.progress);y.set(e,{pixi:{x:e.x,y:e.y}}),y.to(e,{motionPath:{path:a,start:r.info.segments.three.progress,end:r.info.segments.four.progress,curviness:0},duration:g,ease:"none"}),u.add(y),u.add(this.getMainRoundTL(a));var m=this.getMotionPathDuration(r.info.segments.five.progress,1);u.set(e,{pixi:{x:e.x,y:e.y}}),u.to(e,{motionPath:{path:a,start:r.info.segments.five.progress,end:1,curviness:0},duration:m,ease:"none"},"finalRound");var b=r.y+r.info.segments.five.y,v=ex(this.getTimes(i.y-b,r.info.segments.five.length,m),2),_=v[0],w=v[1],x=this.page.getColor("--label-bg-alpha"),O=this.page.getColor("--label-bg-highlight-alpha");u.to(i.background,{pixi:{tint:O},duration:.001},"finalRound+=".concat(_)),u.to(i.background,{pixi:{tint:x},duration:.001},"finalRound+=".concat(w));var S=this.page.getColor("--label-bg-beta"),P=this.page.getColor("--label-bg-highlight-beta"),T=ex(this.getTimes(o.y-b,r.info.segments.five.length,m),2),E=T[0],R=T[1];u.to(o.background,{pixi:{tint:P},duration:.001},"finalRound+=".concat(E)),u.to(o.background,{pixi:{tint:S},duration:.001},"finalRound+=".concat(R));var A=ex(this.getTimes(s.y-b,r.info.segments.five.length,m),2),I=A[0],j=A[1];return u.to(s.background,{pixi:{tint:h},duration:.001},"finalRound+=".concat(I)),u.to(s.background,{pixi:{tint:c},duration:.001},"finalRound+=".concat(j)),u}},{key:"getMainRoundTL",value:function(t){var e=this.getGlobalComponents(),r=e.runner,n=e.svg,i=e.mrSubBytes,o=e.mrShiftRows,s=e.mrMixColumns,a=e.mrAddRoundKey,u=this.getMotionPathDuration(n.info.segments.two.progress,n.info.segments.three.progress),l=Yo.timeline();l.set(r,{pixi:{x:r.x,y:r.y}}),l.to(r,{motionPath:{path:t,start:n.info.segments.two.progress,end:n.info.segments.three.progress,curviness:0},duration:u,ease:"none"},"mainRound");var c=this.page.getColor("--label-bg-alpha"),h=this.page.getColor("--label-bg-highlight-alpha"),f=ex(this.getTimes(i.y-n.y-n.info.segments.two.y,n.info.segments.two.length,u),2),p=f[0],d=f[1];l.to(i.background,{pixi:{tint:h},duration:.001},"mainRound+=".concat(p)),l.to(i.background,{pixi:{tint:c},duration:.001},"mainRound+=".concat(d));var y=this.page.getColor("--label-bg-beta"),g=this.page.getColor("--label-bg-highlight-beta"),m=ex(this.getTimes(o.y-n.y-n.info.segments.two.y,n.info.segments.two.length,u),2),b=m[0],v=m[1];l.to(o.background,{pixi:{tint:g},duration:.001},"mainRound+=".concat(b)),l.to(o.background,{pixi:{tint:y},duration:.001},"mainRound+=".concat(v));var _=this.page.getColor("--label-bg-gamma"),w=this.page.getColor("--label-bg-highlight-gamma"),x=ex(this.getTimes(s.y-n.y-n.info.segments.two.y,n.info.segments.two.length,u),2),O=x[0],S=x[1];l.to(s.background,{pixi:{tint:w},duration:.001},"mainRound+=".concat(O)),l.to(s.background,{pixi:{tint:_},duration:.001},"mainRound+=".concat(S));var P=this.page.getColor("--label-bg-delta"),T=this.page.getColor("--label-bg-highlight-delta"),E=ex(this.getTimes(a.y-n.y-n.info.segments.two.y,n.info.segments.two.length,u),2),R=E[0],A=E[1];return l.to(a.background,{pixi:{tint:T},duration:.001},"mainRound+=".concat(R)),l.to(a.background,{pixi:{tint:P},duration:.001},"mainRound+=".concat(A)),l}},{key:"createBlink",value:function(t,e,r){var n=t.background.tint,i=Yo.timeline();return i.to(t.background,{pixi:{tint:e},duration:.001}),i.to(t.background,{pixi:{tint:n},duration:.001,delay:r}),i}}])&&nx(e.prototype,r),s}(Mg);function lx(t){return(lx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function cx(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function hx(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?cx(Object(r),!0).forEach((function(e){fx(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):cx(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function fx(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function px(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function dx(t,e){return(dx=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function yx(t,e){return!e||"object"!==lx(e)&&"function"!=typeof e?gx(t):e}function gx(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mx(t){return(mx=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}const bx=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&dx(t,e)}(s,t);var e,r,n,i,o=(n=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=mx(n);if(i){var r=mx(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return yx(this,t)});function s(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(t=o.call(this)).timeline=new ux(gx(t)),t.registerResponsive("default",pw),t.registerResponsive("max-768",Aw),t.registerResponsive("max-425",Fw),t.registerResponsive("max-375",Vw),t}return e=s,(r=[{key:"createLabel",value:function(t){var e=new Ow(t);return this.bindPageLocale(t,e),e}},{key:"create",value:function(t){var e=this.createBackground(),r=new Qw,n=t.abBaseTextStyles,i=new aw("title",n);this.bindPageLocale("title",i.title);var o=new mm("titleInitialRound");this.bindPageLocale("titleInitialRound",o);var s=new mm("titleMainRounds");this.bindPageLocale("titleMainRounds",s);var a=new mm("titleFinalRound");this.bindPageLocale("titleFinalRound",a);var u=new uv(4,4),l=(t.roundedLabelStyles,this.createLabel("labelInitial")),c=this.createLabel("labelMrone"),h=this.createLabel("labelMrTwo"),f=this.createLabel("labelMrThree"),p=this.createLabel("labelMrFour"),d=this.createLabel("labelFrOne"),y=this.createLabel("labelFrTwo"),g=this.createLabel("labelFrThree");this.addPermanent({background:e,animatableBackground:i,labelInitialRound:o,labelMainRounds:s,labelFinalRound:a,runner:u,initialAddRoundKey:l,mrSubBytes:c,mrShiftRows:h,mrMixColumns:f,mrAddRoundKey:p,frSubBytes:d,frShiftRows:y,frAddRoundKey:g,svg:r}),this.sortableChildren=!0}},{key:"drawPage",value:function(t){var e=this.globalComponents,r=e.background,n=e.animatableBackground,i=e.initialAddRoundKey,o=e.mrSubBytes,s=e.mrShiftRows,a=e.mrMixColumns,u=e.mrAddRoundKey,l=e.frSubBytes,c=e.frShiftRows,h=e.frAddRoundKey,f=e.runner,p=(e.container,e.svg),d=t.backgroundStyles;r.redraw(d);var y=t.animatableBackgroundStyles,g=t.animatableBackgroundTitleStyles,m=t.animatableBackgroundBarStyles;n.redraw(y,m,g);var b=n.bar.y+n.bar.height,v=r.height-b-20,_=t.svgStyles;p.redraw({height:v,width:_.width}),p.position.set(_.x,b+10);var w=this.globalComponents,x=w.labelInitialRound,O=w.labelMainRounds,S=w.labelFinalRound,P=t.mainRoundTitleStyles,T=t.initialRoundTitleStyles,E=t.finalRoundTitleStyles,R=t.sectionTitleStyles;console.log(p.info),x.redraw(hx(hx(hx({},R),T),{},{position:{x:T.position.x,y:p.y+p.info.segments.one.length/2}})),O.redraw(hx(hx(hx({},R),P),{},{position:{x:P.position.x,y:p.y+p.info.segments.one.length+p.info.segments.two.length/2}})),S.redraw(hx(hx(hx({},R),E),{},{position:{x:E.position.x,y:p.y+p.info.segments.one.length+p.info.segments.two.length+p.info.segments.five.length/2}}));var A=t.runnerStyles;f.redraw(A),f.pivot.set(A.width/2,A.height/2),f.position.set(p.x,p.y);var I=t.roundedLabelStyles,j=t.roundLabelTextStyles,C=t.addRoundKeyStyles,k=t.mixColumnsStyles,M=t.shiftRowsStyles,L=t.subBytesStyles;i.redraw(hx(hx({},I),C),j),o.redraw(hx(hx({},I),L),j),s.redraw(hx(hx({},I),M),j),a.redraw(hx(hx({},I),k),j),u.redraw(hx(hx({},I),C),j),l.redraw(hx(hx({},I),L),j),c.redraw(hx(hx({},I),M),j),h.redraw(hx(hx({},I),C),j),i.position.set(p.position.x,p.position.y+.1*p.height),i.pivot.set(i.width/2,i.height/2);o.position.set(p.position.x,p.position.y+p.height*(.4-1.5*.07)),o.pivot.set(o.width/2,o.height/2),s.position.set(p.position.x,p.position.y+.365*p.height),s.pivot.set(s.width/2,s.height/2),a.position.set(p.position.x,p.position.y+p.height*(.4+.035)),a.pivot.set(a.width/2,a.height/2),u.position.set(p.position.x,p.position.y+.505*p.height),u.pivot.set(u.width/2,u.height/2),l.position.set(p.position.x,p.position.y+.73*p.height),l.pivot.set(l.width/2,l.height/2),c.position.set(p.position.x,p.position.y+.8*p.height),c.pivot.set(c.width/2,c.height/2),h.position.set(p.position.x,p.position.y+p.height*(.8+.07)),h.pivot.set(h.width/2,h.height/2)}}])&&px(e.prototype,r),s}(fg);function vx(t){return(vx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _x(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function wx(t,e){return(wx=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function xx(t,e){return!e||"object"!==vx(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ox(t){return(Ox=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}const Sx=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&wx(t,e)}(s,t);var e,r,n,i,o=(n=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Ox(n);if(i){var r=Ox(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return xx(this,t)});function s(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),o.call(this,t)}return e=s,(r=[{key:"createPreFadeIn",value:function(){var t=this.getGlobalComponents(),e=t.container,r=t.title,n=this.getPreFadeInTimeline();return n.set([r,e],{pixi:{alpha:0}}),n}},{key:"createAnimationMain",value:function(){var t=this.getGlobalComponents(),e=t.container,r=t.title,n=t.labelSubBytes,i=t.labelShiftRows,o=t.labelMixColumns,s=t.labelAddRoundKey,a=Yo.timeline();return a.set(e,{pixi:{x:e.x-200,scale:.7}}),a.to([n,i,o,s],{pixi:{alpha:1}}),a.to(e,{pixi:{alpha:1},duration:.5}),a.to(e,{pixi:{x:e.x,scale:1},duration:1},"-=.2"),a.to(r,{pixi:{alpha:1}},"<"),a}}])&&_x(e.prototype,r),s}(Mg);function Px(t){return(Px="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Tx(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Ex(t,e){return(Ex=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Rx(t,e){return!e||"object"!==Px(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ax(t){return(Ax=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}const Ix=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ex(t,e)}(s,t);var e,r,n,i,o=(n=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Ax(n);if(i){var r=Ax(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return Rx(this,t)});function s(t,e){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),o.call(this,t,e)}return e=s,(r=[{key:"getDefines",value:function(){var t={};return t.backgroundStyles={width:this.getWidth(100),height:this.getHeight(100),fill:16777215,borderWidth:0},t.titleStyles={fill:this.c("--text-color"),position:{x:this.getWidth(50),y:this.getHeight(30)}},t.containerPos={x:this.getWidth(50)},t.labelStyles={width:this.getWidth(22),height:this.getHeight(6),borderWidth:2,borderFill:0,borderRadius:30},t.labelFontStyles={fontSize:24,fill:this.c("--text-color")},t.subBytesLabelStyles={fill:this.c("--label-bg-alpha")},t.shiftRowsLabelStyles={fill:this.c("--label-bg-beta")},t.mixColumnsLabelStyles={fill:this.c("--label-bg-gamma")},t.addRoundKeyLabelStyles={fill:this.c("--label-bg-delta")},t}}])&&Tx(e.prototype,r),s}(Xg);function jx(t){return(jx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Cx(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function kx(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Cx(Object(r),!0).forEach((function(e){Mx(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Cx(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Mx(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Lx(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Dx(t,e){return(Dx=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Bx(t,e){return!e||"object"!==jx(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Fx(t){return(Fx=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}const Nx=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Dx(t,e)}(s,t);var e,r,n,i,o=(n=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Fx(n);if(i){var r=Fx(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return Bx(this,t)});function s(t,e){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),o.call(this,t,e)}return e=s,(r=[{key:"evoke",value:function(t){return t.width<=768}},{key:"getDefines",value:function(t){return t.labelStyles=kx(kx({},t.labelStyles),{},{width:this.getWidth(36)}),t.labelFontStyles=kx(kx({},t.labelFontStyles),{},{fontSize:20}),t.titleStyles=kx(kx({},t.titleStyles),{},{fontSize:22,wordWrap:!0,wordWrapWidth:360}),t}}])&&Lx(e.prototype,r),s}(Xg);function Ux(t){return(Ux="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Wx(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function zx(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Wx(Object(r),!0).forEach((function(e){Hx(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Wx(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Hx(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Xx(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Gx(t,e){return(Gx=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Yx(t,e){return!e||"object"!==Ux(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Vx(t){return(Vx=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}const qx=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Gx(t,e)}(s,t);var e,r,n,i,o=(n=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Vx(n);if(i){var r=Vx(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return Yx(this,t)});function s(t,e){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),o.call(this,t,e)}return e=s,(r=[{key:"evoke",value:function(t){return t.width<=425}},{key:"getDefines",value:function(t){return t.labelStyles=zx(zx({},t.labelStyles),{},{width:this.getWidth(44)}),t.labelFontStyles=zx(zx({},t.labelFontStyles),{},{fontSize:18}),t.titleStyles=zx(zx({},t.titleStyles),{},{fontSize:18,wordWrap:!0,wordWrapWidth:280}),t}}])&&Xx(e.prototype,r),s}(Xg);function Kx(t){return(Kx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Zx(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Jx(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Zx(Object(r),!0).forEach((function(e){$x(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Zx(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function $x(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Qx(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function tO(t,e){return(tO=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function eO(t,e){return!e||"object"!==Kx(e)&&"function"!=typeof e?rO(t):e}function rO(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nO(t){return(nO=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}const iO=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&tO(t,e)}(s,t);var e,r,n,i,o=(n=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=nO(n);if(i){var r=nO(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return eO(this,t)});function s(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(t=o.call(this)).timeline=new Sx(rO(t)),t.registerResponsive("default",Ix),t.registerResponsive("max-768",Nx),t.registerResponsive("max-425",qx),t}return e=s,(r=[{key:"create",value:function(t){var e=this.createBackground(),r=new mm("title",{fontSize:24,align:"center",fontWeight:"700",wordWrap:!0,wordWrapWidth:300});this.bindPageLocale("title",r),r.anchor.set(.5,.5);var n=new Qa,i=new Ow("labelOne"),o=new Ow("labelTwo"),s=new Ow("labelThree"),a=new Ow("labelFour");this.bindPageLocale("labelOne",i.text),this.bindPageLocale("labelTwo",o.text),this.bindPageLocale("labelThree",s.text),this.bindPageLocale("labelFour",a.text),n.addChild(i,o,s,a),this.addPermanent({background:e,title:r,container:n}),this.addToGlobalComponents({labelSubBytes:i,labelShiftRows:o,labelMixColumns:s,labelAddRoundKey:a})}},{key:"drawPage",value:function(t){var e=this.globalComponents,r=e.background,n=e.title,i=t.backgroundStyles,o=t.titleStyles;t.textStyles,r.redraw(i),n.redraw(Jx({},o));var s=t.labelStyles,a=t.labelFontStyles,u=t.containerPos,l=t.subBytesLabelStyles,c=t.shiftRowsLabelStyles,h=t.mixColumnsLabelStyles,f=t.addRoundKeyLabelStyles,p=this.globalComponents,d=p.labelShiftRows,y=p.labelMixColumns,g=p.labelAddRoundKey,m=p.labelSubBytes,b=p.container;m.redraw(Jx(Jx({},s),l),a),d.redraw(Jx(Jx({},s),c),a),y.redraw(Jx(Jx({},s),h),a),g.redraw(Jx(Jx({},s),f),a),d.position.set(0,m.y+s.height+20),y.position.set(0,d.y+s.height+20),g.position.set(0,y.y+s.height+20),d.text.tint=0,b.pivot.set(b.width/2,0),b.position.set(u.x,n.position.y+n.height+20)}}])&&Qx(e.prototype,r),s}(fg);function oO(t){return(oO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function sO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function aO(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?sO(Object(r),!0).forEach((function(e){uO(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sO(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function uO(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lO(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function cO(t,e){return(cO=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function hO(t,e){return!e||"object"!==oO(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function fO(t){return(fO=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}const pO=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&cO(t,e)}(s,t);var e,r,n,i,o=(n=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=fO(n);if(i){var r=fO(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return hO(this,t)});function s(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),o.call(this,t)}return e=s,(r=[{key:"createPreFadeIn",value:function(){var t=this.getGlobalComponents().resultMovables,e=this.getPreFadeInTimeline();return e.set(t.movables,{pixi:{alpha:0}}),e}},{key:"createAnimationIn",value:function(){return this.getAnimatableBackgroundTL()}},{key:"createAnimationMain",value:function(){var t=this.getGlobalComponents(),e=t.sbox,r=t.grid,n=t.textBox,i=t.stateMovables,o=t.resultMovables,s=Yo.timeline(),a=this.page.getColor("--sbox-background"),u=this.page.getColor("--sbox-highlight-color"),l=this.page.controller.data.getData("after-initial-round")[0],c=cy(l[0]),h=cy(l[1]),f=e.grid.get(c,h),p=e.grid.getRow(c).map((function(t){return t.getBackground()})),d=e.grid.getCol(h).map((function(t){return t.getBackground()}));s.to(o.get(0,0),{pixi:aO(aO({},this.getBounds(f)),{},{alpha:0}),duration:1e-4}),s.set(o.movables,{pixi:{alpha:0}}),s.to(i.get(0,0),{pixi:aO(aO({},this.getBounds(n)),{},{zIndex:10}),duration:1.5},"move-group"),s.to(p,{pixi:{tint:u}}),s.to(d,{pixi:{tint:u}}),s.set(o.get(0,0),{pixi:{alpha:1}}),s.to(p,{pixi:{tint:a}}),s.to(d,{pixi:{tint:a}},"<"),s.to(o.get(0,0),{pixi:aO(aO({scale:1},this.getBounds(r.get(0,0))),{},{zIndex:10}),duration:1.5},"move-back"),s.set(o.get(0,0),{pixi:{zIndex:1}}),s.to(i.get(0,0),{pixi:{alpha:0}},"move-back+=0");for(var y=0;y<o.movables.length;y++){var g=o.movables[y],m=cy(g.text.text[0]),b=cy(g.text.text[1]),v=e.grid.get(m,b);s.to(v.getBackground(),{pixi:{tint:u},duration:.1,delay:.5}),s.to(g,{pixi:{alpha:1},duration:.1},"<"),s.to(v.getBackground(),{pixi:{tint:a},duration:.1,delay:.3})}return s}}])&&lO(e.prototype,r),s}(Mg);function dO(t){return(dO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function yO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function gO(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?yO(Object(r),!0).forEach((function(e){mO(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yO(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function mO(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bO(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function vO(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _O(t,e){return(_O=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function wO(t,e){return!e||"object"!==dO(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function xO(t){return(xO=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var OO={width:600,height:500,legendWidth:40};const SO=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_O(t,e)}(s,t);var e,r,n,i,o=(n=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=xO(n);if(i){var r=xO(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return wO(this,t)});function s(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),t=o.call(this);var e,r=(e=new Array(16),function(t){if(Array.isArray(t))return bO(t)}(e)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(e)||function(t,e){if(t){if("string"==typeof t)return bO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?bO(t,e):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map((function(t,e){return Number(e).toString(16).slice(-2).toUpperCase()}));return t.title=new Em("hex"),t.legendXLabel=new Em("x"),t.legendX=new uv(16,1,{},{}),t.legendX.cells.forEach((function(t,e){return t.updateContent(r[e])})),t.legendYLabel=new Em("y"),t.legendY=new uv(1,16,{},{}),t.legendY.cells.forEach((function(t,e){return t.updateContent(r[e])})),t.grid=new uv(16,16,{},{}),t.addChild(t.title,t.legendXLabel,t.legendYLabel,t.legendX,t.legendY,t.grid),t}return e=s,(r=[{key:"redraw",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};t=gO(gO({},OO),t);var n=gO({scale:1},e),i=gO({scale:1},r),o=t,s=o.width,a=o.height,u=o.legendWidth,l=o.legendColor,c=u/2;this.title.redraw({width:u,height:u},n),this.legendXLabel.redraw({width:c,height:a-u},n),this.legendXLabel.position.set(0,u),this.legendX.redraw({width:c,height:a-u,fill:l},n),this.legendX.position.set(c,u),this.legendYLabel.redraw({width:s-u,height:c},n),this.legendYLabel.position.set(u,0),this.legendY.redraw({width:s-u,height:c,fill:l},n),this.legendY.position.set(u,c),this.grid.redraw({width:s-u,height:a-u},i),this.grid.position.set(u,u)}}])&&vO(e.prototype,r),s}(bg);function PO(t){return(PO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function TO(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function EO(t,e){return(EO=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function RO(t,e){return!e||"object"!==PO(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function AO(t){return(AO=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}const IO=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&EO(t,e)}(s,t);var e,r,n,i,o=(n=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=AO(n);if(i){var r=AO(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return RO(this,t)});function s(t,e){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),o.call(this,t,e)}return e=s,(r=[{key:"getDefines",value:function(){var t={};return t.animatableBackgroundStyles={width:this.getWidth(100),height:this.getHeight(100),fill:this.page.getColor("--page-background-delta")},t.animatableBackgroundTitleStyles={position:{x:this.getWidth(90),y:this.getHeight(4)},fill:this.c("--text-light"),fontSize:30},t.animatableBackgroundBarStyles={width:this.getWidth(100),height:this.getHeight(5),fill:this.page.getColor("--text-color-inverted")},t.backgroundStyles={width:this.getWidth(100),height:this.getHeight(100),fill:this.c("--page-background-alpha"),borderWidth:0},t.sBoxStyles={width:this.getWidth(50),height:this.getHeight(50),legendColor:this.c("--sbox-legend-background")},t.sboxLegendStyles={fontSize:12},t.sBoxTextStyles={fontSize:12},t.sBoxPos={x:this.getWidth(96),y:this.getHeight(96)},t.gridStyles={width:this.getWidth(24),height:this.getWidth(16),x:this.getWidth(25),y:this.getHeight(50)},t.gridFontStyles={fontSize:18},t.stateMovableStyles={fill:this.c("--grid-background-alpha")},t.resultMovablesStyles={fill:this.c("--grid-background-gamma")},t.textBoxStyle={width:this.getWidth(6),height:this.getWidth(4)},t}}])&&TO(e.prototype,r),s}(Xg);function jO(t){return(jO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function CO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function kO(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?CO(Object(r),!0).forEach((function(e){MO(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):CO(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function MO(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function LO(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function DO(t,e){return(DO=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function BO(t,e){return!e||"object"!==jO(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function FO(t){return(FO=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}const NO=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&DO(t,e)}(s,t);var e,r,n,i,o=(n=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=FO(n);if(i){var r=FO(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return BO(this,t)});function s(t,e){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),o.call(this,t,e)}return e=s,(r=[{key:"evoke",value:function(t){return t.width<=768}},{key:"getDefines",value:function(t){return t.gridStyles=kO(kO({},t.gridStyles),{},{width:this.getWidth(24),height:this.getWidth(16),x:this.getWidth(50),y:this.getHeight(28)}),t.gridFontStyles=kO(kO({},t.gridFontStyles),{},{fontSize:14}),t.sBoxStyles=kO(kO({},t.sBoxStyles),{},{width:this.getWidth(90),height:this.getHeight(50)}),t.sboxLegendStyles=kO(kO({},t.sboxLegendStyles),{},{fontSize:10}),t.sBoxTextStyles=kO(kO({},t.sBoxTextStyles),{},{fontSize:10}),t.sBoxPos=kO(kO({},t.sBoxPos),{},{x:this.getWidth(95),y:this.getHeight(96)}),t}}])&&LO(e.prototype,r),s}(Xg);function UO(t){return(UO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function WO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function zO(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?WO(Object(r),!0).forEach((function(e){HO(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):WO(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function HO(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function XO(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function GO(t,e){return(GO=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function YO(t,e){return!e||"object"!==UO(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function VO(t){return(VO=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}const qO=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&GO(t,e)}(s,t);var e,r,n,i,o=(n=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=VO(n);if(i){var r=VO(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return YO(this,t)});function s(t,e){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),o.call(this,t,e)}return e=s,(r=[{key:"evoke",value:function(t){return t.width<=425}},{key:"getDefines",value:function(t){return t.animatableBackgroundTitleStyles=zO(zO({},t.animatableBackgroundTitleStyles),{},{fontSize:24}),t.gridStyles=zO(zO({},t.gridStyles),{},{width:this.getWidth(50),height:this.getWidth(26),x:this.getWidth(50),y:this.getHeight(28)}),t.gridFontStyles=zO(zO({},t.gridFontStyles),{},{fontSize:14}),t.textBoxStyle=zO(zO({},t.textBoxStyle),{},{width:this.getWidth(12),height:this.getWidth(8)}),t.sBoxStyles=zO(zO({},t.sBoxStyles),{},{width:this.getWidth(96),height:this.getHeight(50),legendWidth:24}),t.sboxLegendStyles=zO(zO({},t.sboxLegendStyles),{},{fontSize:8}),t.sBoxTextStyles=zO(zO({},t.sBoxTextStyles),{},{fontSize:8}),t.sBoxPos=zO(zO({},t.sBoxPos),{},{x:this.getWidth(98),y:this.getHeight(96)}),t}}])&&XO(e.prototype,r),s}(Xg);function KO(t){return(KO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ZO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function JO(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ZO(Object(r),!0).forEach((function(e){$O(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ZO(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function $O(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function QO(t){return function(t){if(Array.isArray(t))return tS(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return tS(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?tS(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tS(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function eS(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function rS(t,e){return(rS=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function nS(t,e){return!e||"object"!==KO(e)&&"function"!=typeof e?iS(t):e}function iS(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oS(t){return(oS=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}const sS=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&rS(t,e)}(s,t);var e,r,n,i,o=(n=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=oS(n);if(i){var r=oS(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return nS(this,t)});function s(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(t=o.call(this)).timeline=new pO(iS(t)),t.registerResponsive("default",IO),t.registerResponsive("max-768",NO),t.registerResponsive("max-425",qO),t}return e=s,(r=[{key:"create",value:function(t){var e=this.createBackground(),r=new aw("title",{});this.bindPageLocale("title",r.title);var n=new SO;this.subscribeTo("sbox",n.grid.cells);var i=t.sBoxStyles,o=t.sboxLegendStyles,s=t.sBoxTextStyles;n.redraw(i,o,s);var a=new Em,u=new uv(4,4,{},{}),l=u.createMovables(),c=u.createMovables();this.subscribeTo("after-initial-round",l.movables),this.subscribeTo("after-sub-bytes-1",c.movables),this.addPermanent({background:e,animatableBackground:r,sbox:n,grid:u,textBox:a}),this.addChild.apply(this,QO(l.movables).concat(QO(c.movables))),this.addToGlobalComponents({stateMovables:l,resultMovables:c}),this.sortableChildren=!0}},{key:"drawPage",value:function(t){var e=this.globalComponents,r=e.background,n=e.animatableBackground,i=e.sbox,o=e.grid,s=e.textBox,a=t.backgroundStyles;r.redraw(a);var u=t.animatableBackgroundStyles,l=t.animatableBackgroundTitleStyles,c=t.animatableBackgroundBarStyles;n.redraw(u,c,l);var h=t.sBoxPos,f=t.sBoxStyles,p=t.sboxLegendStyles,d=t.sBoxTextStyles;i.redraw(f,p,d),i.pivot.set(f.width,f.height),i.position.set(h.x,h.y);var y=t.textBoxStyle;s.redraw(y,{}),s.position.set(i.x-f.width/2,i.y-f.height-s.height-10),s.pivot.set(s.width/2,0);var g=t.gridStyles,m=t.gridFontStyles;o.redraw(g),o.position.set(g.x,g.y),o.pivot.set(o.width/2,o.height/2);var b=this.globalComponents.stateMovables,v=t.stateMovableStyles;b.movables.forEach((function(t,e){var r=o.cells[e].getBounds(),n=r.x,i=r.y,s=r.width,a=r.height;t.redraw(JO({width:s,height:a},v),m),t.position.set(n,i)}));var _=this.globalComponents.resultMovables,w=t.resultMovablesStyles;_.movables.forEach((function(t,e){var r=o.cells[e].getBounds(),n=r.x,i=r.y,s=r.width,a=r.height;t.redraw(JO({width:s,height:a},w),m),t.position.set(n,i)}))}}])&&eS(e.prototype,r),s}(fg);function aS(t){return(aS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function uS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function lS(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?uS(Object(r),!0).forEach((function(e){cS(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):uS(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function cS(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hS(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function fS(t,e){return(fS=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function pS(t,e){return!e||"object"!==aS(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function dS(t){return(dS=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}const yS=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&fS(t,e)}(s,t);var e,r,n,i,o=(n=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=dS(n);if(i){var r=dS(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return pS(this,t)});function s(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),o.call(this,t)}return e=s,(r=[{key:"createPreFadeIn",value:function(){var t=this.getGlobalComponents(),e=t.movablesCollector,r=(t.grid,t.text1),n=t.text2,i=t.text3,o=this.getPreFadeInTimeline();o.set([r,n,i],{pixi:{alpha:0}});var s=e.movables.map((function(t){return t.y}));return o.set(e.movables,{pixi:{alpha:0,y:function(t){return s[t]-100}}}),o}},{key:"createAnimationIn",value:function(){var t=this.getGlobalComponents(),e=t.movablesCollector,r=(t.grid,t.text1,t.text2,t.text3,this.getAnimatableBackgroundTL()),n=e.movables.map((function(t){return t.y}));return r.to(e.movables,{pixi:{alpha:1,y:function(t){return n[t]}},duration:.5}),r}},{key:"createAnimationMain",value:function(){var t=this.getGlobalComponents(),e=t.movablesCollector,r=t.grid,n=t.text1,i=t.text2,o=t.text3,s=Yo.timeline();s.to(n,{pixi:{alpha:1},duration:.3,delay:.8}),s.add(this.shiftRow(e.getRow(1),r.getRow(1))),s.to(n,{pixi:{alpha:0}}),s.to(i,{pixi:{alpha:1}},"<");var a=e.getRow(2);s.add(this.shiftRow(a,r.getRow(2))),s.add(this.shiftRow(id(a,1),r.getRow(2))),s.to(i,{pixi:{alpha:0}}),s.to(o,{pixi:{alpha:1}},"<");var u=e.getRow(3);return s.add(this.shiftRow(u,r.getRow(3))),s.add(this.shiftRow(id(u,1),r.getRow(3))),s.add(this.shiftRow(id(u,2),r.getRow(3))),s.to(o,{pixi:{alpha:0}}),s}},{key:"shiftRow",value:function(t,e){var r=Yo.timeline(),n=this.getBounds(e[3]),i=this.getBounds(e[0]);r.to(t[0],{pixi:lS(lS({},n),{},{x:(n.x+i.x)/2,y:n.y-100,zIndex:10}),duration:1},"shift-row"),r.to(t[0],{pixi:lS(lS({},n),{},{zIndex:10}),duration:1});for(var o=1;o<t.length;o++){var s=this.getBounds(e[o-1]);r.to(t[o],{pixi:lS(lS({},s),{},{zIndex:5}),duration:.8},"shift-row+=1")}return r.set(t,{pixi:{zIndex:1}}),r}},{key:"createFadeOut",value:function(){var t=this.getGlobalComponents().movablesCollector,e=Yo.timeline(),r=t.movables.map((function(t){return t.y}));return e.to(t.movables,{pixi:{alpha:0,y:function(t){return r[t]+100}},duration:.5}),e}}])&&hS(e.prototype,r),s}(Mg);function gS(t){return(gS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function mS(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function bS(t,e){return(bS=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function vS(t,e){return!e||"object"!==gS(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function _S(t){return(_S=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}const wS=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&bS(t,e)}(s,t);var e,r,n,i,o=(n=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=_S(n);if(i){var r=_S(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return vS(this,t)});function s(t,e){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),o.call(this,t,e)}return e=s,(r=[{key:"getDefines",value:function(){var t={};t.animatableBackgroundStyles={width:this.getWidth(100),height:this.getHeight(100),fill:this.c("--page-background-zeta")},t.animatableBackgroundTitleStyles={position:{x:this.getWidth(90),y:this.getHeight(4)},fill:this.c("--text-light"),fontSize:30},t.animatableBackgroundBarStyles={width:this.getWidth(100),height:this.getHeight(5),fill:this.c("--bar-background-alpha")},t.gridFontStyles={fontSize:20},t.backgroundStyles={width:this.getWidth(100),height:this.getHeight(100),fill:this.c("--page-background-delta"),borderWidth:0},t.gridStyles={width:this.getWidth(30),height:this.getHeight(30),fill:this.c(" --grid-background-alpha"),x:this.getWidth(25),y:this.getHeight(50)},t.movablesStyles={fill:this.c("--grid-background-alpha")},t.baseTextStyles={fontSize:24,anchor:{x:0,y:.5}};var e=t.gridStyles.height/4;return t.text1Styles={fill:this.c("--text-light"),position:{x:this.getWidth(50),y:t.gridStyles.y+1.5*e}},t.text2Styles={fill:this.c("--text-light"),position:{x:this.getWidth(50),y:t.gridStyles.y+2.5*e}},t.text3Styles={fill:this.c("--text-light"),position:{x:this.getWidth(50),y:t.gridStyles.y+3.5*e}},t}}])&&mS(e.prototype,r),s}(Xg);function xS(t){return(xS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function OS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function SS(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?OS(Object(r),!0).forEach((function(e){PS(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):OS(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function PS(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function TS(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function ES(t,e){return(ES=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function RS(t,e){return!e||"object"!==xS(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function AS(t){return(AS=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}const IS=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ES(t,e)}(s,t);var e,r,n,i,o=(n=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=AS(n);if(i){var r=AS(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return RS(this,t)});function s(t,e){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),o.call(this,t,e)}return e=s,(r=[{key:"evoke",value:function(t){return t.width<=768}},{key:"getDefines",value:function(t){t.gridStyles=SS(SS({},t.gridStyles),{},{width:this.getWidth(50),height:this.getHeight(30),x:this.getWidth(50),y:this.getHeight(26)}),t.baseTextStyles=SS(SS({},t.baseTextStyles),{},{fontSize:30,anchor:{x:.5,y:.5}});var e=t.gridStyles.y+t.gridStyles.height+100;return t.text1Styles=SS(SS({},t.text1Styles),{},{position:{x:this.getWidth(50),y:e}}),t.text2Styles=SS(SS({},t.text2Styles),{},{position:{x:this.getWidth(50),y:e}}),t.text3Styles=SS(SS({},t.text3Styles),{},{position:{x:this.getWidth(50),y:e}}),t}}])&&TS(e.prototype,r),s}(Xg);function jS(t){return(jS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function CS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function kS(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?CS(Object(r),!0).forEach((function(e){MS(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):CS(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function MS(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function LS(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function DS(t,e){return(DS=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function BS(t,e){return!e||"object"!==jS(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function FS(t){return(FS=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}const NS=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&DS(t,e)}(s,t);var e,r,n,i,o=(n=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=FS(n);if(i){var r=FS(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return BS(this,t)});function s(t,e){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),o.call(this,t,e)}return e=s,(r=[{key:"evoke",value:function(t){return t.width<=425}},{key:"getDefines",value:function(t){return t.animatableBackgroundTitleStyles=kS(kS({},t.animatableBackgroundTitleStyles),{},{fontSize:24}),t.gridStyles=kS(kS({},t.gridStyles),{},{width:this.getWidth(80),height:this.getHeight(30),x:this.getWidth(50),y:this.getHeight(26)}),t.baseTextStyles=kS(kS({},t.baseTextStyles),{},{fontSize:26}),t}}])&&LS(e.prototype,r),s}(Xg);function US(t){return(US="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function WS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function zS(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?WS(Object(r),!0).forEach((function(e){HS(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):WS(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function HS(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function XS(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function GS(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function YS(t,e){return(YS=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function VS(t,e){return!e||"object"!==US(e)&&"function"!=typeof e?qS(t):e}function qS(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function KS(t){return(KS=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}const ZS=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&YS(t,e)}(s,t);var e,r,n,i,o=(n=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=KS(n);if(i){var r=KS(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return VS(this,t)});function s(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(t=o.call(this)).timeline=new yS(qS(t)),t.registerResponsive("default",wS),t.registerResponsive("max-768",IS),t.registerResponsive("max-425",NS),t}return e=s,(r=[{key:"create",value:function(t){var e=this.createBackground(),r=new aw("title",{});this.bindPageLocale("title",r.title);var n=new uv(4,4,{},{}),i=n.createMovables();this.subscribeTo("after-sub-bytes-1",i.movables);var o=new mm("rotateTextOne");this.bindPageLocale("rotateTextOne",o);var s=new mm("rotateTextTwo");this.bindPageLocale("rotateTextTwo",s);var a,u=new mm("rotateTextThree");this.bindPageLocale("rotateTextThree",u),this.addPermanent({background:e,animatableBackground:r,grid:n,text1:o,text2:s,text3:u}),this.addChild.apply(this,function(t){if(Array.isArray(t))return XS(t)}(a=i.movables)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(a)||function(t,e){if(t){if("string"==typeof t)return XS(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?XS(t,e):void 0}}(a)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),this.addToGlobalComponents({movablesCollector:i}),this.sortableChildren=!0}},{key:"drawPage",value:function(t){var e=this.globalComponents,r=e.background,n=e.animatableBackground,i=t.backgroundStyles,o=t.movablesStyles;r.redraw(i);var s=t.animatableBackgroundStyles,a=t.animatableBackgroundTitleStyles,u=t.animatableBackgroundBarStyles;n.redraw(s,u,a);var l=this.globalComponents,c=l.grid,h=l.movablesCollector,f=t.gridStyles,p=t.gridFontStyles;c.redraw(f,{}),c.position.set(f.x,f.y),c.pivot.set(c.width/2,0),h.movables.forEach((function(t,e){var r=c.cells[e].getBounds(),n=r.x,i=r.y,s=r.width,a=r.height;t.redraw(zS({width:s,height:a},o),p),t.position.set(n,i)}));var d=t.baseTextStyles,y=t.text1Styles,g=t.text2Styles,m=t.text3Styles,b=this.globalComponents,v=b.text1,_=b.text2,w=b.text3;v.redraw(zS(zS({},d),y)),_.redraw(zS(zS({},d),g)),w.redraw(zS(zS({},d),m))}}])&&GS(e.prototype,r),s}(fg);function JS(t){return(JS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $S(t){return function(t){if(Array.isArray(t))return QS(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return QS(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?QS(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function QS(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function tP(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function eP(t,e){return(eP=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function rP(t,e){return!e||"object"!==JS(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function nP(t){return(nP=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}const iP=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&eP(t,e)}(s,t);var e,r,n,i,o=(n=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=nP(n);if(i){var r=nP(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return rP(this,t)});function s(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),o.call(this,t)}return e=s,(r=[{key:"createPreFadeIn",value:function(){var t=this.getGlobalComponents(),e=(t.grid,t.gridMovables),r=t.gridMovablesResults,n=t.equationContainer,i=t.galoisField,o=(t.landingCol,t.multiplicationSign),s=t.equalsSign,a=(t.resultCol,t.text1),u=t.text2,l=this.getPreFadeInTimeline();l.set([n,o,s,i,a,u],{pixi:{alpha:0}}),l.set(r.movables,{pixi:{alpha:0}});var c=e.movables.map((function(t){return t.y}));return l.set(e.movables,{pixi:{alpha:0,y:function(t){return c[t]-100}},duration:.5}),l}},{key:"createAnimationIn",value:function(){var t=this.getGlobalComponents().gridMovables,e=this.getAnimatableBackgroundTL(),r=t.movables.map((function(t){return t.y}));return e.to(t.movables,{pixi:{alpha:1,y:function(t){return r[t]}},duration:.5}),e}},{key:"createAnimationMain",value:function(){var t=this.getGlobalComponents(),e=t.grid,r=t.gridMovables,n=t.gridMovablesResults,i=t.equationContainer,o=t.galoisField,s=t.landingCol,a=t.multiplicationSign,u=t.equalsSign,l=t.resultCol,c=t.text1,h=t.text2,f=Yo.timeline();return f.add(this.moveGroup(n.getCol(0),l.cells,{duration:1e-4})),f.add(this.moveGroup(r.getCol(0),s.cells,{duration:1.5,delay:1})),f.to(i,{pixi:{alpha:1}}),f.to(o,{pixi:{alpha:1}}),f.to(a,{pixi:{alpha:1}}),f.to(c,{pixi:{alpha:1}}),f.to([u].concat($S(n.getCol(0))),{pixi:{alpha:1},delay:2}),f.add(this.moveGroup(n.getCol(0),e.getCol(0),{duration:1.5})),f.to([i].concat($S(r.getCol(0)),[c]),{pixi:{alpha:0},duration:.3},"<"),f.to(h,{pixi:{alpha:1},duration:.3}),f.to(n.getCol(1),{pixi:{alpha:1},duration:.1,delay:2}),f.to(n.getCol(2),{pixi:{alpha:1},duration:.1,delay:.5}),f.to(n.getCol(3),{pixi:{alpha:1},duration:.1,delay:.5}),f}},{key:"createFadeOut",value:function(){var t=this.getGlobalComponents(),e=t.text2,r=t.gridMovablesResults,n=t.gridMovables,i=Yo.timeline();i.set(n.movables,{pixi:{alpha:0},delay:1});var o=r.movables.map((function(t){return t.y}));return i.to(r.movables,{pixi:{alpha:0,y:function(t){return o[t]+100}},duration:.5}),i.to(e,{pixi:{alpha:0},duration:.3},"<"),i}}])&&tP(e.prototype,r),s}(Mg);function oP(t){return(oP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function sP(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function aP(t,e){return(aP=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function uP(t,e){return!e||"object"!==oP(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function lP(t){return(lP=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}const cP=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&aP(t,e)}(s,t);var e,r,n,i,o=(n=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=lP(n);if(i){var r=lP(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return uP(this,t)});function s(t,e){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),o.call(this,t,e)}return e=s,(r=[{key:"getDefines",value:function(){var t={};return t.animatableBackgroundStyles={width:this.getWidth(100),height:this.getHeight(100),fill:this.c("--page-background-eta")},t.animatableBackgroundTitleStyles={position:{x:this.getWidth(90),y:this.getHeight(4)},fill:this.c("--text-light"),fontSize:30},t.animatableBackgroundBarStyles={width:this.getWidth(100),height:this.getHeight(8),fill:this.c("--bar-background-alpha")},t.backgroundStyles={width:this.getWidth(100),height:this.getHeight(100),fill:this.c("--bar-background-zeta"),borderWidth:0},t.gridFontStyles={fontSize:24},t.galoisFieldFontStyles={fontSize:24},t.galoisFieldStyles={width:this.getWidth(26),height:this.getWidth(20)},t.gridStyles={width:this.getWidth(26),height:this.getWidth(20)},t.gridLandingPos={x:this.getWidth(8),y:this.getHeight(55)},t.equationPos={x:this.getWidth(40),y:this.getHeight(30)},t.stateGridStyle={fill:this.c("--grid-background-alpha")},t.resultGridStyle={fill:this.c("--grid-background-delta")},t.columnLandingPos={},t.resultLandingPos={},t.textStyles={fontSize:20,wordWrap:!0,fill:this.c("--text-color"),wordWrapWidth:400,position:{x:this.getWidth(40),y:this.getHeight(70)}},t}}])&&sP(e.prototype,r),s}(Xg);function hP(t){return(hP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function fP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function pP(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?fP(Object(r),!0).forEach((function(e){dP(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fP(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function dP(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yP(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function gP(t,e){return(gP=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function mP(t,e){return!e||"object"!==hP(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function bP(t){return(bP=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}const vP=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&gP(t,e)}(s,t);var e,r,n,i,o=(n=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=bP(n);if(i){var r=bP(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return mP(this,t)});function s(t,e){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),o.call(this,t,e)}return e=s,(r=[{key:"evoke",value:function(t){return t.width<=768}},{key:"getDefines",value:function(t){return t.equationPos=pP(pP({},t.equationPos),{},{x:this.getWidth(20),y:this.getHeight(26)}),t.gridLandingPos=pP(pP({},t.gridLandingPos),{},{x:this.getWidth(20),y:this.getHeight(50)}),t.textStyles=pP(pP({},t.textStyles),{},{fontSize:22,wordWrapWidth:300,position:{x:this.getWidth(20),y:this.getHeight(70)}}),t.galoisFieldStyles=pP(pP({},t.galoisFieldStyles),{},{width:160,height:140}),t.gridStyles=pP(pP({},t.gridStyles),{},{width:200,height:160}),t.gridFontStyles=pP(pP({},t.gridFontStyles),{},{fontSize:18}),t}}])&&yP(e.prototype,r),s}(Xg);function _P(t){return(_P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function wP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function xP(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?wP(Object(r),!0).forEach((function(e){OP(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wP(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function OP(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function SP(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function PP(t,e){return(PP=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function TP(t,e){return!e||"object"!==_P(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function EP(t){return(EP=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}const RP=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&PP(t,e)}(s,t);var e,r,n,i,o=(n=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=EP(n);if(i){var r=EP(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return TP(this,t)});function s(t,e){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),o.call(this,t,e)}return e=s,(r=[{key:"evoke",value:function(t){return t.width<=425}},{key:"getDefines",value:function(t){return t.animatableBackgroundTitleStyles=xP(xP({},t.animatableBackgroundTitleStyles),{},{fontSize:24}),t.equationPos=xP(xP({},t.equationPos),{},{x:this.getWidth(10),y:this.getHeight(26)}),t.gridLandingPos=xP(xP({},t.gridLandingPos),{},{x:this.getWidth(10),y:this.getHeight(50)}),t.textStyles=xP(xP({},t.textStyles),{},{fontSize:18,position:{x:this.getWidth(10),y:this.getHeight(75)}}),t.gridFontStyles=xP(xP({},t.gridFontStyles),{},{fontSize:18}),t}}])&&SP(e.prototype,r),s}(Xg);function AP(t){return(AP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function IP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function jP(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?IP(Object(r),!0).forEach((function(e){CP(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):IP(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function CP(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kP(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function MP(t,e){return(MP=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function LP(t,e){return!e||"object"!==AP(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function DP(t){return(DP=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}const BP=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&MP(t,e)}(s,t);var e,r,n,i,o=(n=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=DP(n);if(i){var r=DP(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return LP(this,t)});function s(t,e){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),o.call(this,t,e)}return e=s,(r=[{key:"evoke",value:function(t){return t.width<375}},{key:"getDefines",value:function(t){return t.textStyles=jP(jP({},t.textStyles),{},{fontSize:14,wordWrapWidth:280,position:{x:this.getWidth(10),y:this.getHeight(80)}}),t.galoisFieldStyles=jP(jP({},t.galoisFieldStyles),{},{width:120,height:100}),t.gridStyles=jP(jP({},t.gridStyles),{},{width:160,height:120}),t.gridFontStyles=jP(jP({},t.gridFontStyles),{},{fontSize:18}),t}}])&&kP(e.prototype,r),s}(Xg);function FP(t){return(FP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function NP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function UP(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?NP(Object(r),!0).forEach((function(e){WP(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):NP(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function WP(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zP(t){return function(t){if(Array.isArray(t))return HP(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return HP(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?HP(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function HP(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function XP(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function GP(t,e){return(GP=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function YP(t,e){return!e||"object"!==FP(e)&&"function"!=typeof e?VP(t):e}function VP(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qP(t){return(qP=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}const KP=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&GP(t,e)}(s,t);var e,r,n,i,o=(n=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=qP(n);if(i){var r=qP(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return YP(this,t)});function s(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(t=o.call(this)).timeline=new iP(VP(t)),t.registerResponsive("default",cP),t.registerResponsive("max-768",vP),t.registerResponsive("max-425",RP),t.registerResponsive("max-375",BP),t}return e=s,(r=[{key:"create",value:function(t){var e=this.createBackground(),r=new aw("title",{});this.bindPageLocale("title",r.title);var n=new uv(4,4,{},{}),i=n.createMovables(),o=n.createMovables();this.subscribeTo("after-shift-rows-1",i.movables),this.subscribeTo("after-mix-columns-1",o.movables);var s=new Qa,a=new uv(4,4,{},{});this.subscribeTo("galois-field",a.cells);var u=new uv(4,1,{},{}),l=new uv(4,1,{},{}),c=new Nh;c.beginFill(0),c.drawCircle(0,0,6),c.endFill();var h=new tf("=",{fontSize:30});h.anchor.set(.5,.5),s.addChild(a,c,u,h,l);var f=new mm("text"),p=new mm("text2");this.bindPageLocale("text",f),this.bindPageLocale("text2",p),this.addPermanent({background:e,animatableBackground:r,grid:n,equationContainer:s,text1:f,text2:p}),this.addChild.apply(this,zP(i.movables).concat(zP(o.movables))),this.addToGlobalComponents({gridMovables:i,gridMovablesResults:o,resultCol:l,landingCol:u,multiplicationSign:c,equalsSign:h,galoisField:a}),this.sortableChildren=!0}},{key:"drawPage",value:function(t){var e=this.globalComponents,r=e.background,n=e.animatableBackground,i=e.grid,o=e.gridMovables,s=e.gridMovablesResults,a=e.equationContainer,u=e.galoisField,l=e.landingCol,c=e.multiplicationSign,h=e.equalsSign,f=e.resultCol,p=t.backgroundStyles;t.gridTextStyles,r.redraw(p);var d=t.animatableBackgroundStyles,y=t.animatableBackgroundTitleStyles,g=t.animatableBackgroundBarStyles;n.redraw(d,g,y);var m=t.gridStyles,b=t.gridLandingPos,v=t.gridFontStyles;i.redraw(m,{}),i.position.set(b.x,b.y);var _=t.equationPos,w=t.galoisFieldStyles,x=t.galoisFieldFontStyles;u.redraw(w,x),l.redraw(UP(UP({},w),{},{width:w.width/4}),{}),f.redraw(UP(UP({},w),{},{width:w.width/4}),{}),a.position.set(_.x,_.y),c.position.set(u.width+c.width,a.height/2),l.position.set(c.x+c.width,0),h.position.set(l.x+l.width+h.width,a.height/2),f.position.set(h.x+h.width,0);var O=t.stateGridStyle;o.movables.forEach((function(t,e){var r=i.cells[e].getBounds(),n=r.x,o=r.y,s=r.width,a=r.height;t.redraw(UP({width:s,height:a},O),v),t.position.set(n,o)}));var S=t.resultGridStyle;s.movables.forEach((function(t,e){var r=i.cells[e].getBounds(),n=r.x,o=r.y,s=r.width,a=r.height;t.redraw(UP({width:s,height:a},S),v),t.position.set(n,o)}));var P=t.textStyles,T=this.globalComponents,E=T.text1,R=T.text2;E.redraw(P),R.redraw(P)}}])&&XP(e.prototype,r),s}(fg);function ZP(t){return(ZP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function JP(t){return function(t){if(Array.isArray(t))return $P(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return $P(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?$P(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $P(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function QP(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function tT(t,e){return(tT=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function eT(t,e){return!e||"object"!==ZP(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function rT(t){return(rT=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}const nT=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&tT(t,e)}(s,t);var e,r,n,i,o=(n=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=rT(n);if(i){var r=rT(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return eT(this,t)});function s(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),o.call(this,t)}return e=s,(r=[{key:"createPreFadeIn",value:function(){var t=this.getGlobalComponents(),e=(t.stateGrid,t.roundKeyGrid,t.columnLanding1,t.columnLanding2,t.columnResult,t.stateMovables),r=t.roundKeyMovables,n=t.resultMovables,i=t.equationContainer,o=(t.addSign,t.equalsSign,t.roundKeyLabel),s=t.roundKeyText,a=this.getPreFadeInTimeline();a.set([i,o,s],{pixi:{alpha:0}}),a.set(JP(n.movables),{pixi:{alpha:0}});var u=e.movables.map((function(t){return t.y}));a.set(e.movables,{pixi:{alpha:0,y:function(t){return u[t]-100}}});var l=r.movables.map((function(t){return t.x}));return a.set(r.movables,{pixi:{alpha:0,x:function(t){return l[t]+100}}}),a}},{key:"createAnimationIn",value:function(){var t=this.getGlobalComponents(),e=t.stateMovables,r=t.roundKeyMovables,n=t.roundKeyLabel,i=t.roundKeyText,o=this.getAnimatableBackgroundTL(),s=e.movables.map((function(t){return t.y}));o.to(e.movables,{pixi:{alpha:1,y:function(t){return s[t]}}});var a=r.movables.map((function(t){return t.x}));return o.to(r.movables,{pixi:{alpha:1,x:function(t){return a[t]}}}),o.to([n,i],{pixi:{alpha:1}}),o}},{key:"createAnimationMain",value:function(){var t=this.getGlobalComponents(),e=t.stateGrid,r=(t.roundKeyGrid,t.columnLanding1),n=t.columnLanding2,i=t.columnResult,o=t.stateMovables,s=t.roundKeyMovables,a=t.resultMovables,u=t.equationContainer,l=t.addSign,c=t.equalsSign,h=Yo.timeline();return h.set(JP(a.movables),{pixi:{alpha:0}}),h.set([u,n,n,i,l,c],{pixi:{alpha:0}}),h.add(this.moveGroup(a.getCol(0),i.cells,{duration:1e-4})),h.add(this.moveGroup(o.getCol(0),r.cells,{duration:1.5})),h.add(this.moveGroup(s.getCol(0),n.cells,{duration:1.5})),h.set(u,{pixi:{alpha:1}}),h.to(l,{pixi:{alpha:1},duration:.5}),h.to(c,{pixi:{alpha:1}}),h.to(JP(a.getCol(0)),{pixi:{alpha:1}}),h.add(this.moveGroup(a.getCol(0),e.getCol(0),{duration:1.5})),h.to([u].concat(JP(o.getCol(0)),JP(s.getCol(0))),{pixi:{alpha:0},duration:.5},"<"),h.to(s.getCol(1),{pixi:{alpha:0},duration:.1,delay:.5}),h.to(a.getCol(1),{pixi:{alpha:1},duration:.1},"<"),h.to(s.getCol(2),{pixi:{alpha:0},duration:.1,delay:.5}),h.to(a.getCol(2),{pixi:{alpha:1},duration:.1},"<"),h.to(s.getCol(3),{pixi:{alpha:0},duration:.1,delay:.5}),h.to(a.getCol(3),{pixi:{alpha:1},duration:.1},"<"),h}},{key:"createFadeOut",value:function(){var t=this.getGlobalComponents(),e=t.roundKeyLabel,r=t.roundKeyText,n=t.stateMovables,i=t.resultMovables,o=Yo.timeline();o.set(n.movables,{pixi:{alpha:0}}),o.to([e,r],{pixi:{alpha:0}});var s=i.movables.map((function(t){return t.y}));return o.to(i.movables,{pixi:{alpha:0,y:function(t){return s[t]+100}}}),o}}])&&QP(e.prototype,r),s}(Mg);function iT(t){return(iT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function oT(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function sT(t,e){return(sT=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function aT(t,e){return!e||"object"!==iT(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function uT(t){return(uT=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}const lT=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&sT(t,e)}(s,t);var e,r,n,i,o=(n=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=uT(n);if(i){var r=uT(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return aT(this,t)});function s(t,e){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),o.call(this,t,e)}return e=s,(r=[{key:"getDefines",value:function(){var t={};return t.animatableBackgroundStyles={width:this.getWidth(100),height:this.getHeight(100),fill:this.c("--page-background-theta")},t.animatableBackgroundTitleStyles={position:{x:this.getWidth(90),y:this.getHeight(4)},fill:this.c("--text-light"),fontSize:30},t.animatableBackgroundBarStyles={width:this.getWidth(100),height:this.getHeight(8),fill:this.c("--bar-background-alpha")},t.backgroundStyles={width:this.getWidth(100),height:this.getHeight(100),fill:this.c("--page-background-eta"),borderWidth:0},t.gridStyles={width:this.getWidth(20),height:this.getWidth(16)},t.gridFontStyles={fontSize:24},t.columnStyles={width:t.gridStyles.width/4,height:t.gridStyles.height},t.stateGridPos={x:this.getWidth(20),y:this.getHeight(70)},t.roundKeyGridPos={x:this.getWidth(80),y:this.getHeight(70)},t.equationPos={x:this.getWidth(50),y:this.getHeight(50)},t.resultGridStyles={fill:this.c("--grid-background-gamma")},t.stateGridStyles={fill:this.c("--grid-background-alpha")},t.roundKeyGridStyles={fill:this.c("--grid-background-eta")},t.roundKeyLabelStyles={fill:this.c("--text-light"),fontSize:24},t.roundKeyTextStyles={fill:this.c("--text-light"),fontSize:16,wordWrap:!0,wordWrapWidth:240},t}}])&&oT(e.prototype,r),s}(Xg);function cT(t){return(cT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function hT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function fT(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?hT(Object(r),!0).forEach((function(e){pT(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hT(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function pT(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dT(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function yT(t,e){return(yT=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function gT(t,e){return!e||"object"!==cT(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function mT(t){return(mT=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}const bT=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&yT(t,e)}(s,t);var e,r,n,i,o=(n=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=mT(n);if(i){var r=mT(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return gT(this,t)});function s(t,e){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),o.call(this,t,e)}return e=s,(r=[{key:"evoke",value:function(t){return t.width<=768}},{key:"getDefines",value:function(t){return t.roundKeyLabelStyles=fT(fT({},t.roundKeyLabelStyles),{},{fontSize:24}),t.roundKeyTextStyles=fT(fT({},t.roundKeyTextStyles),{},{wordWrapWidth:180}),t.gridStyles=fT(fT({},t.gridStyles),{},{width:180,height:160}),t.stateGridPos=fT(fT({},t.stateGridPos),{},{x:this.getWidth(25),y:this.getHeight(70)}),t.roundKeyGridPos=fT(fT({},t.stateGridPos),{},{x:this.getWidth(75),y:this.getHeight(70)}),t.equationPos=fT(fT({},t.equationPos),{},{x:this.getWidth(50),y:this.getHeight(40)}),t.columnStyles={width:t.gridStyles.width/4,height:t.gridStyles.height},t}}])&&dT(e.prototype,r),s}(Xg);function vT(t){return(vT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _T(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function wT(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?_T(Object(r),!0).forEach((function(e){xT(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_T(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function xT(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function OT(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function ST(t,e){return(ST=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function PT(t,e){return!e||"object"!==vT(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function TT(t){return(TT=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}const ET=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ST(t,e)}(s,t);var e,r,n,i,o=(n=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=TT(n);if(i){var r=TT(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return PT(this,t)});function s(t,e){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),o.call(this,t,e)}return e=s,(r=[{key:"evoke",value:function(t){return t.width<=425}},{key:"getDefines",value:function(t){return t.animatableBackgroundTitleStyles=wT(wT({},t.animatableBackgroundTitleStyles),{},{fontSize:24}),t.roundKeyLabelStyles=wT(wT({},t.roundKeyLabelStyles),{},{fontSize:18}),t.roundKeyTextStyles=wT(wT({},t.roundKeyTextStyles),{},{wordWrapWidth:140,fontSize:12}),t.gridStyles=wT(wT({},t.gridStyles),{},{width:140,height:120}),t.columnStyles={width:t.gridStyles.width/4,height:t.gridStyles.height},t.gridFontStyles=wT(wT({},t.gridFontStyles),{},{fontSize:16}),t}}])&&OT(e.prototype,r),s}(Xg);function RT(t){return(RT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function AT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function IT(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?AT(Object(r),!0).forEach((function(e){jT(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):AT(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function jT(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function CT(t){return function(t){if(Array.isArray(t))return kT(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return kT(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?kT(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kT(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function MT(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function LT(t,e){return(LT=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function DT(t,e){return!e||"object"!==RT(e)&&"function"!=typeof e?BT(t):e}function BT(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function FT(t){return(FT=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}const NT=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&LT(t,e)}(s,t);var e,r,n,i,o=(n=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=FT(n);if(i){var r=FT(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return DT(this,t)});function s(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(t=o.call(this)).timeline=new nT(BT(t)),t.registerResponsive("default",lT),t.registerResponsive("max-768",bT),t.registerResponsive("max-425",ET),t}return e=s,(r=[{key:"create",value:function(t){var e=this.createBackground(),r=new aw("title",{});this.bindPageLocale("title",r.title);var n=new uv(4,4,{},{}),i=n.createMovables(),o=n.createMovables(),s=new uv(4,4,{},{}),a=s.createMovables();this.subscribeTo("after-mix-columns-1",i.movables),this.subscribeTo("after-add-round-key-1",o.movables),this.subscribeTo("key-1",a.movables);var u=new Qa,l=new uv(4,1,{},{}),c=new mv("+",{fontSize:30,fill:3355443,fontWeight:"700"}),h=new uv(4,1,{},{}),f=new tf("=",{fontSize:30});f.anchor.set(.5,.5);var p=new uv(4,1,{},{});u.addChild(l,c,h,f,p);var d=new mm("Round key",{}),y=new mm("text",{});this.bindPageLocale("roundKeyLabel",d),this.bindPageLocale("roundKeyText",y),this.addPermanent({background:e,animatableBackground:r,stateGrid:n,roundKeyGrid:s,equationContainer:u,roundKeyLabel:d,roundKeyText:y}),this.addChild.apply(this,CT(i.movables).concat(CT(o.movables),CT(a.movables))),this.addToGlobalComponents({columnLanding1:l,addSign:c,columnLanding2:h,equalsSign:f,columnResult:p,stateMovables:i,roundKeyMovables:a,resultMovables:o})}},{key:"drawPage",value:function(t){var e=this.globalComponents,r=e.background,n=e.animatableBackground,i=e.stateGrid,o=e.roundKeyGrid,s=t.backgroundStyles;r.redraw(s);var a=t.animatableBackgroundStyles,u=t.animatableBackgroundTitleStyles,l=t.animatableBackgroundBarStyles;n.redraw(a,l,u);var c=t.gridStyles,h=t.roundKeyGridPos,f=t.stateGridPos;i.redraw(c,{}),i.position.set(f.x,f.y),i.pivot.set(i.width/2,i.height/2),o.redraw(c,{}),o.position.set(h.x,h.y),o.pivot.set(o.width/2,o.height/2);var p=this.globalComponents,d=p.columnLanding1,y=p.addSign,g=p.columnLanding2,m=p.equalsSign,b=p.columnResult,v=p.equationContainer,_=t.columnStyles,w=t.equationPos;d.redraw(_,{}),g.redraw(_,{}),b.redraw(_,{}),y.redraw({borderColor:3355443,borderWidth:2.81,radius:16},{}),y.position.set(d.width+y.width,d.height/2),g.position.set(y.x+y.width,0),m.position.set(g.x+g.width+m.width,d.height/2),b.position.set(m.x+m.width,0),v.position.set(w.x,w.y),v.pivot.set(v.width/2,v.height/2);var x=this.globalComponents.stateMovables,O=t.stateGridStyles,S=t.gridFontStyles;x.movables.forEach((function(t,e){var r=i.cells[e].getBounds(),n=r.x,o=r.y,s=r.width,a=r.height;t.redraw(IT({width:s,height:a},O),S),t.position.set(n,o)}));var P=this.globalComponents.resultMovables,T=t.resultGridStyles;P.movables.forEach((function(t,e){var r=i.cells[e].getBounds(),n=r.x,o=r.y,s=r.width,a=r.height;t.redraw(IT({width:s,height:a},T),S),t.position.set(n,o)}));var E=this.globalComponents.roundKeyMovables,R=t.roundKeyGridStyles;E.movables.forEach((function(t,e){var r=o.cells[e].getBounds(),n=r.x,i=r.y,s=r.width,a=r.height;t.redraw(IT({width:s,height:a},R),S),t.position.set(n,i)}));var A=this.globalComponents,I=A.roundKeyLabel,j=A.roundKeyText,C=t.roundKeyLabelStyles,k=t.roundKeyTextStyles;I.redraw(C),j.redraw(k),console.log(h.x,c.width),I.position.set(h.x-c.width/2,h.y+c.height/2+5),j.position.set(h.x-c.width/2,h.y+c.height/2+C.fontSize+8)}}])&&MT(e.prototype,r),s}(fg);function UT(t){return(UT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function WT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function zT(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?WT(Object(r),!0).forEach((function(e){HT(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):WT(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function HT(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function XT(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function GT(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function YT(t,e){return(YT=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function VT(t,e){return!e||"object"!==UT(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function qT(t){return(qT=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}const KT=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&YT(t,e)}(s,t);var e,r,n,i,o=(n=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=qT(n);if(i){var r=qT(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return VT(this,t)});function s(t,e){var r,n,i;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(n=o.call(this)).page=e,n.title=new mm(t,{}),n.addSymbol=new mv("+",{fill:3355443,fontSize:30,align:"center"}),n.equalsSymbol=new tf("=",{}),n.gridStyles={},n.grids=[];for(var a=0;a<5;a++){var u=new uv(4,4,{},{});n.grids.push(u)}return(r=n).addChild.apply(r,[n.title].concat(function(t){if(Array.isArray(t))return XT(t)}(i=n.grids)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(i)||function(t,e){if(t){if("string"==typeof t)return XT(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?XT(t,e):void 0}}(i)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[n.addSymbol,n.equalsSymbol])),n}return e=s,(r=[{key:"addGridStyles",value:function(t,e){this.gridStyles[t]=e}},{key:"getGridStyles",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=zT(zT({},e.default),e[t]);return r}},{key:"redraw",value:function(t,e,r,n){var i=this;t=zT({width:1e3,gap:10,margin:10,titleSpace:140},t),e=zT({},e),n=zT({},n);var o=this.grids,s=this.title,a=this.addSymbol,u=this.equalsSymbol;this.title.redraw(e);var l=2*a.width,c=2*u.width,h=(t.width-l-c-t.titleSpace-3*t.gap)/5,f=t.height-t.margin;this.gridWidth=h,o.forEach((function(t,e){var o=i.getGridStyles(e,r);t.redraw(zT({width:h,height:f},o),n)})),a.redraw({radius:12,borderWidth:1,borderColor:3355443},1),a.scale.set(.5),u.anchor.set(.4),u.scale.set(.4),s.redraw(zT({},this.titleStyles)),s.anchor.set(.5,.5),s.position.set(t.titleSpace/2,f/2),o[0].position.set(t.titleSpace,0);for(var p=t.titleSpace,d=1;d<4;d++)p=p+h+t.gap,o[d].position.set(p,0);a.position.set(o[3].x+h+a.width,f/2),o[4].position.set(a.x+a.width,0),u.position.set(o[4].x+h+u.width,f/2)}}])&&GT(e.prototype,r),s}(bg);function ZT(t){return(ZT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function JT(t){return function(t){if(Array.isArray(t))return $T(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return $T(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?$T(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $T(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function QT(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function tE(t,e){return(tE=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function eE(t,e){return!e||"object"!==ZT(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function rE(t){return(rE=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}const nE=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&tE(t,e)}(s,t);var e,r,n,i,o=(n=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=rE(n);if(i){var r=rE(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return eE(this,t)});function s(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),o.call(this,t)}return e=s,(r=[{key:"createPreFadeIn",value:function(){var t=this.getGlobalComponents(),e=t.rows,r=t.titles,n=Yo.timeline();return n.to({val:0},{val:1,duration:1e-4}),n.set([].concat(JT(e),JT(r)),{pixi:{alpha:0}}),n}},{key:"createAnimationMain",value:function(){var t=this.getGlobalComponents(),e=t.rows,r=t.titles,n=t.introText,i=Yo.timeline();return i.to(n,{pixi:{alpha:0},delay:2}),i.to(r,{pixi:{alpha:1}}),i.to(e[0],{pixi:{alpha:1}}),i.to(e[1],{pixi:{alpha:1}}),i.to(e[2],{pixi:{alpha:1}}),i.to(e[3],{pixi:{alpha:1}}),i.to(e[4],{pixi:{alpha:1}}),i.to(e[5],{pixi:{alpha:1}}),i}}])&&QT(e.prototype,r),s}(Mg);function iE(t){return(iE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function oE(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function sE(t,e){return(sE=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function aE(t,e){return!e||"object"!==iE(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function uE(t){return(uE=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}const lE=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&sE(t,e)}(s,t);var e,r,n,i,o=(n=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=uE(n);if(i){var r=uE(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return aE(this,t)});function s(t,e){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),o.call(this,t,e)}return e=s,(r=[{key:"getDefines",value:function(){var t={};return t.introTextStyles={fontSize:30,wordWrap:!0,wordWrapWidth:500,position:{x:this.getWidth(50),y:this.getHeight(50)},anchor:{x:.5,y:.5}},t.backgroundStyles={width:this.getWidth(100),height:this.getHeight(100),fill:this.c("--page-background-gamma"),borderWidth:0},t.rowStyles={width:this.getWidth(96),height:this.getHeight(14),margin:this.getHeight(1),x:this.getWidth(2),y:this.getHeight(10),gap:20},t.rowTitleStyles={x:20,fontSize:20,rotation:0},t.defaultGridStyles={fill:this.c("--grid-background-alpha")},t.emptyGridStyles={fill:this.c("--grid-background-eta")},t.lastColGridStyles={fill:this.c("--grid-background-eta")},t.highlightGridStyles={fill:this.c("--grid-background-beta")},t.gridFontStyles={fontSize:14},t.titleStyles={y:this.getHeight(5),anchor:{x:.5,y:.5},fontSize:16,fill:this.c("--text-color")},t}}])&&oE(e.prototype,r),s}(Xg);function cE(t){return(cE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function hE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function fE(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?hE(Object(r),!0).forEach((function(e){pE(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hE(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function pE(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dE(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function yE(t,e){return(yE=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function gE(t,e){return!e||"object"!==cE(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function mE(t){return(mE=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}const bE=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&yE(t,e)}(s,t);var e,r,n,i,o=(n=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=mE(n);if(i){var r=mE(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return gE(this,t)});function s(t,e){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),o.call(this,t,e)}return e=s,(r=[{key:"evoke",value:function(t){return t.width<=768}},{key:"getDefines",value:function(t){return t.rowTitleStyles=fE(fE({},t.rowTitleStyles),{},{fontSize:14,rotation:uy(-90)}),t.rowStyles=fE(fE({},t.rowStyles),{},{height:this.getHeight(12),width:this.getWidth(100),gap:4,titleSpace:18,x:0,fontSize:14}),t.titleStyles=fE(fE({},t.titleStyles),{},{fontSize:14,wordWrap:!0,wordWrapWidth:80}),t.gridFontStyles={fontSize:14},t}}])&&dE(e.prototype,r),s}(Xg);function vE(t){return(vE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _E(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function wE(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?_E(Object(r),!0).forEach((function(e){xE(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_E(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function xE(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function OE(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function SE(t,e){return(SE=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function PE(t,e){return!e||"object"!==vE(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function TE(t){return(TE=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}const EE=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&SE(t,e)}(s,t);var e,r,n,i,o=(n=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=TE(n);if(i){var r=TE(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return PE(this,t)});function s(t,e){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),o.call(this,t,e)}return e=s,(r=[{key:"evoke",value:function(t){return t.width<=425}},{key:"getDefines",value:function(t){return t.rowTitleStyles=wE(wE({},t.rowTitleStyles),{},{width:this.getWidth(100),fontSize:14}),t.rowStyles=wE(wE({},t.rowStyles),{},{height:this.getHeight(12),width:this.getWidth(100),gap:4,titleSpace:18,x:0,fontSize:14}),t.titleStyles=wE(wE({},t.titleStyles),{},{fontSize:10,wordWrap:!0,wordWrapWidth:60}),t.gridFontStyles={fontSize:9},t}}])&&OE(e.prototype,r),s}(Xg);function RE(t){return(RE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function AE(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function IE(t,e){return(IE=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function jE(t,e){return!e||"object"!==RE(e)&&"function"!=typeof e?CE(t):e}function CE(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kE(t){return(kE=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}const ME=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&IE(t,e)}(s,t);var e,r,n,i,o=(n=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=kE(n);if(i){var r=kE(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return jE(this,t)});function s(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(t=o.call(this)).timeline=new nE(CE(t)),t.registerResponsive("default",lE),t.registerResponsive("max-768",bE),t.registerResponsive("max-425",EE),t}return e=s,(r=[{key:"createTitle",value:function(t,e){var r=new tf(t,e);return r.anchor.set(.5,.5),r}},{key:"create",value:function(t){var e=this,r=this.createBackground(),n=new mm("text",{});this.bindPageLocale("introText",n);var i=new mm("roundLabel");this.bindPageLocale("roundLabel",i);var o=new mm("subBytesLabel");this.bindPageLocale("subBytesLabel",o);var s=new mm("ShiftRowsLabel");this.bindPageLocale("ShiftRowsLabel",s);var a=new mm("MixColumnsLabel");this.bindPageLocale("MixColumnsLabel",a);var u=new mm("RoundKeyLabel");this.bindPageLocale("RoundKeyLabel",u);var l=[i,o,s,a,u],c=new KT("inputLabel");this.bindPageLocale("inputLabel",c.title);var h=new KT("roundOneLabel");this.bindPageLocale("roundOneLabel",h.title);var f=new KT("roundTwoLabel");this.bindPageLocale("roundTwoLabel",f.title);var p=new KT("roundThreeLabel");this.bindPageLocale("roundThreeLabel",p.title);var d=new KT("roundFourLabel");this.bindPageLocale("roundFourLabel",d.title);var y=new KT("roundFiveLabel");this.bindPageLocale("roundFiveLabel",y.title);var g=[c,h,f,p,d,y];this.subscribeTo("initial-state",c.grids[0].cells),this.subscribeTo("key-0",c.grids[4].cells);for(var m=function(t){g[t].grids.forEach((function(r,n){switch(n){case 0:e.subscribeTo("round-".concat(t,"-initial"),r.cells);break;case 1:e.subscribeTo("after-sub-bytes-".concat(t),r.cells);break;case 2:e.subscribeTo("after-shift-rows-".concat(t),r.cells);break;case 3:e.subscribeTo("after-mix-columns-".concat(t),r.cells);break;case 4:e.subscribeTo("key-".concat(t),r.cells)}}))},b=1;b<g.length;b++)m(b);this.addPermanent({background:r,introText:n,row1:h,row2:f,row3:p,row4:d,row5:y,title1:i,title2:o,title3:s,title4:a,title5:u,inputRow:c}),this.addToGlobalComponents({rows:g,titles:l})}},{key:"drawPage",value:function(t){var e=this.globalComponents,r=e.background,n=e.row1,i=e.rows,o=e.inputRow,s=e.introText,a=t.backgroundStyles,u=t.introTextStyles;r.redraw(a),s.redraw(u);var l=t.rowStyles,c=t.rowTitleStyles,h=t.defaultGridStyles,f=t.emptyGridStyles,p=t.highlightGridStyles,d=t.lastColGridStyles,y=t.gridFontStyles;o.redraw(l,c,{default:f,0:h,4:p},y),o.position.set(0,l.y+l.margin);for(var g=1;g<i.length;g++){var m=i[g];m.redraw(l,c,{default:h,4:d},y);var b=0!==g?i[g-1].y+l.height:l.y;m.position.set(0,b+l.margin)}var v=t.titleStyles;this.globalComponents.titles.forEach((function(t,e){t.redraw(v),t.position.set(n.grids[e].x+i[0].gridWidth/2,v.y)}))}}])&&AE(e.prototype,r),s}(fg);function LE(t){return(LE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function DE(t){return function(t){if(Array.isArray(t))return BE(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return BE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?BE(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function BE(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function FE(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function NE(t,e){return(NE=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function UE(t,e){return!e||"object"!==LE(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function WE(t){return(WE=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}const zE=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&NE(t,e)}(s,t);var e,r,n,i,o=(n=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=WE(n);if(i){var r=WE(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return UE(this,t)});function s(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),o.call(this,t)}return e=s,(r=[{key:"createPreFadeIn",value:function(){var t=this.getGlobalComponents(),e=t.rows,r=t.titles,n=t.outputText,i=t.cipherText,o=t.outputGrid,s=this.getPreFadeInTimeline();return s.set([].concat(DE(e),DE(r),[n,i,o]),{pixi:{alpha:0}}),s}},{key:"createAnimationMain",value:function(){var t=this.getGlobalComponents(),e=t.rows,r=t.titles,n=t.outputText,i=t.cipherText,o=t.outputGrid,s=Yo.timeline();return s.to(r,{pixi:{alpha:1}}),s.to(e[0],{pixi:{alpha:1}}),s.to(e[1],{pixi:{alpha:1}}),s.to(e[2],{pixi:{alpha:1}}),s.to(e[3],{pixi:{alpha:1}}),s.to(e[4],{pixi:{alpha:1}}),s.to(e[5],{pixi:{alpha:1}}),s.to([n,i,o],{pixi:{alpha:1}}),s}}])&&FE(e.prototype,r),s}(Mg);function HE(t){return(HE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function XE(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function GE(t,e){return(GE=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function YE(t,e){return!e||"object"!==HE(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function VE(t){return(VE=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}const qE=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&GE(t,e)}(s,t);var e,r,n,i,o=(n=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=VE(n);if(i){var r=VE(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return YE(this,t)});function s(t,e){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),o.call(this,t,e)}return e=s,(r=[{key:"getDefines",value:function(){var t={};return t.introTextStyles={fontSize:30,wordWrap:!0,wordWrapWidth:500,position:{x:this.getWidth(50),y:this.getHeight(50)},anchor:{x:.5,y:.5}},t.backgroundStyles={width:this.getWidth(100),height:this.getHeight(100),fill:this.c("--page-background-gamma"),borderWidth:0},t.rowStyles={width:this.getWidth(96),height:this.getHeight(14),margin:this.getHeight(.5),x:this.getWidth(2),y:this.getHeight(10),gap:20,titleSpace:140},t.rowTitleStyles={x:20,fontSize:20,rotation:0},t.defaultGridStyles={fill:this.c("--grid-background-alpha")},t.emptyGridStyles={fill:this.c("--grid-background-eta")},t.lastColGridStyles={fill:this.c("--grid-background-eta")},t.highlightGridStyles={fill:this.c("--grid-background-beta")},t.gridFontStyles={fontSize:14},t.titleStyles={y:this.getHeight(5),anchor:{x:.5,y:.5},fontSize:16,fill:this.c("--text-color")},t}}])&&XE(e.prototype,r),s}(Xg);function KE(t){return(KE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ZE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function JE(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ZE(Object(r),!0).forEach((function(e){$E(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ZE(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function $E(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function QE(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function tR(t,e){return(tR=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function eR(t,e){return!e||"object"!==KE(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function rR(t){return(rR=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}const nR=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&tR(t,e)}(s,t);var e,r,n,i,o=(n=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=rR(n);if(i){var r=rR(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return eR(this,t)});function s(t,e){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),o.call(this,t,e)}return e=s,(r=[{key:"evoke",value:function(t){return t.width<=768}},{key:"getDefines",value:function(t){return t.rowTitleStyles=JE(JE({},t.rowTitleStyles),{},{fontSize:14,rotation:uy(-90)}),t.rowStyles=JE(JE({},t.rowStyles),{},{height:this.getHeight(12),width:this.getWidth(100),gap:4,titleSpace:18,x:0,fontSize:14}),t.titleStyles=JE(JE({},t.titleStyles),{},{fontSize:14,wordWrap:!0,wordWrapWidth:80}),t.gridFontStyles={fontSize:14},t}}])&&QE(e.prototype,r),s}(Xg);function iR(t){return(iR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function oR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function sR(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?oR(Object(r),!0).forEach((function(e){aR(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):oR(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function aR(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uR(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function lR(t,e){return(lR=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function cR(t,e){return!e||"object"!==iR(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function hR(t){return(hR=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}const fR=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&lR(t,e)}(s,t);var e,r,n,i,o=(n=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=hR(n);if(i){var r=hR(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return cR(this,t)});function s(t,e){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),o.call(this,t,e)}return e=s,(r=[{key:"evoke",value:function(t){return t.width<=425}},{key:"getDefines",value:function(t){return t.rowTitleStyles=sR(sR({},t.rowTitleStyles),{},{width:this.getWidth(100),fontSize:14}),t.rowStyles=sR(sR({},t.rowStyles),{},{height:this.getHeight(12),width:this.getWidth(100),gap:4,titleSpace:18,x:0,fontSize:14}),t.titleStyles=sR(sR({},t.titleStyles),{},{fontSize:10,wordWrap:!0,wordWrapWidth:60}),t.gridFontStyles={fontSize:9},t}}])&&uR(e.prototype,r),s}(Xg);function pR(t){return(pR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function dR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function yR(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?dR(Object(r),!0).forEach((function(e){gR(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dR(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function gR(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mR(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function bR(t,e){return(bR=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function vR(t,e){return!e||"object"!==pR(e)&&"function"!=typeof e?_R(t):e}function _R(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wR(t){return(wR=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}const xR=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&bR(t,e)}(s,t);var e,r,n,i,o=(n=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=wR(n);if(i){var r=wR(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return vR(this,t)});function s(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(t=o.call(this)).timeline=new zE(_R(t)),t.registerResponsive("default",qE),t.registerResponsive("max-768",nR),t.registerResponsive("max-425",fR),t}return e=s,(r=[{key:"createTitle",value:function(t,e){var r=new tf(t,e);return r.anchor.set(.5,.5),r}},{key:"create",value:function(t){var e=this,r=this.createBackground(),n=new mm("roundLabel");this.bindPageLocale("roundLabel",n);var i=new mm("subBytesLabel");this.bindPageLocale("subBytesLabel",i);var o=new mm("ShiftRowsLabel");this.bindPageLocale("ShiftRowsLabel",o);var s=new mm("MixColumnsLabel");this.bindPageLocale("MixColumnsLabel",s);var a=new mm("RoundKeyLabel");this.bindPageLocale("RoundKeyLabel",a);var u=[n,i,o,s,a],l=new KT("roundSixLabel");this.bindPageLocale("roundSixLabel",l.title);var c=new KT("roundSevenLabel");this.bindPageLocale("roundSevenLabel",c.title);var h=new KT("roundEightLabel");this.bindPageLocale("roundEightLabel",h.title);var f=new KT("roundNineLabel");this.bindPageLocale("roundNineLabel",f.title);var p=new KT("roundTenLabel");this.bindPageLocale("roundTenLabel",p.title);for(var d=[l,c,h,f,p],y=function(t){d[t-6].grids.forEach((function(r,n){switch(n){case 0:e.subscribeTo("round-".concat(t,"-initial"),r.cells);break;case 1:e.subscribeTo("after-sub-bytes-".concat(t),r.cells);break;case 2:e.subscribeTo("after-shift-rows-".concat(t),r.cells);break;case 3:e.subscribeTo("after-mix-columns-".concat(t),r.cells);break;case 4:e.subscribeTo("key-".concat(t),r.cells)}}))},g=6;g<=9;g++)y(g);this.subscribeTo("round-10-initial",p.grids[0].cells),this.subscribeTo("after-sub-bytes-10",p.grids[1].cells),this.subscribeTo("after-shift-rows-10",p.grids[2].cells),this.subscribeTo("key-10",p.grids[4].cells);var m=new uv(4,4);this.subscribeTo("after-add-round-key-10",m.cells);var b=new mm("ciphertext");this.bindPageLocale("cipherTextLabel",b);var v=new mm("output");this.bindPageLocale("outputLabel",v),this.addPermanent({background:r,row6:l,row7:c,row8:h,row9:f,row10:p,title1:n,title2:i,title3:o,title4:s,title5:a,outputGrid:m,cipherText:b,outputText:v}),this.addToGlobalComponents({rows:d,titles:u})}},{key:"drawPage",value:function(t){var e=this.globalComponents.background,r=t.backgroundStyles;e.redraw(r);for(var n=this.globalComponents,i=n.rows,o=n.row6,s=t.rowStyles,a=t.rowTitleStyles,u=t.defaultGridStyles,l=t.lastColGridStyles,c=t.gridFontStyles,h=0;h<i.length;h++){var f=i[h];f.redraw(s,a,{default:u,4:l},c);var p=0!==h?i[h-1].y+s.height:s.y;f.position.set(0,p+s.margin)}var d=t.titleStyles;this.globalComponents.titles.forEach((function(t,e){t.redraw(d),t.position.set(o.grids[e].x+i[0].gridWidth/2,d.y)}),c);var y=this.globalComponents,g=y.outputGrid,m=y.cipherText,b=y.outputText,v=o.gridWidth,_=s.height;g.redraw(yR({width:v,height:_},u),c),g.position.set(s.titleSpace,i[i.length-1].y+s.height),m.redraw(yR({},d)),b.redraw(yR(yR({},d),{},{rotation:-1.5708})),m.position.set(s.titleSpace+v/2,g.y+_+10),t.animationDimensions.width<=768?b.position.set(s.titleSpace+v+10,g.y+_/2):b.position.set(s.titleSpace-20,g.y+_/2)}}])&&mR(e.prototype,r),s}(fg);function OR(t){return(OR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function SR(t,e){return(SR=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function PR(t,e){return!e||"object"!==OR(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function TR(t){return(TR=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}const ER=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&SR(t,e)}(i,t);var e,r,n=(e=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,n=TR(e);if(r){var i=TR(this).constructor;t=Reflect.construct(n,arguments,i)}else t=n.apply(this,arguments);return PR(this,t)});function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=n.call(this,t)).FADE_OUT_DELAY=4,e}return i}(Mg);function RR(t){return(RR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function AR(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function IR(t,e){return(IR=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function jR(t,e){return!e||"object"!==RR(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function CR(t){return(CR=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}const kR=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&IR(t,e)}(s,t);var e,r,n,i,o=(n=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=CR(n);if(i){var r=CR(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return jR(this,t)});function s(t,e){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),o.call(this,t,e)}return e=s,(r=[{key:"getDefines",value:function(){var t={};return t.backgroundStyles={width:this.getWidth(100),height:this.getHeight(100),fill:this.c("--page-background-alpha"),borderWidth:0},t.titleStyles={fill:this.c("--text-color-beta"),x:this.getWidth(50),yDistance:this.getHeight(6),fontSize:36},t.circledCharStyles={x:this.getWidth(50),y:this.getHeight(30)},t.textStyles={x:this.getWidth(50),yDistance:this.getHeight(4),fontSize:18,wordWrap:!0,wordWrapWidth:400,fill:this.c("--text-light")},t.circleStyles={},t.circleFontStyles={},t}}])&&AR(e.prototype,r),s}(Xg);function MR(t){return(MR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function LR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function DR(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?LR(Object(r),!0).forEach((function(e){BR(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):LR(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function BR(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function FR(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function NR(t,e){return(NR=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function UR(t,e){return!e||"object"!==MR(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function WR(t){return(WR=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}const zR=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&NR(t,e)}(s,t);var e,r,n,i,o=(n=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=WR(n);if(i){var r=WR(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return UR(this,t)});function s(t,e){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),o.call(this,t,e)}return e=s,(r=[{key:"evoke",value:function(t){return t.width<=768}},{key:"getDefines",value:function(t){return t.textStyles=DR(DR({},t.textStyles),{},{fontSize:20,wordWrapWidth:360}),t}}])&&FR(e.prototype,r),s}(Xg);function HR(t){return(HR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function XR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function GR(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?XR(Object(r),!0).forEach((function(e){YR(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):XR(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function YR(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function VR(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function qR(t,e){return(qR=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function KR(t,e){return!e||"object"!==HR(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ZR(t){return(ZR=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}const JR=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&qR(t,e)}(s,t);var e,r,n,i,o=(n=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ZR(n);if(i){var r=ZR(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return KR(this,t)});function s(t,e){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),o.call(this,t,e)}return e=s,(r=[{key:"evoke",value:function(t){return t.width<=425}},{key:"getDefines",value:function(t){return t.titleStyles=GR(GR({},t.titleStyles),{},{yDistance:this.getHeight(4),fontSize:26}),t.textStyles=GR(GR({},t.textStyles),{},{fontSize:16,wordWrapWidth:280}),t}}])&&VR(e.prototype,r),s}(Xg);function $R(t){return($R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function QR(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function tA(t,e){return(tA=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function eA(t,e){return!e||"object"!==$R(e)&&"function"!=typeof e?rA(t):e}function rA(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nA(t){return(nA=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}const iA=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&tA(t,e)}(s,t);var e,r,n,i,o=(n=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=nA(n);if(i){var r=nA(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return eA(this,t)});function s(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(t=o.call(this)).timeline=new ER(rA(t)),t.registerResponsive("default",kR),t.registerResponsive("max-768",zR),t.registerResponsive("max-425",JR),t}return e=s,(r=[{key:"create",value:function(t){var e=this.createBackground(),r=new d_("B",{fontSize:30,fill:16777215},{radius:30,borderColor:16777215}),n=new mm("title",{align:"center"});this.bindPageLocale("title",n),n.anchor.set(.5,.5);var i=new mm("text");this.bindPageLocale("text",i),i.anchor.set(.5,0),this.addPermanent({background:e,circledChar:r,title:n,text:i})}},{key:"drawPage",value:function(t){var e=this.globalComponents,r=e.background,n=e.title,i=e.circledChar,o=e.text,s=t.backgroundStyles,a=t.circledCharStyles,u=t.titleStyles,l=t.textStyles;r.redraw(s),i.redraw(),i.position.set(a.x,a.y),n.redraw(u),n.position.set(u.x,i.y+i.height+u.yDistance),o.redraw(l),o.position.set(l.x,n.position.y+n.height)}}])&&QR(e.prototype,r),s}(fg);function oA(t){return(oA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function sA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function aA(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?sA(Object(r),!0).forEach((function(e){uA(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sA(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function uA(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lA(t){return function(t){if(Array.isArray(t))return cA(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return cA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?cA(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cA(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function hA(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function fA(t,e){return(fA=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function pA(t,e){return!e||"object"!==oA(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function dA(t){return(dA=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}const yA=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&fA(t,e)}(s,t);var e,r,n,i,o=(n=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=dA(n);if(i){var r=dA(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return pA(this,t)});function s(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),o.call(this,t)}return e=s,(r=[{key:"moveXL",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4,e=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,i=this.getGlobalComponents(),o=i.equalsSymbol,s=i.primaryGrids,a=i.secondaryGrids,u=i.addSymbol,l=t-3,c=t,h=t+3,f=t+1,p=e.getCol(l%4),d=r.getCol(c%4),y=r.getCol(f%4),g=a[Math.floor(l/4)].getCol(l%4),m=a[Math.floor(c/4)].getCol(c%4),b=a[Math.floor(h/4)].getCol(h%4),v=s[Math.floor(f/4)].getCol(f%4),_=Yo.timeline(),w=a[Math.floor((t-1)/4)].get(2,(t-1)%4),x=w.getBounds(),O=a[Math.floor((t+2)/4)].get(2,(t+2)%4),S=O.getBounds();return _.set(o,{pixi:{x:S.x,y:S.y}}),_.set(u,{pixi:{x:x.x,y:x.y}}),_.set([].concat(lA(y),[o,u]),{pixi:{alpha:0}}),_.add(this.moveGroup(y,b,{duration:.001})),_.set(p,{pixi:{alpha:1}}),_.add(this.moveGroup(p,g,{duration:1})),_.add(this.moveGroup(d,m,{duration:1})),_.to(u,{pixi:{alpha:1}}),_.to(o,{pixi:{alpha:1}}),_.to(y,{pixi:{alpha:1}}),_.add(this.moveGroup(y,v,{duration:1})),_.to([].concat(lA(p),lA(d),[o,u]),{pixi:{alpha:0}}),_.set(n.getCol(f%4),{pixi:{alpha:1}}),_}},{key:"shiftColumn",value:function(t,e){var r=Yo.timeline(),n=this.getBounds(e[0]),i=this.getBounds(e[3]);r.to(t[0],{pixi:aA(aA({},i),{},{x:i.x-100,y:(i.y+n.y)/2,zIndex:10}),duration:1},"shift-col"),r.to(t[0],{pixi:aA(aA({},i),{},{zIndex:10}),duration:1});for(var o=1;o<t.length;o++){var s=this.getBounds(e[o-1]);r.to(t[o],{pixi:aA(aA({},s),{},{zIndex:5}),duration:.8},"shift-col+=1")}return r.set(t,{pixi:{zIndex:1}}),r}},{key:"getSecondaryGridBounds",value:function(t){var e=this.getGlobalComponents().secondaryGrids[Math.floor(t/4)].get(2,t%4).getBounds();return{x:e.x,y:e.y}}},{key:"createPreFadeIn",value:function(){var t=this.getGlobalComponents(),e=t.equalsSymbol,r=t.pgTwoMovablesOg,n=t.pgTwoMovablesTranform,i=t.pgThreeMovablesOg,o=t.pgThreeMovablesTranform,s=t.addSymbol,a=t.addSymbol2,u=t.subBytesMovables,l=t.sbox,c=t.subBytesText,h=t.cipherKeyText,f=t.roundOneKeyText,p=t.roundTwoKeyText,d=t.roundThreeKeyText,y=t.roundTenKeyText,g=t.sText,m=t.aText,b=t.bText,v=t.textInitial,_=t.textXor,w=t.rotWordText,x=t.sboxText,O=t.finalGridMovables,S=t.pgFourMovablesOg,P=Yo.timeline();return P.set([].concat(lA(S.movables),lA(O.movables),lA(u.movables),lA(n.movables),lA(r.movables),lA(i.movables),lA(o.movables)),{pixi:{alpha:0}}),P.set([s,a,e,h,l,c,f,p,g,m,b,v,_,w,x,d,y],{pixi:{alpha:0}}),P}},{key:"createAnimationMain",value:function(){var t=this.getGlobalComponents(),e=t.pgOneMovablesTranform,r=t.pgTwoMovablesOg,n=t.pgTwoMovablesTranform,i=t.pgThreeMovablesOg,o=t.pgThreeMovablesTranform,s=t.cipherKeyText,a=t.roundOneKeyText,u=t.roundTwoKeyText,l=t.textXor,c=t.pgFourMovablesOg,h=t.finalGridMovables,f=t.roundThreeKeyText,p=t.roundTenKeyText,d=t.rconMovables,y=t.rconText,g=Yo.timeline();g.add(this.createFirstSubByteTimeline()),console.log(this.page.shouldHide),this.page.shouldHide||g.to(l,{pixi:{alpha:1}}),g.add(this.moveXL(4,e,n,r)),g.add(this.moveXL(5,e,n,r)),g.add(this.moveXL(6,e,n,r)),g.to(l,{pixi:{alpha:0}}),this.page.shouldHide||(g.add(this.createSecondSubTimeline()),g.add(this.moveXL(8,n,o,i)),g.add(this.moveXL(9,n,o,i)),g.add(this.moveXL(10,n,o,i))),this.page.shouldHide?(g.to([s,a],{pixi:{alpha:1}}),g.to([].concat(lA(i.movables),[u]),{pixi:{alpha:1}}),g.to(d.getCol(1),{pixi:{alpha:0}},"<")):(g.to([s,a,u],{pixi:{alpha:1}}),g.to([].concat(lA(c.movables),[f]),{pixi:{alpha:1}}),g.to(d.getCol(2),{pixi:{alpha:0}},"<"));for(var m=this.page.shouldHide?2:3;m<10;m++)g.to(d.getCol(m),{pixi:{alpha:0},duration:.1,delay:.3});return g.to(y,{pixi:{alpha:0}},"<"),g.to([].concat(lA(h.movables),[p]),{pixi:{alpha:1}}),g}},{key:"createSubByteTimeline",value:function(t,e,r){var n=this.getGlobalComponents(),i=n.sbox,o=n.subBytesText,s=Yo.timeline(),a=id(lA(t),1);s.add(this.moveGroup(e,r),{duration:.001}),s.to(i,{pixi:{alpha:1}}),this.page.shouldHide||s.to(o,{pixi:{alpha:1}},"<");for(var u=this.page.getColor("--sbox-background"),l=this.page.getColor("--sbox-highlight-color"),c=0;c<4;c++){var h=this.getSubByteCellLanding(a[c]),f=e[c];0==c?(s.set(f,{pixi:aA({},this.getBounds(h))}),s.to(f,{pixi:{alpha:1}}),s.to(f,{pixi:aA({},this.getBounds(r[0]))})):(s.to(h.getBackground(),{pixi:{tint:l}}),s.to(f,{pixi:{alpha:1}}),s.to(h.getBackground(),{pixi:{tint:u}}))}return s.to([i,o],{pixi:{alpha:0}}),s}},{key:"createFirstSubByteTimeline",value:function(){var t=this.getGlobalComponents(),e=t.primaryGrids,r=t.secondaryGrids,n=t.equalsSymbol,i=t.pgOneMovablesTranform,o=t.pgTwoMovablesOg,s=t.pgTwoMovablesTranform,a=t.rconMovables,u=t.addSymbol,l=t.addSymbol2,c=t.subBytesMovables,h=t.rotWordText,f=t.aText,p=t.sText,d=t.textInitial,y=t.bText,g=Yo.timeline(),m=i.getCol(3),b=i.getCol(0),v=a.getCol(0),_=s.getCol(0),w=e[0].getCol(3),x=r[0].getCol(0),O=r[0].getCol(3),S=r[1].getCol(2),P=r[2].getCol(1),T=e[1].getCol(0);g.set(lA(_),{pixi:{alpha:0}}),g.add(this.moveGroup(_,P,{duration:.001})),g.set(u,{pixi:aA({},this.getSecondaryGridBounds(2))}),g.set(l,{pixi:aA({},this.getSecondaryGridBounds(5))}),g.set(n,{pixi:aA({},this.getSecondaryGridBounds(8))}),this.page.shouldHide||g.to(d,{pixi:{alpha:1}});var E=O[0].getBounds();return g.to(h,{pixi:{x:E.x+50,y:E.y+30},duration:.001,delay:2}),g.to(d,{pixi:{alpha:0}}),g.add(this.moveGroup(m,O,{duration:1})),g.to([h],{pixi:{alpha:1}}),this.page.shouldHide||g.to([f,p],{pixi:{alpha:1}},"<"),g.add(this.shiftColumn(m,O,{})),g.to(h,{pixi:{alpha:0}}),g.add(this.createSubByteTimeline(m,c.getRow(0),O)),g.add(this.moveGroup(b,x,{duration:1})),g.to(u,{pixi:{alpha:1}}),g.add(this.moveGroup(v,S,{duration:1})),this.page.shouldHide||g.to(y,{pixi:{alpha:1}}),g.to(l,{pixi:{alpha:1}}),g.to(n,{pixi:{alpha:1}}),g.to(_,{pixi:{alpha:1}}),g.add(this.moveGroup(_,T,{duration:1})),g.set(o.getCol(0),{pixi:{alpha:1}}),g.to([u,l,n],{pixi:{alpha:0}}),g.to([p,f,y],{pixi:{alpha:0}}),g.to([].concat(lA(m),lA(b),lA(v),lA(c.movables)),{pixi:{alpha:0}}),g.add(this.moveGroup(m,w,{duration:.001})),g.set(m,{pixi:{alpha:1}}),g}},{key:"createSecondSubTimeline",value:function(){var t=this.getGlobalComponents(),e=t.primaryGrids,r=t.secondaryGrids,n=t.equalsSymbol,i=t.pgThreeMovablesTranform,o=t.pgThreeMovablesOg,s=t.pgTwoMovablesTranform,a=t.rconMovables,u=t.addSymbol,l=t.addSymbol2,c=t.subBytesMovables,h=t.rotWordText,f=t.aText,p=t.sText,d=(t.textInitial,t.bText),y=Yo.timeline(),g=s.getCol(3),m=s.getCol(0),b=a.getCol(1),v=i.getCol(0),_=e[1].getCol(3),w=r[1].getCol(0),x=r[1].getCol(3),O=r[2].getCol(2),S=r[3].getCol(1),P=e[2].getCol(0);y.set(lA(v),{pixi:{alpha:0}}),y.add(this.moveGroup(v,S,{duration:.001})),y.set(u,{pixi:aA({},this.getSecondaryGridBounds(6))}),y.set(l,{pixi:aA({},this.getSecondaryGridBounds(9))}),y.set(n,{pixi:aA({},this.getSecondaryGridBounds(12))});var T=x[0].getBounds();return y.to(h,{pixi:{x:T.x+50,y:T.y+30},duration:.001,delay:2}),y.add(this.moveGroup(g,x,{duration:1})),y.to(h,{pixi:{alpha:1}}),y.add(this.shiftColumn(g,x,{})),y.to(h,{pixi:{alpha:0}}),y.add(this.createSubByteTimeline(g,c.getRow(1),x)),y.set(m,{pixi:{alpha:1}}),y.add(this.moveGroup(m,w,{duration:1})),y.to(u,{pixi:{alpha:1}}),y.add(this.moveGroup(b,O,{duration:1})),y.to(l,{pixi:{alpha:1}}),y.to(n,{pixi:{alpha:1}}),y.to(v,{pixi:{alpha:1}}),y.add(this.moveGroup(v,P,{duration:1})),y.set(o.getCol(0),{pixi:{alpha:1}}),y.to([u,l,n],{pixi:{alpha:0}}),y.to([p,f,d],{pixi:{alpha:0}}),y.to([].concat(lA(g),lA(m),lA(b),lA(c.movables)),{pixi:{alpha:0}}),y.add(this.moveGroup(g,_,{duration:.001})),y.set(g,{pixi:{alpha:1}}),y}},{key:"getSubByteCellLanding",value:function(t){var e=this.getGlobalComponents().sbox,r=t.text.text,n=cy(r[0]),i=cy(r[1]);return e.grid.get(n,i)}}])&&hA(e.prototype,r),s}(Mg);function gA(t){return(gA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function mA(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function bA(t,e){return(bA=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function vA(t,e){return!e||"object"!==gA(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function _A(t){return(_A=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}const wA=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&bA(t,e)}(s,t);var e,r,n,i,o=(n=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=_A(n);if(i){var r=_A(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return vA(this,t)});function s(t,e){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),o.call(this,t,e)}return e=s,(r=[{key:"getDefines",value:function(){var t={};return t.backgroundStyles={width:this.getWidth(100),height:this.getHeight(100),fill:this.c("--page-background-gamma"),borderWidth:0},t.barStyles={width:this.getWidth(100),height:this.getHeight(5),fill:this.c("--bar-background-alpha"),borderWidth:0},t.baseGridStyles={width:120,height:100,fill:this.c("--grid-background-eta")},t.baseGridTextStyles={fontSize:14},t.finalGridPos={x:this.getWidth(96)},t.titleStyles={y:10,x:this.getWidth(90),scale:1},t.sboxStyles={x:this.getWidth(80),y:this.getHeight(54),width:340,height:260,legendWidth:24,legendColor:this.c("--sbox-legend-background")},t.sboxLegendStyles={fontSize:10},t.sBoxTextStyles={fontSize:10},t.rconStyles={fill:this.c("--grid-background-alpha"),width:this.getWidth(30),height:this.getHeight(16),x:this.getWidth(50),y:this.getHeight(96)},t.rconMovablesTextStyles={fontSize:12},t.rconMovablesStyles={fill:this.c("--grid-background-alpha")},t.firstGridStyle={fill:this.c("--grid-background-beta")},t.gridMovableStyles={fill:12763330},t.baseGridFontStyle={fontSize:16},t.subbytesMovablesStyles={fill:this.c("--grid-background-gamma")},t.xorTextPos={x:this.getWidth(96),y:this.getHeight(50)},t.initialTextPos={x:this.getWidth(96),y:this.getHeight(50)},t.sTextStylesPos={x:this.getWidth(96),y:this.getHeight(50)},t.roundKeyLabelStyles={fill:16777215,fontSize:12},t.primaryGridPos={x:50,y:50},t.secondaryGridPos={x:50,y:200},t.addSymbolStyles={radius:16,borderColor:this.c("--text-color")},t.addSymbolFontStyles={fontSize:32,fill:this.c("--text-color")},t.equalSymbolStyles={fontSize:50,fill:this.c("--text-color")},t.rconTextStyles={fill:this.c("--text-light"),fontSize:30,distanceX:20,anchor:{x:0,y:.5}},t}}])&&mA(e.prototype,r),s}(Xg);function xA(t){return(xA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function OA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function SA(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?OA(Object(r),!0).forEach((function(e){PA(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):OA(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function PA(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function TA(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function EA(t,e){return(EA=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function RA(t,e){return!e||"object"!==xA(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function AA(t){return(AA=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}const IA=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&EA(t,e)}(s,t);var e,r,n,i,o=(n=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=AA(n);if(i){var r=AA(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return RA(this,t)});function s(t,e){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),o.call(this,t,e)}return e=s,(r=[{key:"evoke",value:function(t){return t.width<=768}},{key:"getDefines",value:function(t){return t.sboxStyles=SA(SA({},t.sboxStyles),{},{x:410,y:this.getHeight(66),width:340,height:260,legendWidth:24}),t.rconStyles=SA(SA({},t.rconStyles),{},{width:240,height:96}),t}}])&&TA(e.prototype,r),s}(Xg);function jA(t){return(jA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function CA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function kA(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?CA(Object(r),!0).forEach((function(e){MA(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):CA(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function MA(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function LA(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function DA(t,e){return(DA=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function BA(t,e){return!e||"object"!==jA(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function FA(t){return(FA=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}const NA=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&DA(t,e)}(s,t);var e,r,n,i,o=(n=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=FA(n);if(i){var r=FA(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return BA(this,t)});function s(t,e){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),o.call(this,t,e)}return e=s,(r=[{key:"evoke",value:function(t){return t.width<=425}},{key:"getDefines",value:function(t){return t.baseGridStyles=kA(kA({},t.baseGridStyles),{},{width:80,height:60}),t.sboxStyles=kA(kA({},t.sboxStyles),{},{x:this.getWidth(50)+180,y:this.getHeight(66),width:320,height:260,legendWidth:24}),t.rconStyles=kA(kA({},t.rconStyles),{},{width:200,height:64}),t.roundKeyLabelStyles=kA(kA({},t.roundKeyLabelStyles),{},{fontSize:8}),t.primaryGridPos=kA(kA({},t.primaryGridPos),{},{x:this.getWidth(4),y:20}),t.secondaryGridPos=kA(kA({},t.secondaryGridPos),{},{x:this.getWidth(4),y:100}),t.baseGridFontStyle=kA(kA({},t.baseGridFontStyle),{},{fontSize:10}),t.addSymbolStyles=kA(kA({},t.addSymbolStyles),{},{radius:12}),t.addSymbolFontStyles=kA(kA({},t.addSymbolFontStyles),{},{fontSize:16}),t.equalSymbolStyles=kA(kA({},t.equalSymbolStyles),{},{fontSize:22}),t.rconTextStyles=kA(kA({},t.rconTextStyles),{},{fontSize:20,distanceX:10}),t}}])&&LA(e.prototype,r),s}(Xg);function UA(t){return(UA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function WA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function zA(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?WA(Object(r),!0).forEach((function(e){HA(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):WA(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function HA(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function XA(t){return function(t){if(Array.isArray(t))return GA(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return GA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?GA(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function GA(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function YA(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function VA(t,e){return(VA=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function qA(t,e){return!e||"object"!==UA(e)&&"function"!=typeof e?KA(t):e}function KA(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ZA(t){return(ZA=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}const JA=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&VA(t,e)}(s,t);var e,r,n,i,o=(n=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ZA(n);if(i){var r=ZA(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return qA(this,t)});function s(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(t=o.call(this)).timeline=new yA(KA(t)),t.registerResponsive("default",wA),t.registerResponsive("max-768",IA),t.registerResponsive("max-425",NA),t}return e=s,(r=[{key:"setShouldHide",value:function(t){return this.shouldHide=t.width<=700,this.shouldHide}},{key:"create",value:function(t){var e=this.createBackground(),r=new mm("title",{fill:16777215,fontSize:30});this.bindPageLocale("title",r);var n=new ed,i=new mm("=");i.anchor.set(.5,.5);var o=new mv("+"),s=new mv("+"),a={fontSize:16},u=new mm("cipherKeyLabel",a);this.bindPageLocale("cipherKeyLabel",u),u.anchor.set(.5,0);var l=new mm("roundKeyOneLabel",a);this.bindPageLocale("roundKeyOneLabel",u),l.anchor.set(.5,0);var c=new mm("roundKeyTwoLabel",a);this.bindPageLocale("roundKeyTwoLabel",u),c.anchor.set(.5,0);var h=new mm("roundKeyThreeLabel",a);this.bindPageLocale("roundKeyThreeLabel",u),h.anchor.set(.5,0);var f=new mm("roundKeyTenLabel",a);this.bindPageLocale("roundKeyTenLabel",u),f.anchor.set(1.5,0);var p={fill:16777215},d=new tf("RotWordLabel",p);this.bindPageLocale("RotWordLabel",d);var y=new tf("SubBytesLabel",p);this.bindPageLocale("SubBytesLabel",y);var g=new tf("SBoxLabel");this.bindPageLocale("SBoxLabel",g),y.anchor.set(1,.5),new tf("RconFourLabel");var m=new tf("textIntro",{wordWrap:!0,wordWrapWidth:160,fontSize:14});this.bindPageLocale("textIntro",m),m.anchor.set(1,0);var b=new tf("text",{wordWrap:!0,wordWrapWidth:160,fontSize:14});this.bindPageLocale("text",b),b.anchor.set(1,0);var v=new tf("textA",{wordWrap:!0,wordWrapWidth:160,fontSize:14});this.bindPageLocale("textA",v),v.anchor.set(1,0);var _=new tf("textB",{wordWrap:!0,wordWrapWidth:160,fontSize:14});this.bindPageLocale("textB",_),_.anchor.set(1,0);var w=new tf("textXOR",{wordWrap:!0,wordWrapWidth:160,fontSize:14});this.bindPageLocale("textXOR",w),w.anchor.set(1,0);var x=new SO;x.zIndex=20,this.subscribeTo("sbox",x.grid.cells),x.redraw({width:360,height:240,legendWidth:20},{scale:.3},{scale:.3}),x.pivot.set(360,120);var O=new uv(4,4,{},{}),S=new uv(4,4,{},{}),P=new uv(4,4,{},{}),T=new uv(4,4,{},{}),E=[O,S,P,T],R=O.createMovables(),A=O.createMovables();this.subscribeTo("key-0",R.movables),this.subscribeTo("key-0",A.movables);var I=S.createMovables(),j=S.createMovables();this.subscribeTo("key-1",I.movables),this.subscribeTo("key-1",j.movables);var C=P.createMovables(),k=P.createMovables();this.subscribeTo("key-2",C.movables),this.subscribeTo("key-2",k.movables);var M=T.createMovables();this.subscribeTo("key-3",M.movables);var L=O.createMovables();this.subscribeTo("key-schedule-sub-bytes-grid",L.movables);var D=new uv(4,4,{},{}),B=D.createMovables();this.subscribeTo("key-10",B.movables);var F=new uv(4,4,{},{}),N=new uv(4,4,{},{}),U=new uv(4,4,{},{}),W=new uv(4,4,{},{}),z=[F,N,U,W],H=new uv(4,10,{},{}),X=new mm("Rcon"),G=H.createMovables();H.alpha=0,this.subscribeTo("rcon",G.movables),this.addPermanent({background:e,bar:n,title:r,primaryGridOne:O,primaryGridTwo:S,primaryGridThree:P,primaryGridFour:T,secondaryGridOne:F,secondaryGridTwo:N,secondaryGridThree:U,secondaryGridFour:W,rcon:H,rconText:X,finalGrid:D,equalsSymbol:i,addSymbol:o,addSymbol2:s,roundOneKeyText:l,roundTwoKeyText:c,cipherKeyText:u,roundThreeKeyText:h,roundTenKeyText:f,rotWordText:d,sboxText:g,subBytesText:y,textXor:w,textInitial:m,sText:b,aText:v,bText:_}),this.addChild.apply(this,XA(R.movables).concat(XA(A.movables),XA(I.movables),XA(j.movables),XA(C.movables),XA(k.movables),XA(G.movables),XA(B.movables),XA(M.movables),[x],XA(L.movables))),this.addToGlobalComponents({sbox:x,pgFourMovablesOg:M,finalGridMovables:B,subBytesMovables:L,rconMovables:G,primaryGrids:E,secondaryGrids:z,pgOneMovablesTranform:A,pgOneMovablesOg:R,pgTwoMovablesOg:I,pgTwoMovablesTranform:j,pgThreeMovablesOg:C,pgThreeMovablesTranform:k})}},{key:"drawPage",value:function(t){var e=this.setShouldHide(t.animationDimensions),r=this.globalComponents,n=r.background,i=r.primaryGrids,o=r.secondaryGrids,s=r.rcon,a=r.rconText,u=r.title,l=r.bar,c=r.finalGrid,h=r.pgOneMovablesOg,f=r.pgOneMovablesTranform,p=r.pgTwoMovablesOg,d=r.pgTwoMovablesTranform,y=r.pgThreeMovablesOg,g=r.pgThreeMovablesTranform,m=r.addSymbol,b=r.sbox,v=r.rconMovables,_=r.addSymbol2,w=r.equalsSymbol,x=r.subBytesMovables,O=r.subBytesText,S=t.backgroundStyles;n.redraw(S);var P=t.equalSymbolStyles,T=t.addSymbolStyles,E=t.addSymbolFontStyles;w.redraw(P),m.redraw(T,E),_.redraw(T,E);var R=t.barStyles,A=t.titleStyles;u.scale.set(A.scale),u.position.set(A.x,A.y),u.anchor.set(1,0),l.redraw(R),l.position.set(0,2*u.y+u.height);var I=t.sboxStyles,j=t.sboxLegendStyles,C=t.sBoxTextStyles;b.redraw(I,j,C),b.position.set(I.x,I.y),O.position.set(b.x-360,b.y);var k=t.baseGridStyles,M=t.baseGridFontStyle,L=t.primaryGridPos,D=l.y+l.height+L.y;i.forEach((function(t,r){t.redraw(zA({},k),{});var n=0!=r?i[r-1]:null,o=n?n.x+k.width:L.x;t.position.set(o,D),3==r&&(t.alpha=e?0:1)}));var B=t.secondaryGridPos,F=D+B.y;o.forEach((function(t,r){t.redraw(zA({},k));var n=0!=r?o[r-1]:null,i=n?n.x+k.width:B.x;0==r&&(console.log(i),console.log(t)),t.position.set(i,F),3==r&&(t.alpha=e?0:1)}));var N=t.finalGridPos;c.redraw(zA({},k)),c.position.set(N.x,D),c.pivot.set(k.width,0);var U=t.rconStyles,W=t.rconTextStyles;s.redraw(zA({},U)),s.position.set(U.x,U.y),s.pivot.set(U.width/2,U.height),a.redraw(zA(zA({},W),{},{position:{x:s.x+U.width/2+W.distanceX,y:s.y-U.height/2}}));var z=this.globalComponents,H=z.pgFourMovablesOg,X=z.finalGridMovables,G=t.firstGridStyle,Y=t.gridMovableStyles,V=(t.gridTextStyle,t.subbytesMovablesStyles),q=t.rconMovablesTextStyles,K=t.rconMovablesStyles;this.redrawMovables(v,s,K,q),this.redrawMovables(h,i[0],zA({},G),M),this.redrawMovables(f,i[0],zA({},G),M),this.redrawMovables(p,i[1],Y,M),this.redrawMovables(d,i[1],Y,M),this.redrawMovables(y,i[2],Y,M),this.redrawMovables(g,i[2],Y,M),this.redrawMovables(H,i[3],Y,M),this.redrawMovables(x,i[0],V,M),this.redrawMovables(X,c,Y,M),e?H.movables.forEach((function(t){return t.alpha=0})):H.movables.forEach((function(t){return t.alpha=1})),this.colorFirstCol(8815750,p),this.colorFirstCol(8815750,d),this.colorFirstCol(8815750,y),this.colorFirstCol(8815750,g),this.colorFirstCol(8815750,H),this.colorFirstCol(8815750,X);var Z=this.globalComponents,J=Z.cipherKeyText,$=Z.roundOneKeyText,Q=Z.roundTwoKeyText,tt=Z.roundThreeKeyText,et=Z.roundTenKeyText,rt=t.roundKeyLabelStyles;this.redrawRoundKeyLabel(J,rt,i[0],k),this.redrawRoundKeyLabel($,rt,i[1],k),this.redrawRoundKeyLabel(Q,rt,i[2],k),this.redrawRoundKeyLabel(tt,rt,i[3],k),et.redraw(zA(zA({},rt),{},{position:{x:c.x-c.width/2,y:c.y+k.height+10},anchor:{x:.5,y:0}}));var nt=this.globalComponents,it=nt.textXor,ot=nt.aText,st=nt.bText,at=nt.sText,ut=nt.textInitial,lt=t.xorTextPos,ct=t.sTextStylesPos,ht=t.initialTextPos;it.position.set(lt.x,lt.y),ut.position.set(ht.x,ht.y),at.position.set(ct.x,ct.y),ot.position.set(at.x,at.y+at.height),st.position.set(at.x,ot.y+ot.height)}},{key:"redrawRoundKeyLabel",value:function(t,e,r,n){t.redraw(zA(zA({},e),{},{position:{x:r.x+n.width/2,y:r.y+n.height+10}}))}},{key:"colorFirstCol",value:function(t,e){e.getCol(0).map((function(e){return e.getBackground().tint=t}))}},{key:"redrawMovables",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};t.movables.forEach((function(t,i){var o=e.cells[i].getBounds(),s=o.x,a=o.y,u=o.width,l=o.height;t.redraw(zA({width:u,height:l},r),zA({scale:1},n)),t.position.set(s,a)}))}}])&&YA(e.prototype,r),s}(fg);function $A(t){return($A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function QA(t,e){return(QA=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function tI(t,e){return!e||"object"!==$A(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function eI(t){return(eI=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var rI={locale:eg,themes:[{name:"default",className:"theme--default",localeKey:"themeOptionDefault"},{name:"new",className:"theme--new",localeKey:"themeOptionNew"}]};const nI=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&QA(t,e)}(i,t);var e,r,n=(e=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,n=eI(e);if(r){var i=eI(this).constructor;t=Reflect.construct(n,arguments,i)}else t=n.apply(this,arguments);return tI(this,t)});function i(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(t=n.call(this,rI)).registerAnimationPage(sm,"page-1"),t.registerAnimationPage(Vb,"page-2"),t.registerAnimationPage(o_,"page-3"),t.registerAnimationPage(Z_,"page-4"),t.registerAnimationPage(bx,"page-5"),t.registerAnimationPage(iO,"page-6"),t.registerAnimationPage(sS,"page-7"),t.registerAnimationPage(ZS,"page-8"),t.registerAnimationPage(KP,"page-9"),t.registerAnimationPage(NT,"page-10"),t.registerAnimationPage(ME,"page-11"),t.registerAnimationPage(xR,"page-12"),t.registerAnimationPage(iA,"page-13"),t.registerAnimationPage(JA,"page-14"),t.buildTimeline(),t.goToFirstPage(),t.timeline.goToPage("page-5"),console.log(t.timeline.tl),t}return i}(tg);var iI=r(701),oI=r.n(iI),sI=r(144);oI()(sI.Z,{insert:"head",singleton:!1}),sI.Z.locals,window.addEventListener("load",(function(){Yo.registerPlugin(Tt,fe),fe.registerPIXI(i),new nI}),!1)},144:(t,e,r)=>{"use strict";r.d(e,{Z:()=>o});var n=r(352),i=r.n(n)()((function(t){return t[1]}));i.push([t.id,':root{--white: #ffffff;--black: #000000;--dark-grey: #333333;--dark-grey-2: #555555;--dark-grey-3: #888888;--dark-grey-4: #858585;--light-grey: #eeeeee;--light-grey-2: #cccccc;--light-grey-3: #aaaaaa;--light-grey-4: #BFBFBF;--yellow-1: #FFF997;--yellow-2: #FFCA61;--yellow-3: #DD8501;--yellow-4: #FF9901;--yellow-5: #D58204;--yellow-6: #FFC502;--yellow-7: #EEECC2;--blue-1: #008FFF;--blue-2: #2895FA;--blue-3: #567FCF;--blue-4: #2D68CB;--blue-5: #B1D7F6;--green-1: #638E34;--green-2: #A1C1B4;--red-1: #FF1A01;--red-2: #F9CCC7;--pink-1: #FFD1CB;--screen-bg: var(--black)\r\n}.theme{--text-light: var(--white);--text-dark: var(--dark-grey);--text-grey: var(--dark-grey-4);--encryptor-box: var(--dark-grey-3);--page-background-alpha: var(--black);--page-background-beta: var(--white);--page-background-gamma: var(--dark-grey-4);--page-background-delta: var(--blue-4);--page-background-zeta: var(--red-1);--page-background-eta: var(--yellow-6);--page-background-theta: var(--green-1);--page-background-iota: var(--dark-grey-2);--bar-background-alpha: var(--white);--bar-background-beta: var(--light-grey-3);--text-color: var(--black);--text-color-inverted: var(--white);--text-color-alpha: var(--yellow-3);--text-color-beta: var(--blue-3);--label-bg-alpha: var(--blue-5);--label-bg-beta: var(--red-2);--label-bg-gamma: var(--yellow-7);--label-bg-delta: var(--green-2);--label-bg-highlight-alpha: var(--blue-3);--label-bg-highlight-beta: var(--red-1);--label-bg-highlight-gamma: var(--yellow-4);--label-bg-highlight-delta: var(--green-1);--sbox-background: var(--white);--sbox-legend-background: var(--dark-grey-3);--sbox-highlight-color: var(--yellow-2);--grid-background-alpha: var(--yellow-1);--grid-background-beta: var(--blue-1);--grid-background-gamma: var(--yellow-2);--grid-background-delta: var(--pink-1);--grid-background-eta: var(--light-grey-4)}.theme--new{--text-light: var(--dark-grey-3);--grid-background-alpha: var(--light-grey);--grid-background-beta: var(--light-grey);--text-color-alpha: var(--red-1)}*{margin:0;box-sizing:border-box;padding:0}html,body{width:100%;height:100%;font-family:\'Helvetica\', \'Arial\', sans-serif}.page-background--alpha{background:var(--page-background-alpha)}.page-background--beta{background:var(--page-background-beta)}.page-background--gamma{background:var(--page-background-gamma)}.page-background--subbytes{background:var(--page-background-delta)}.page-background--shiftrows{background:var(--page-background-zeta)}.page-background--mixcolumns{background:var(--page-background-eta)}.page-background--addroundkey{background:var(--page-background-theta)}.movable{position:absolute;top:0;left:0;height:100%;width:100%;z-index:5}.landing{position:relative;display:flex;flex-direction:column}.rijndael-page{width:100%;height:100%;overflow:hidden;opacity:0}.rijndael-page__bg--black{background:black;color:#fff}.rijndael-page__bg--white{background:#fff;color:#333}.tooltip{position:relative}.tooltiptext{visibility:hidden;width:max-content;max-width:160px;background-color:#333;color:#fff;text-align:center;padding:5px 1rem;border-radius:6px;position:absolute;z-index:10;bottom:calc(100% + 5px);left:50%;transform:translateX(-50%)}@media only screen and (max-width: 56.26em){.tooltiptext{display:none}}.tooltip:hover .tooltiptext{visibility:visible}.tooltip .tooltiptext::after{content:" ";position:absolute;top:100%;left:50%;margin-left:-5px;border-width:5px;border-style:solid;border-color:#333 transparent transparent transparent}.rijndael-layout{display:flex;width:100%;height:100%}.rijndael-layout__left{flex:2}.rijndael-layout__right{flex:3}.rijndael-flex{display:flex}.rijndael-flex--center{justify-content:center;align-items:center}.ui{display:grid;background:#888;grid-template-rows:600px 3rem 16rem 26rem;grid-template-columns:12rem 1fr 8rem;overflow:hidden;grid-template-areas:"screen screen screen"\r "menuleft menu menuright"\r "info info info"\r "form form form"}@media only screen and (max-width: 56.26em){.ui{height:100%;grid-template-rows:1fr 3rem 3rem;grid-template-columns:1fr 1fr;grid-template-areas:"screen screen"\r "menutwo menutwo"\r "menuleft menuright"}}.ui__page{position:absolute;top:0;left:0;width:100%;height:100%;opacity:0;overflow:hidden}.ui__screen{background:var(--screen-bg);grid-area:screen;position:relative}.ui__screen::before{content:"loading...";color:#fff;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.ui__screen canvas{position:absolute;z-index:2}.ui__settings{grid-area:screen;display:none;z-index:5;padding:1rem;background:rgba(85,85,85,0.8)}.ui__settings-btn{grid-area:menuright;display:flex;justify-content:flex-end;padding-right:1rem;align-items:center}.ui__controlls{padding:0rem 1rem;grid-area:menuleft;display:flex;align-items:center;justify-content:flex-start}.ui__controlls>*{user-select:none}.ui__controlls .controlls__btn{margin-right:.5rem}.ui__form{grid-area:form;padding:1rem;z-index:5}@media only screen and (max-width: 56.26em){.ui__form{grid-area:screen}}.ui__info{background:#888;grid-area:info;padding:1rem}@media only screen and (max-width: 56.26em){.ui__info{grid-area:screen}}.ui__navigations{z-index:5;grid-area:menu;display:flex;justify-content:center;align-items:center;position:relative}@media only screen and (max-width: 56.26em){.ui__navigations{padding:1rem;grid-area:screen}}.ui__mobile-btns{grid-area:menutwo;display:none}.ui__mobile-btns>*{user-select:none}@media only screen and (max-width: 56.26em){.ui__mobile-btns{display:flex;background:#f00}}.ui__btn{flex:1;display:flex;justify-content:center;align-items:center;border:1px solid #aaa;background:#333;color:#fff;cursor:pointer}.ui__btn--selected{background:#555}.ui--hidden{display:block}@media only screen and (max-width: 56.26em){.ui--hidden{grid-area:screen}}.info{display:none;padding:1rem}.info__title{font-size:1.4rem;margin-bottom:1rem}.info__body{line-height:1.6rem;font-size:1rem}.navigation{height:100%;display:flex;justify-content:center;align-items:center}@media only screen and (max-width: 56.26em){.navigation{width:100%;display:block;background:#fff;position:absolute;top:0;left:0;height:100%;overflow-y:auto;overflow-x:none}}@media only screen and (max-width: 56.26em){.ui-container{width:100%;height:100%;background:rgba(85,85,85,0.8);z-index:5;display:none}}.ui-container>*{user-select:none}.ui-container--display{display:flex}.info-container{background:#fff;width:100%;height:100%;overflow-y:auto}.controlls{display:flex;width:100%}.controlls__btn{position:relative;background:#333;display:flex;border-radius:50%;width:2.4rem;height:2.4rem;cursor:pointer;justify-content:center;align-items:center;user-select:none;border:none;outline:none}.controlls__btn svg{width:1rem;height:1rem;fill:#fff}.controlls__play-icon{display:none}.controlls__pause-icon{display:block}.controlls__play-btn--paused .controlls__play-icon{display:block}.controlls__play-btn--paused .controlls__pause-icon{display:none}.navigation-item{width:2rem;height:2rem;display:flex;justify-content:center;align-items:center;background:#333;color:#fff;margin:.1rem 0;cursor:pointer}@media only screen and (max-width: 56.26em){.navigation-item{width:100%;height:auto;justify-content:flex-start;height:auto;padding:1rem 2rem}}.navigation-item--current{background:#555}@media only screen and (max-width: 56.26em){.navigation-item__number{display:none}}.navigation-item__title{display:none}@media only screen and (max-width: 56.26em){.navigation-item__title{display:block}}.rijndael-form{background:#fff;width:100%;height:100%;padding:1rem}.rijndael-form__title{font-size:2rem}.rijndael-form__info{margin:1rem 0}.rijndael-form__row{display:flex;flex-direction:column;padding:.1rem;margin-bottom:1rem}.rijndael-form__row>input{padding:.5rem 1rem}.rijndael-form__button{font-size:1rem;font-weight:bold;padding:.3rem 1rem;cursor:pointer}.settings{background:#fff;width:100%;height:100%;padding:1rem}.settings__title{font-size:2.4rem;padding-bottom:1rem;border-bottom:1px solid #aaa;max-width:40rem;margin:0 auto;margin-bottom:2rem}.settings__section{width:100%;padding:1rem;margin:1rem 0;background:#eee;border-bottom:1px solid #aaa;display:flex;align-items:center;max-width:40rem;margin:1rem auto}@media only screen and (max-width: 56.26em){.settings__section{flex-direction:column;align-items:flex-start}}.settings__section-input{padding:.5rem 2rem;font-size:1.2rem;flex:1}@media only screen and (max-width: 56.26em){.settings__section-input{width:100%}}.settings__section-label{min-width:14rem;font-weight:bold}@media only screen and (max-width: 56.26em){.settings__section-label{margin-bottom:.5rem}}\n',""]);const o=i},352:t=>{"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var r=t(e);return e[2]?"@media ".concat(e[2]," {").concat(r,"}"):r})).join("")},e.i=function(t,r,n){"string"==typeof t&&(t=[[null,t,""]]);var i={};if(n)for(var o=0;o<this.length;o++){var s=this[o][0];null!=s&&(i[s]=!0)}for(var a=0;a<t.length;a++){var u=[].concat(t[a]);n&&i[u[0]]||(r&&(u[2]?u[2]="".concat(r," and ").concat(u[2]):u[2]=r),e.push(u))}},e}},720:t=>{"use strict";function e(t,e,o){o=o||2;var s,a,u,h,f,d,y,g=e&&e.length,m=g?e[0]*o:t.length,b=r(t,0,m,o,!0),v=[];if(!b||b.next===b.prev)return v;if(g&&(b=function(t,e,i,o){var s,a,u,h=[];for(s=0,a=e.length;s<a;s++)(u=r(t,e[s]*o,s<a-1?e[s+1]*o:t.length,o,!1))===u.next&&(u.steiner=!0),h.push(p(u));for(h.sort(l),s=0;s<h.length;s++)c(h[s],i),i=n(i,i.next);return i}(t,e,b,o)),t.length>80*o){s=u=t[0],a=h=t[1];for(var _=o;_<m;_+=o)(f=t[_])<s&&(s=f),(d=t[_+1])<a&&(a=d),f>u&&(u=f),d>h&&(h=d);y=0!==(y=Math.max(u-s,h-a))?1/y:0}return i(b,v,o,s,a,y),v}function r(t,e,r,n,i){var o,s;if(i===T(t,e,r,n)>0)for(o=e;o<r;o+=n)s=O(o,t[o],t[o+1],s);else for(o=r-n;o>=e;o-=n)s=O(o,t[o],t[o+1],s);return s&&m(s,s.next)&&(S(s),s=s.next),s}function n(t,e){if(!t)return t;e||(e=t);var r,n=t;do{if(r=!1,n.steiner||!m(n,n.next)&&0!==g(n.prev,n,n.next))n=n.next;else{if(S(n),(n=e=n.prev)===n.next)break;r=!0}}while(r||n!==e);return e}function i(t,e,r,l,c,h,p){if(t){!p&&h&&function(t,e,r,n){var i=t;do{null===i.z&&(i.z=f(i.x,i.y,e,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,function(t){var e,r,n,i,o,s,a,u,l=1;do{for(r=t,t=null,o=null,s=0;r;){for(s++,n=r,a=0,e=0;e<l&&(a++,n=n.nextZ);e++);for(u=l;a>0||u>0&&n;)0!==a&&(0===u||!n||r.z<=n.z)?(i=r,r=r.nextZ,a--):(i=n,n=n.nextZ,u--),o?o.nextZ=i:t=i,i.prevZ=o,o=i;r=n}o.nextZ=null,l*=2}while(s>1)}(i)}(t,l,c,h);for(var d,y,g=t;t.prev!==t.next;)if(d=t.prev,y=t.next,h?s(t,l,c,h):o(t))e.push(d.i/r),e.push(t.i/r),e.push(y.i/r),S(t),t=y.next,g=y.next;else if((t=y)===g){p?1===p?i(t=a(n(t),e,r),e,r,l,c,h,2):2===p&&u(t,e,r,l,c,h):i(n(t),e,r,l,c,h,1);break}}}function o(t){var e=t.prev,r=t,n=t.next;if(g(e,r,n)>=0)return!1;for(var i=t.next.next;i!==t.prev;){if(d(e.x,e.y,r.x,r.y,n.x,n.y,i.x,i.y)&&g(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function s(t,e,r,n){var i=t.prev,o=t,s=t.next;if(g(i,o,s)>=0)return!1;for(var a=i.x<o.x?i.x<s.x?i.x:s.x:o.x<s.x?o.x:s.x,u=i.y<o.y?i.y<s.y?i.y:s.y:o.y<s.y?o.y:s.y,l=i.x>o.x?i.x>s.x?i.x:s.x:o.x>s.x?o.x:s.x,c=i.y>o.y?i.y>s.y?i.y:s.y:o.y>s.y?o.y:s.y,h=f(a,u,e,r,n),p=f(l,c,e,r,n),y=t.prevZ,m=t.nextZ;y&&y.z>=h&&m&&m.z<=p;){if(y!==t.prev&&y!==t.next&&d(i.x,i.y,o.x,o.y,s.x,s.y,y.x,y.y)&&g(y.prev,y,y.next)>=0)return!1;if(y=y.prevZ,m!==t.prev&&m!==t.next&&d(i.x,i.y,o.x,o.y,s.x,s.y,m.x,m.y)&&g(m.prev,m,m.next)>=0)return!1;m=m.nextZ}for(;y&&y.z>=h;){if(y!==t.prev&&y!==t.next&&d(i.x,i.y,o.x,o.y,s.x,s.y,y.x,y.y)&&g(y.prev,y,y.next)>=0)return!1;y=y.prevZ}for(;m&&m.z<=p;){if(m!==t.prev&&m!==t.next&&d(i.x,i.y,o.x,o.y,s.x,s.y,m.x,m.y)&&g(m.prev,m,m.next)>=0)return!1;m=m.nextZ}return!0}function a(t,e,r){var i=t;do{var o=i.prev,s=i.next.next;!m(o,s)&&b(o,i,i.next,s)&&w(o,s)&&w(s,o)&&(e.push(o.i/r),e.push(i.i/r),e.push(s.i/r),S(i),S(i.next),i=t=s),i=i.next}while(i!==t);return n(i)}function u(t,e,r,o,s,a){var u=t;do{for(var l=u.next.next;l!==u.prev;){if(u.i!==l.i&&y(u,l)){var c=x(u,l);return u=n(u,u.next),c=n(c,c.next),i(u,e,r,o,s,a),void i(c,e,r,o,s,a)}l=l.next}u=u.next}while(u!==t)}function l(t,e){return t.x-e.x}function c(t,e){if(e=function(t,e){var r,n=e,i=t.x,o=t.y,s=-1/0;do{if(o<=n.y&&o>=n.next.y&&n.next.y!==n.y){var a=n.x+(o-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(a<=i&&a>s){if(s=a,a===i){if(o===n.y)return n;if(o===n.next.y)return n.next}r=n.x<n.next.x?n:n.next}}n=n.next}while(n!==e);if(!r)return null;if(i===s)return r;var u,l=r,c=r.x,f=r.y,p=1/0;n=r;do{i>=n.x&&n.x>=c&&i!==n.x&&d(o<f?i:s,o,c,f,o<f?s:i,o,n.x,n.y)&&(u=Math.abs(o-n.y)/(i-n.x),w(n,t)&&(u<p||u===p&&(n.x>r.x||n.x===r.x&&h(r,n)))&&(r=n,p=u)),n=n.next}while(n!==l);return r}(t,e)){var r=x(e,t);n(e,e.next),n(r,r.next)}}function h(t,e){return g(t.prev,t,e.prev)<0&&g(e.next,t,t.next)<0}function f(t,e,r,n,i){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-r)*i)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-n)*i)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function p(t){var e=t,r=t;do{(e.x<r.x||e.x===r.x&&e.y<r.y)&&(r=e),e=e.next}while(e!==t);return r}function d(t,e,r,n,i,o,s,a){return(i-s)*(e-a)-(t-s)*(o-a)>=0&&(t-s)*(n-a)-(r-s)*(e-a)>=0&&(r-s)*(o-a)-(i-s)*(n-a)>=0}function y(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&b(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}(t,e)&&(w(t,e)&&w(e,t)&&function(t,e){var r=t,n=!1,i=(t.x+e.x)/2,o=(t.y+e.y)/2;do{r.y>o!=r.next.y>o&&r.next.y!==r.y&&i<(r.next.x-r.x)*(o-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next}while(r!==t);return n}(t,e)&&(g(t.prev,t,e.prev)||g(t,e.prev,e))||m(t,e)&&g(t.prev,t,t.next)>0&&g(e.prev,e,e.next)>0)}function g(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function m(t,e){return t.x===e.x&&t.y===e.y}function b(t,e,r,n){var i=_(g(t,e,r)),o=_(g(t,e,n)),s=_(g(r,n,t)),a=_(g(r,n,e));return i!==o&&s!==a||!(0!==i||!v(t,r,e))||!(0!==o||!v(t,n,e))||!(0!==s||!v(r,t,n))||!(0!==a||!v(r,e,n))}function v(t,e,r){return e.x<=Math.max(t.x,r.x)&&e.x>=Math.min(t.x,r.x)&&e.y<=Math.max(t.y,r.y)&&e.y>=Math.min(t.y,r.y)}function _(t){return t>0?1:t<0?-1:0}function w(t,e){return g(t.prev,t,t.next)<0?g(t,e,t.next)>=0&&g(t,t.prev,e)>=0:g(t,e,t.prev)<0||g(t,t.next,e)<0}function x(t,e){var r=new P(t.i,t.x,t.y),n=new P(e.i,e.x,e.y),i=t.next,o=e.prev;return t.next=e,e.prev=t,r.next=i,i.prev=r,n.next=r,r.prev=n,o.next=n,n.prev=o,n}function O(t,e,r,n){var i=new P(t,e,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function S(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function P(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function T(t,e,r,n){for(var i=0,o=e,s=r-n;o<r;o+=n)i+=(t[s]-t[o])*(t[o+1]+t[s+1]),s=o;return i}t.exports=e,t.exports.default=e,e.deviation=function(t,e,r,n){var i=e&&e.length,o=i?e[0]*r:t.length,s=Math.abs(T(t,0,o,r));if(i)for(var a=0,u=e.length;a<u;a++){var l=e[a]*r,c=a<u-1?e[a+1]*r:t.length;s-=Math.abs(T(t,l,c,r))}var h=0;for(a=0;a<n.length;a+=3){var f=n[a]*r,p=n[a+1]*r,d=n[a+2]*r;h+=Math.abs((t[f]-t[d])*(t[p+1]-t[f+1])-(t[f]-t[p])*(t[d+1]-t[f+1]))}return 0===s&&0===h?0:Math.abs((h-s)/s)},e.flatten=function(t){for(var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},n=0,i=0;i<t.length;i++){for(var o=0;o<t[i].length;o++)for(var s=0;s<e;s++)r.vertices.push(t[i][o][s]);i>0&&(n+=t[i-1].length,r.holes.push(n))}return r}},545:function(t,e,r){var n;!function(i){var o=i.Promise,s=o&&"resolve"in o&&"reject"in o&&"all"in o&&"race"in o&&function(){var t;return new o((function(e){t=e})),"function"==typeof t}();e?(e.Promise=s?o:T,e.Polyfill=T):void 0===(n=function(){return s?o:T}.call(e,r,e,t))||(t.exports=n);var a="pending",u="sealed",l="fulfilled",c="rejected",h=function(){};function f(t){return"[object Array]"===Object.prototype.toString.call(t)}var p,d="undefined"!=typeof setImmediate?setImmediate:setTimeout,y=[];function g(){for(var t=0;t<y.length;t++)y[t][0](y[t][1]);y=[],p=!1}function m(t,e){y.push([t,e]),p||(p=!0,d(g,0))}function b(t){var e=t.owner,r=e.state_,n=e.data_,i=t[r],o=t.then;if("function"==typeof i){r=l;try{n=i(n)}catch(t){x(o,t)}}v(o,n)||(r===l&&_(o,n),r===c&&x(o,n))}function v(t,e){var r;try{if(t===e)throw new TypeError("A promises callback cannot return that same promise.");if(e&&("function"==typeof e||"object"==typeof e)){var n=e.then;if("function"==typeof n)return n.call(e,(function(n){r||(r=!0,e!==n?_(t,n):w(t,n))}),(function(e){r||(r=!0,x(t,e))})),!0}}catch(e){return r||x(t,e),!0}return!1}function _(t,e){t!==e&&v(t,e)||w(t,e)}function w(t,e){t.state_===a&&(t.state_=u,t.data_=e,m(S,t))}function x(t,e){t.state_===a&&(t.state_=u,t.data_=e,m(P,t))}function O(t){var e=t.then_;t.then_=void 0;for(var r=0;r<e.length;r++)b(e[r])}function S(t){t.state_=l,O(t)}function P(t){t.state_=c,O(t)}function T(t){if("function"!=typeof t)throw new TypeError("Promise constructor takes a function argument");if(this instanceof T==0)throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this.then_=[],function(t,e){function r(t){x(e,t)}try{t((function(t){_(e,t)}),r)}catch(t){r(t)}}(t,this)}T.prototype={constructor:T,state_:a,then_:null,data_:void 0,then:function(t,e){var r={owner:this,then:new this.constructor(h),fulfilled:t,rejected:e};return this.state_===l||this.state_===c?m(b,r):this.then_.push(r),r.then},catch:function(t){return this.then(null,t)}},T.all=function(t){if(!f(t))throw new TypeError("You must pass an array to Promise.all().");return new this((function(e,r){var n=[],i=0;function o(t){return i++,function(r){n[t]=r,--i||e(n)}}for(var s,a=0;a<t.length;a++)(s=t[a])&&"function"==typeof s.then?s.then(o(a),r):n[a]=s;i||e(n)}))},T.race=function(t){if(!f(t))throw new TypeError("You must pass an array to Promise.race().");return new this((function(e,r){for(var n,i=0;i<t.length;i++)(n=t[i])&&"function"==typeof n.then?n.then(e,r):e(n)}))},T.resolve=function(t){return t&&"object"==typeof t&&t.constructor===this?t:new this((function(e){e(t)}))},T.reject=function(t){return new this((function(e,r){r(t)}))}}("undefined"!=typeof window?window:void 0!==r.g?r.g:"undefined"!=typeof self?self:this)},34:t=>{"use strict";var e=Object.prototype.hasOwnProperty,r="~";function n(){}function i(t,e,r){this.fn=t,this.context=e,this.once=r||!1}function o(t,e,n,o,s){if("function"!=typeof n)throw new TypeError("The listener must be a function");var a=new i(n,o||t,s),u=r?r+e:e;return t._events[u]?t._events[u].fn?t._events[u]=[t._events[u],a]:t._events[u].push(a):(t._events[u]=a,t._eventsCount++),t}function s(t,e){0==--t._eventsCount?t._events=new n:delete t._events[e]}function a(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(r=!1)),a.prototype.eventNames=function(){var t,n,i=[];if(0===this._eventsCount)return i;for(n in t=this._events)e.call(t,n)&&i.push(r?n.slice(1):n);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(t)):i},a.prototype.listeners=function(t){var e=r?r+t:t,n=this._events[e];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,o=n.length,s=new Array(o);i<o;i++)s[i]=n[i].fn;return s},a.prototype.listenerCount=function(t){var e=r?r+t:t,n=this._events[e];return n?n.fn?1:n.length:0},a.prototype.emit=function(t,e,n,i,o,s){var a=r?r+t:t;if(!this._events[a])return!1;var u,l,c=this._events[a],h=arguments.length;if(c.fn){switch(c.once&&this.removeListener(t,c.fn,void 0,!0),h){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,e),!0;case 3:return c.fn.call(c.context,e,n),!0;case 4:return c.fn.call(c.context,e,n,i),!0;case 5:return c.fn.call(c.context,e,n,i,o),!0;case 6:return c.fn.call(c.context,e,n,i,o,s),!0}for(l=1,u=new Array(h-1);l<h;l++)u[l-1]=arguments[l];c.fn.apply(c.context,u)}else{var f,p=c.length;for(l=0;l<p;l++)switch(c[l].once&&this.removeListener(t,c[l].fn,void 0,!0),h){case 1:c[l].fn.call(c[l].context);break;case 2:c[l].fn.call(c[l].context,e);break;case 3:c[l].fn.call(c[l].context,e,n);break;case 4:c[l].fn.call(c[l].context,e,n,i);break;default:if(!u)for(f=1,u=new Array(h-1);f<h;f++)u[f-1]=arguments[f];c[l].fn.apply(c[l].context,u)}}return!0},a.prototype.on=function(t,e,r){return o(this,t,e,r,!1)},a.prototype.once=function(t,e,r){return o(this,t,e,r,!0)},a.prototype.removeListener=function(t,e,n,i){var o=r?r+t:t;if(!this._events[o])return this;if(!e)return s(this,o),this;var a=this._events[o];if(a.fn)a.fn!==e||i&&!a.once||n&&a.context!==n||s(this,o);else{for(var u=0,l=[],c=a.length;u<c;u++)(a[u].fn!==e||i&&!a[u].once||n&&a[u].context!==n)&&l.push(a[u]);l.length?this._events[o]=1===l.length?l[0]:l:s(this,o)}return this},a.prototype.removeAllListeners=function(t){var e;return t?(e=r?r+t:t,this._events[e]&&s(this,e)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,t.exports=a},595:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=function(){function t(e,r,i){void 0===r&&(r=!1),n(this,t),this._fn=e,this._once=r,this._thisArg=i,this._next=this._prev=this._owner=null}return r(t,[{key:"detach",value:function(){return null!==this._owner&&(this._owner.detach(this),!0)}}]),t}();function o(t,e){return t._head?(t._tail._next=e,e._prev=t._tail,t._tail=e):(t._head=e,t._tail=e),e._owner=t,e}var s=function(){function t(){n(this,t),this._head=this._tail=void 0}return r(t,[{key:"handlers",value:function(){var t=!(arguments.length<=0||void 0===arguments[0])&&arguments[0],e=this._head;if(t)return!!e;for(var r=[];e;)r.push(e),e=e._next;return r}},{key:"has",value:function(t){if(!(t instanceof i))throw new Error("MiniSignal#has(): First arg must be a MiniSignalBinding object.");return t._owner===this}},{key:"dispatch",value:function(){var t=this._head;if(!t)return!1;for(;t;)t._once&&this.detach(t),t._fn.apply(t._thisArg,arguments),t=t._next;return!0}},{key:"add",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof t)throw new Error("MiniSignal#add(): First arg must be a Function.");return o(this,new i(t,!1,e))}},{key:"once",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof t)throw new Error("MiniSignal#once(): First arg must be a Function.");return o(this,new i(t,!0,e))}},{key:"detach",value:function(t){if(!(t instanceof i))throw new Error("MiniSignal#detach(): First arg must be a MiniSignalBinding object.");return t._owner!==this||(t._prev&&(t._prev._next=t._next),t._next&&(t._next._prev=t._prev),t===this._head?(this._head=t._next,null===t._next&&(this._tail=null)):t===this._tail&&(this._tail=t._prev,this._tail._next=null),t._owner=null),this}},{key:"detachAll",value:function(){var t=this._head;if(!t)return this;for(this._head=this._tail=null;t;)t._owner=null,t=t._next;return this}}]),t}();s.MiniSignalBinding=i,e.default=s,t.exports=e.default},813:t=>{"use strict";var e=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;function i(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},r=0;r<10;r++)e["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(t){n[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(t){return!1}}()?Object.assign:function(t,o){for(var s,a,u=i(t),l=1;l<arguments.length;l++){for(var c in s=Object(arguments[l]))r.call(s,c)&&(u[c]=s[c]);if(e){a=e(s);for(var h=0;h<a.length;h++)n.call(s,a[h])&&(u[a[h]]=s[a[h]])}}return u}},959:t=>{"use strict";t.exports=function(t,e){if(t){e=e||{};for(var r={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},n=r.parser[e.strictMode?"strict":"loose"].exec(t),i={},o=14;o--;)i[r.key[o]]=n[o]||"";return i[r.q.name]={},i[r.key[12]].replace(r.q.parser,(function(t,e,n){e&&(i[r.q.name][e]=n)})),i}}},947:function(t,e,r){var n;t=r.nmd(t),function(i){e&&e.nodeType,t&&t.nodeType;var o="object"==typeof r.g&&r.g;o.global!==o&&o.window!==o&&o.self;var s,a=2147483647,u=36,l=/^xn--/,c=/[^\x20-\x7E]/,h=/[\x2E\u3002\uFF0E\uFF61]/g,f={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},p=Math.floor,d=String.fromCharCode;function y(t){throw RangeError(f[t])}function g(t,e){for(var r=t.length,n=[];r--;)n[r]=e(t[r]);return n}function m(t,e){var r=t.split("@"),n="";return r.length>1&&(n=r[0]+"@",t=r[1]),n+g((t=t.replace(h,".")).split("."),e).join(".")}function b(t){for(var e,r,n=[],i=0,o=t.length;i<o;)(e=t.charCodeAt(i++))>=55296&&e<=56319&&i<o?56320==(64512&(r=t.charCodeAt(i++)))?n.push(((1023&e)<<10)+(1023&r)+65536):(n.push(e),i--):n.push(e);return n}function v(t){return g(t,(function(t){var e="";return t>65535&&(e+=d((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+d(t)})).join("")}function _(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function w(t,e,r){var n=0;for(t=r?p(t/700):t>>1,t+=p(t/e);t>455;n+=u)t=p(t/35);return p(n+36*t/(t+38))}function x(t){var e,r,n,i,o,s,l,c,h,f,d,g=[],m=t.length,b=0,_=128,x=72;for((r=t.lastIndexOf("-"))<0&&(r=0),n=0;n<r;++n)t.charCodeAt(n)>=128&&y("not-basic"),g.push(t.charCodeAt(n));for(i=r>0?r+1:0;i<m;){for(o=b,s=1,l=u;i>=m&&y("invalid-input"),((c=(d=t.charCodeAt(i++))-48<10?d-22:d-65<26?d-65:d-97<26?d-97:u)>=u||c>p((a-b)/s))&&y("overflow"),b+=c*s,!(c<(h=l<=x?1:l>=x+26?26:l-x));l+=u)s>p(a/(f=u-h))&&y("overflow"),s*=f;x=w(b-o,e=g.length+1,0==o),p(b/e)>a-_&&y("overflow"),_+=p(b/e),b%=e,g.splice(b++,0,_)}return v(g)}function O(t){var e,r,n,i,o,s,l,c,h,f,g,m,v,x,O,S=[];for(m=(t=b(t)).length,e=128,r=0,o=72,s=0;s<m;++s)(g=t[s])<128&&S.push(d(g));for(n=i=S.length,i&&S.push("-");n<m;){for(l=a,s=0;s<m;++s)(g=t[s])>=e&&g<l&&(l=g);for(l-e>p((a-r)/(v=n+1))&&y("overflow"),r+=(l-e)*v,e=l,s=0;s<m;++s)if((g=t[s])<e&&++r>a&&y("overflow"),g==e){for(c=r,h=u;!(c<(f=h<=o?1:h>=o+26?26:h-o));h+=u)O=c-f,x=u-f,S.push(d(_(f+O%x,0))),c=p(O/x);S.push(d(_(c,0))),o=w(r,v,n==i),r=0,++n}++r,++e}return S.join("")}s={version:"1.3.2",ucs2:{decode:b,encode:v},decode:x,encode:O,toASCII:function(t){return m(t,(function(t){return c.test(t)?"xn--"+O(t):t}))},toUnicode:function(t){return m(t,(function(t){return l.test(t)?x(t.slice(4).toLowerCase()):t}))}},void 0===(n=function(){return s}.call(e,r,e,t))||(t.exports=n)}()},63:t=>{"use strict";function e(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,r,n,i){r=r||"&",n=n||"=";var o={};if("string"!=typeof t||0===t.length)return o;var s=/\+/g;t=t.split(r);var a=1e3;i&&"number"==typeof i.maxKeys&&(a=i.maxKeys);var u=t.length;a>0&&u>a&&(u=a);for(var l=0;l<u;++l){var c,h,f,p,d=t[l].replace(s,"%20"),y=d.indexOf(n);y>=0?(c=d.substr(0,y),h=d.substr(y+1)):(c=d,h=""),f=decodeURIComponent(c),p=decodeURIComponent(h),e(o,f)?Array.isArray(o[f])?o[f].push(p):o[f]=[o[f],p]:o[f]=p}return o}},957:t=>{"use strict";var e=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,r,n,i){return r=r||"&",n=n||"=",null===t&&(t=void 0),"object"==typeof t?Object.keys(t).map((function(i){var o=encodeURIComponent(e(i))+n;return Array.isArray(t[i])?t[i].map((function(t){return o+encodeURIComponent(e(t))})).join(r):o+encodeURIComponent(e(t[i]))})).join(r):i?encodeURIComponent(e(i))+n+encodeURIComponent(e(t)):""}},582:(t,e,r)=>{"use strict";e.decode=e.parse=r(63),e.encode=e.stringify=r(957)},701:(t,e,r)=>{"use strict";var n,i=function(){var t={};return function(e){if(void 0===t[e]){var r=document.querySelector(e);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(t){r=null}t[e]=r}return t[e]}}(),o=[];function s(t){for(var e=-1,r=0;r<o.length;r++)if(o[r].identifier===t){e=r;break}return e}function a(t,e){for(var r={},n=[],i=0;i<t.length;i++){var a=t[i],u=e.base?a[0]+e.base:a[0],l=r[u]||0,c="".concat(u," ").concat(l);r[u]=l+1;var h=s(c),f={css:a[1],media:a[2],sourceMap:a[3]};-1!==h?(o[h].references++,o[h].updater(f)):o.push({identifier:c,updater:y(f,e),references:1}),n.push(c)}return n}function u(t){var e=document.createElement("style"),n=t.attributes||{};if(void 0===n.nonce){var o=r.nc;o&&(n.nonce=o)}if(Object.keys(n).forEach((function(t){e.setAttribute(t,n[t])})),"function"==typeof t.insert)t.insert(e);else{var s=i(t.insert||"head");if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(e)}return e}var l,c=(l=[],function(t,e){return l[t]=e,l.filter(Boolean).join("\n")});function h(t,e,r,n){var i=r?"":n.media?"@media ".concat(n.media," {").concat(n.css,"}"):n.css;if(t.styleSheet)t.styleSheet.cssText=c(e,i);else{var o=document.createTextNode(i),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(o,s[e]):t.appendChild(o)}}function f(t,e,r){var n=r.css,i=r.media,o=r.sourceMap;if(i?t.setAttribute("media",i):t.removeAttribute("media"),o&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}var p=null,d=0;function y(t,e){var r,n,i;if(e.singleton){var o=d++;r=p||(p=u(e)),n=h.bind(null,r,o,!1),i=h.bind(null,r,o,!0)}else r=u(e),n=f.bind(null,r,e),i=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(r)};return n(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;n(t=e)}else i()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=(void 0===n&&(n=Boolean(window&&document&&document.all&&!window.atob)),n));var r=a(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var n=0;n<r.length;n++){var i=s(r[n]);o[i].references--}for(var u=a(t,e),l=0;l<r.length;l++){var c=s(r[l]);0===o[c].references&&(o[c].updater(),o.splice(c,1))}r=u}}}},44:(t,e,r)=>{"use strict";var n=r(947),i=r(944);function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}e.parse=v,e.resolve=function(t,e){return v(t,!1,!0).resolve(e)},e.resolveObject=function(t,e){return t?v(t,!1,!0).resolveObject(e):e},e.format=function(t){return i.isString(t)&&(t=v(t)),t instanceof o?t.format():o.prototype.format.call(t)},e.Url=o;var s=/^([a-z0-9.+-]+:)/i,a=/:[0-9]*$/,u=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,l=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),c=["'"].concat(l),h=["%","/","?",";","#"].concat(c),f=["/","?","#"],p=/^[+a-z0-9A-Z_-]{0,63}$/,d=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,y={javascript:!0,"javascript:":!0},g={javascript:!0,"javascript:":!0},m={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},b=r(582);function v(t,e,r){if(t&&i.isObject(t)&&t instanceof o)return t;var n=new o;return n.parse(t,e,r),n}o.prototype.parse=function(t,e,r){if(!i.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var o=t.indexOf("?"),a=-1!==o&&o<t.indexOf("#")?"?":"#",l=t.split(a);l[0]=l[0].replace(/\\/g,"/");var v=t=l.join(a);if(v=v.trim(),!r&&1===t.split("#").length){var _=u.exec(v);if(_)return this.path=v,this.href=v,this.pathname=_[1],_[2]?(this.search=_[2],this.query=e?b.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var w=s.exec(v);if(w){var x=(w=w[0]).toLowerCase();this.protocol=x,v=v.substr(w.length)}if(r||w||v.match(/^\/\/[^@\/]+@[^@\/]+/)){var O="//"===v.substr(0,2);!O||w&&g[w]||(v=v.substr(2),this.slashes=!0)}if(!g[w]&&(O||w&&!m[w])){for(var S,P,T=-1,E=0;E<f.length;E++)-1!==(R=v.indexOf(f[E]))&&(-1===T||R<T)&&(T=R);for(-1!==(P=-1===T?v.lastIndexOf("@"):v.lastIndexOf("@",T))&&(S=v.slice(0,P),v=v.slice(P+1),this.auth=decodeURIComponent(S)),T=-1,E=0;E<h.length;E++){var R;-1!==(R=v.indexOf(h[E]))&&(-1===T||R<T)&&(T=R)}-1===T&&(T=v.length),this.host=v.slice(0,T),v=v.slice(T),this.parseHost(),this.hostname=this.hostname||"";var A="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!A)for(var I=this.hostname.split(/\./),j=(E=0,I.length);E<j;E++){var C=I[E];if(C&&!C.match(p)){for(var k="",M=0,L=C.length;M<L;M++)C.charCodeAt(M)>127?k+="x":k+=C[M];if(!k.match(p)){var D=I.slice(0,E),B=I.slice(E+1),F=C.match(d);F&&(D.push(F[1]),B.unshift(F[2])),B.length&&(v="/"+B.join(".")+v),this.hostname=D.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),A||(this.hostname=n.toASCII(this.hostname));var N=this.port?":"+this.port:"",U=this.hostname||"";this.host=U+N,this.href+=this.host,A&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==v[0]&&(v="/"+v))}if(!y[x])for(E=0,j=c.length;E<j;E++){var W=c[E];if(-1!==v.indexOf(W)){var z=encodeURIComponent(W);z===W&&(z=escape(W)),v=v.split(W).join(z)}}var H=v.indexOf("#");-1!==H&&(this.hash=v.substr(H),v=v.slice(0,H));var X=v.indexOf("?");if(-1!==X?(this.search=v.substr(X),this.query=v.substr(X+1),e&&(this.query=b.parse(this.query)),v=v.slice(0,X)):e&&(this.search="",this.query={}),v&&(this.pathname=v),m[x]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){N=this.pathname||"";var G=this.search||"";this.path=N+G}return this.href=this.format(),this},o.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",n=this.hash||"",o=!1,s="";this.host?o=t+this.host:this.hostname&&(o=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&i.isObject(this.query)&&Object.keys(this.query).length&&(s=b.stringify(this.query));var a=this.search||s&&"?"+s||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||m[e])&&!1!==o?(o="//"+(o||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):o||(o=""),n&&"#"!==n.charAt(0)&&(n="#"+n),a&&"?"!==a.charAt(0)&&(a="?"+a),e+o+(r=r.replace(/[?#]/g,(function(t){return encodeURIComponent(t)})))+(a=a.replace("#","%23"))+n},o.prototype.resolve=function(t){return this.resolveObject(v(t,!1,!0)).format()},o.prototype.resolveObject=function(t){if(i.isString(t)){var e=new o;e.parse(t,!1,!0),t=e}for(var r=new o,n=Object.keys(this),s=0;s<n.length;s++){var a=n[s];r[a]=this[a]}if(r.hash=t.hash,""===t.href)return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var u=Object.keys(t),l=0;l<u.length;l++){var c=u[l];"protocol"!==c&&(r[c]=t[c])}return m[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!m[t.protocol]){for(var h=Object.keys(t),f=0;f<h.length;f++){var p=h[f];r[p]=t[p]}return r.href=r.format(),r}if(r.protocol=t.protocol,t.host||g[t.protocol])r.pathname=t.pathname;else{for(var d=(t.pathname||"").split("/");d.length&&!(t.host=d.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==d[0]&&d.unshift(""),d.length<2&&d.unshift(""),r.pathname=d.join("/")}if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var y=r.pathname||"",b=r.search||"";r.path=y+b}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var v=r.pathname&&"/"===r.pathname.charAt(0),_=t.host||t.pathname&&"/"===t.pathname.charAt(0),w=_||v||r.host&&t.pathname,x=w,O=r.pathname&&r.pathname.split("/")||[],S=(d=t.pathname&&t.pathname.split("/")||[],r.protocol&&!m[r.protocol]);if(S&&(r.hostname="",r.port=null,r.host&&(""===O[0]?O[0]=r.host:O.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===d[0]?d[0]=t.host:d.unshift(t.host)),t.host=null),w=w&&(""===d[0]||""===O[0])),_)r.host=t.host||""===t.host?t.host:r.host,r.hostname=t.hostname||""===t.hostname?t.hostname:r.hostname,r.search=t.search,r.query=t.query,O=d;else if(d.length)O||(O=[]),O.pop(),O=O.concat(d),r.search=t.search,r.query=t.query;else if(!i.isNullOrUndefined(t.search))return S&&(r.hostname=r.host=O.shift(),(A=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=A.shift(),r.host=r.hostname=A.shift())),r.search=t.search,r.query=t.query,i.isNull(r.pathname)&&i.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r;if(!O.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var P=O.slice(-1)[0],T=(r.host||t.host||O.length>1)&&("."===P||".."===P)||""===P,E=0,R=O.length;R>=0;R--)"."===(P=O[R])?O.splice(R,1):".."===P?(O.splice(R,1),E++):E&&(O.splice(R,1),E--);if(!w&&!x)for(;E--;E)O.unshift("..");!w||""===O[0]||O[0]&&"/"===O[0].charAt(0)||O.unshift(""),T&&"/"!==O.join("/").substr(-1)&&O.push("");var A,I=""===O[0]||O[0]&&"/"===O[0].charAt(0);return S&&(r.hostname=r.host=I?"":O.length?O.shift():"",(A=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=A.shift(),r.host=r.hostname=A.shift())),(w=w||r.host&&O.length)&&!I&&O.unshift(""),O.length?r.pathname=O.join("/"):(r.pathname=null,r.path=null),i.isNull(r.pathname)&&i.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r},o.prototype.parseHost=function(){var t=this.host,e=a.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},944:t=>{"use strict";t.exports={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}}},e={};function r(n){var i=e[n];if(void 0!==i)return i.exports;var o=e[n]={id:n,loaded:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.loaded=!0,o.exports}r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.nmd=t=>(t.paths=[],t.children||(t.children=[]),t),r(542)})();